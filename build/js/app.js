GoToTrip=function(){function t(){C||(C=setTimeout(function(){C=null,e.fixArticleScrollTablePosition(),k&&e.showArtidleShadow()},66))}var e=this,i=$(document.body),n=$(document),o=$(window),s={top:!1,left:!1},a=$("#gt-is-360"),r=($("#gt-is-480"),$("#gt-is-667")),c=$("#gt-is-768"),l=$("#gt-is-1024"),d=($("#gt-is-1231"),$("header")),g=$("footer"),f=$("#gt-wrapper"),h=$("#gt-up"),u=$("#gt-mobile-menu-switch"),v=$(".gt-enter"),m=$("#gt-header-enter-wrapper"),p=$("#gt-header-enter"),b=$("#gt-header-enter-chose"),w=$("#gt-header-enter-close");if(this.fixBody=function(){s.top||s.left||(s.top=n.scrollTop(),s.left=i.offset().left,i.css({position:"fixed",left:s.left+"px",top:-1*s.top+"px"}))},this.unfixBody=function(){i.css({position:"",left:"",top:""}),n.scrollTop(s.top),s.top=!1,s.left=!1},this.footerHeight=function(){g.outerHeight()>o.height()-50?(g.css("position","static"),f.css("margin-bottom",""),h.css("position","static")):(g.css("position",""),h.css("position",""),f.css("margin-bottom",g.outerHeight()+"px"))},this.deskTopMenuScroll=function(){o.scrollTop()>d.outerHeight()?d.addClass("gt-header-scrolled"):d.removeClass("gt-header-scrolled")},this.pageUp=function(){return $("body,html").animate({scrollTop:0},800),!1},this.upPageButton=function(){$(document).scrollTop()>30?h.addClass("gt-visible"):h.removeClass("gt-visible")},h.on("click",e.pageUp),this.mobileMenuClose=function(){e.unfixBody(),u.removeClass("gt-open"),d.removeClass("gt-open")},this.mobileMenuOpen=function(){e.fixBody(),d.addClass("gt-open"),u.addClass("gt-open")},u.on("click",function(){$(this).hasClass("gt-open")?e.mobileMenuClose():e.mobileMenuOpen()}),this.openEnterForm=function(){m.addClass("gt-open"),setTimeout(function(){p.addClass("gt-open"),w.addClass("gt-open")})},this.closeEnterForm=function(){w.removeClass("gt-open"),p.removeClass("gt-open"),setTimeout(function(){m.removeClass("gt-open")},750)},this.changeEnterRegistration=function(t){p.hasClass($(t.target).attr("class"))||p.removeClass("gt-chosen-enter").removeClass("gt-chosen-registration").addClass($(t.target).attr("class"))},v.each(function(){$(this).on("click",e.openEnterForm)}),w.on("click",e.closeEnterForm),b.on("click",function(t){e.changeEnterRegistration(t)}),this.setBackground=function(){$(".gt-img-holder").each(function(){if($(this).attr("data-bg")){var t=$(this).attr("data-bg");r.is(":visible")?$(this).css("background-image",'url("./img/backgrounds/phone/'+t+'")'):l.is(":visible")?$(this).css("background-image",'url("./img/backgrounds/tablet/'+t+'")'):$(this).css("background-image",'url("./img/backgrounds/desktop/'+t+'")')}})},this.imgHolderFunc=function(t){var e=t.outerHeight()/t.outerWidth(),i=t.find("img");i.outerHeight()/i.outerWidth()>e?$(t).addClass("gt-width"):$(t).addClass("gt-height"),$(t).addClass("gt-visible")},$("div").is(".gt-img-holder")&&e.setBackground(),this.createSliders=function(){$(".gt-slider").each(function(){function t(){l=1,f.attr("data-count")&&(l=parseInt(f.attr("data-count")),$(c).is(":visible")&&(l=3),$(r).is(":visible")&&(l=2),$(a).is(":visible")&&(l=1))}function i(){u&&f.find(".gt-slider-arrow-holder").html(""),d=f.outerWidth()/l,f.find(".gt-slider-container").outerWidth((b+1)*d),p.each(function(){$(this).outerWidth(d)}),b>l&&(u&&function(){var t="";m&&(t='<div class="gt-slider-arrow-num"><i class="gt-slider-num-curr">1</i> <i>из</i> <i class="gt-slider-num-max">10</i> </div>');f.find(".gt-slider-arrow-holder").html('<span class = "gt-slider-arrow left"><i class="fa fa-angle-left fa-2x"></i></span>'+t+'<span class = "gt-slider-arrow right"><i class="fa fa-angle-right fa-2x"></i></span>'),f.find(".left").off().on("click",function(){o(!1)}),f.find(".right").off().on("click",function(){o(!0)}),n(),m&&s()}(),v&&function(){for(var t=f.find(".gt-slider-nav"),e="",i=0;i<b;i++)e+="<span data-num = "+i+"></span>";t.html(e),t.find("span").first().addClass("gt-active"),f.find(".gt-slider-nav span").off().on("click",function(){o(!0,+$(this).attr("data-num"))})}()),g=f.outerHeight(),f.find(".gt-img-holder").outerHeight(g)}function n(){var t=f.find(".left"),e=f.find(".right");e.removeClass("not-active"),t.removeClass("not-active"),0==h&&t.addClass("not-active"),h!=b-1&&h!=b-l||e.addClass("not-active")}function o(t,i){return i||0===i?h=i:t?h+=1:h-=1,h>b-l?(h=b-l,void e.sliderEndLeft(f)):h<0?(h=0,void e.sliderEndRight(f)):(e.sliderMove(f,d,h),u&&n(),void(m&&s()))}function s(){f.find(".gt-slider-num-curr").text(h+1),f.find(".gt-slider-num-max").text(b)}var l,d,g,f=$(this),h=0,u=!1,v=!1,m=!1,p=f.find(".gt-slider-inner"),b=p.length;f.hasClass("gt-slider-has-arrow")&&(u=!0,f.hasClass("gt-slider-num")&&(m=!0),f.append('<div class="gt-slider-arrow-holder"></div>')),f.hasClass("gt-slider-has-dots")&&(v=!0,f.append('<div class="gt-slider-nav"></div>')),t(),i(),function(){var t=0,e=0;f.on("touchstart",function(e){var i=e.originalEvent;t=Math.abs(i.touches[0].pageX)}),f.on("touchend",function(i){var n=i.originalEvent;e=Math.abs(n.changedTouches[0].pageX),Math.abs(t-e)>50&&o(!(t>e))})}(),f.find(".gt-slider-open-clone")&&f.find(".gt-slider-open-clone").each(function(){$(this).on("click",function(){e.createCloneSlider(f,$(this).parent().index())})}),$(window).resize(function(){t(),i(),h>b-l&&(h=b-l),b<=l&&(h=0),e.sliderMove(f,d,h)})})},this.createCloneSlider=function(t,i){function n(){if((a+=1)>g-1)return a=g-1,void e.sliderEndRight(r);e.sliderMove(r,f,a),s()}function o(){if((a-=1)<0)return a=0,void e.sliderEndLeft(r);e.sliderMove(r,f,a),s()}function s(){if($("#gt-clone-arrow-left")){var t=$("#gt-clone-arrow-left"),e=$("#gt-clone-arrow-right");e.removeClass("not-active"),t.removeClass("not-active"),0==a&&t.addClass("not-active"),a==g-1&&e.addClass("not-active")}}if(!$("div").is("#gt-clone-close")){e.fixBody();var a=i;$("#gt-body-wrapper").show().append('<div id = "gt-clone" class="gt-slider-clone"><div id = "gt-clone-close" class = "gt-slider-clone-close"></div><div class="container"><div id = "gt-clone-inner" class = "gt-slider-clone-inner"><div id = "gt-clone-container" class = "gt-slider-container gt-slider-clone-container"></div></div></div></div>');var r=$("#gt-clone-inner"),c=t.find(".gt-slider-inner").clone(!0),l=c.length;c.each(function(){$(this).removeClass("gt-slider-inner").addClass("gt-clone-slider-inner"),$(this).find(".gt-slider-inner-cover").remove(),$("#gt-clone-container").append($(this))}),l>1&&($("#gt-clone .container").append('<span class = "gt-slider-arrow left" id = "gt-clone-arrow-left"><i class="fa fa-angle-left fa-2x"></i></span><span class = "gt-slider-arrow right" id = "gt-clone-arrow-right"><i class="fa fa-angle-right fa-2x"></i></span>'),$("#gt-clone-arrow-left").on("click",o),$("#gt-clone-arrow-right").on("click",n));var d=r.find("#gt-clone-container"),g=c.length,f=r.outerWidth();c.each(function(){$(this).outerWidth(f)}),d.outerWidth(f*(g+1)),d.css("margin-left",-1*f*a+"px"),setTimeout(function(){d.addClass("gt-animated")}),s();var h=0,u=0;r.on("touchstart",function(t){var e=t.originalEvent;h=Math.abs(e.touches[0].pageX)}),r.on("touchend",function(t){var e=t.originalEvent;u=Math.abs(e.changedTouches[0].pageX),Math.abs(h-u)>50&&(h>u?o():n())}),$("#gt-clone-close").on("click",function(){e.destroyCloneSlider()})}},this.destroyCloneSlider=function(){$("#gt-clone-arrow-right").off(),$("#gt-clone-arrow-left").off(),$("#gt-clone-close").off(),$("#gt-clone-inner").off(),$("#gt-clone").remove(),$("#gt-body-wrapper").hide(),e.unfixBody()},this.sliderEndLeft=function(t){console.log("left_end")},this.sliderEndRight=function(t){console.log("right_end")},this.sliderMove=function(t,e,i){if(t.find(".gt-slider-nav")){var n=t.find(".gt-slider-nav span");n.removeClass("gt-active"),$(n[i]).addClass("gt-active")}t.find(".gt-slider-container").css("margin-left",-1*e*i+"px")},this.numberCollectionArticle=function(t){t.find(".gt-collection-link-wrapper").each(function(){$(this).find(".gt-collection-link-slider-wrapper").after('<div class = "gt-collection-link-number"><span>'+($(this).index()+1)+"</span></div>")})},$("div").is(".gt-collection-wrapper-num")&&$(".gt-collection-wrapper-num").each(function(){e.numberCollectionArticle($(this))}),$("div").is(".gt-slider")&&e.createSliders(),this.manageGtActiveUlMenu=function(t){"li"!=t.tagName&&(t=$(t).closest("li")),$(t).closest($("ul")).find("li").removeClass("gt-active"),$(t).addClass("gt-active")},$("*").is(".gt-hundret-menu")&&$(".gt-hundret-menu").on("click",function(t){t.preventDefault(),e.manageGtActiveUlMenu(t.target)}),$("*").is(".gt-button-menu")&&$(".gt-button-menu").on("click",function(t){t.preventDefault(),e.manageGtActiveUlMenu(t.target)}),$("*").is(".gt-menu-news")&&$(".gt-menu-news").on("click",function(t){t.preventDefault(),e.manageGtActiveUlMenu(t.target)}),this.tabSlider=function(){$(".gt-tabs").each(function(){var t=$(this);t.find(".gt-tabs-button").each(function(){$(this).on("click",function(){e.tabSliderAction(t,$(this).index())})}),e.tabSliderActivation(t)})},this.tabSliderActivation=function(t){$(t.find(".gt-tabs-button")).removeClass("active"),$(t.find(".gt-tabs-main")).removeClass("active"),$(t.find(".gt-tabs-main")).hide(),$(t.find(".gt-tabs-button")[0]).addClass("active"),$(t.find(".gt-tabs-main")[0]).show(),$(t.find(".gt-tabs-main")[0]).addClass("active")},this.tabSliderAction=function(t,e){$(t.find(".gt-tabs-button")).removeClass("active"),$(t.find(".gt-tabs-main")).removeClass("active"),$(t.find(".gt-tabs-main")).hide(),$(t.find(".gt-tabs-button")[e]).addClass("active"),$(t.find(".gt-tabs-main")[e]).show(),$(t.find(".gt-tabs-main")[e]).addClass("active")},$("div").is(".gt-tabs")&&e.tabSlider(),this.setPlayers=function(){var t=document.createElement("script");t.type="text/javascript",t.src="https://www.youtube.com/player_api";var i=$("script")[$("script").length-1];i.parentNode.insertBefore(t,i);$(".gt-video").each(function(){var t=$(this);t.find(".gt-video-switch").on("click",function(){$(this).addClass("gt-open"),t.addClass("gt-open"),e.addYouTube(t)})})},this.addYouTube=function(t){function e(){n.mute(),n.playVideo(),t.addClass("gt-video-on"),t.find(".gt-video-uncover").on("click",i),t.find(".gt-video-pause").on("click",function(){n.pauseVideo()}),t.find(".gt-video-play").on("click",function(){n.playVideo()})}function i(){console.log("playFullScreen");var e=t.find("iframe")[0],i=e.requestFullScreen||e.mozRequestFullScreen||e.webkitRequestFullScreen;i&&i.bind(e)()}var n,o="gt-video-"+t.index();t.find(".gt-video-switch").hide("slow"),t.find(".gt-video-inner").attr("id",o).addClass("gt-video-foreground"),n=new YT.Player(o,{width:600,height:400,videoId:t.attr("data-youtube"),playerVars:{playlist:t.attr("data-youtube"),color:"white",loop:1,autoplay:1},events:{onReady:e}})},$("div").is(".gt-video")&&e.setPlayers(),this.fixArticleScrollTablePosition=function(){var t=$(".gt-article-table-wrapper"),e=t.parent(),i=e.position().top,s=i+e.outerHeight(),a=t.outerWidth(),r=n.scrollTop(),c=o.outerHeight();i>r&&t.hasClass("gt-fixed")&&(t.removeClass("gt-fixed"),t.css({left:"",width:""})),i<r+90&&(t.hasClass("gt-fixed")||(t.css({left:t.offset().left+"px",width:a}),t.addClass("gt-fixed")),r+c>s?t.addClass("gt-fixed-bottom"):t.removeClass("gt-fixed-bottom")),t.hasClass("gt-fixed")?t.css({height:c-120+"px"}):t.css({height:""})},this.createArticteScrollTable=function(){if($("div").is(".gt-article")){var t="";$(".gt-article").each(function(){t+='<div class = "gt-article-scroll"><div class = "gt-article-scroll-shadow"></div><p>'+$(this).find("h2").text()+"</p></div>"}),$("#gt-article-scroll-table").html(t)}},this.showArtidleShadow=function(){$(".gt-article").each(function(){var t=$(this).position().top,e=$(this).outerHeight(),i=$(document).scrollTop(),n=0;(n=t>i?0:(i-t)/e)>1&&(n=1);var o=$(".gt-article-scroll")[$(this).index()];$(o).find(".gt-article-scroll-shadow").css("width",100*n+"%")})},$("div").is(".gt-article-table-wrapper")){var C,k=!1;$("div").is(".gt-article-scroll-table")&&(k=!0,e.createArticteScrollTable(),e.showArtidleShadow()),o.scroll(t),o.resize(t)}this.setCurrTime=function(){e.currTime();setInterval(e.currTime,3e4)},this.currTime=function(){$(".gt-curr-time").each(function(){var t=new Date;$(this).attr("data-gmt")&&t.setUTCHours(+$(this).attr("data-gmt"));var e=t.getHours(),i=t.getMinutes(),n=t.getDay(),o=t.getDate(),s=t.getMonth(),a=t.getFullYear();e<10&&(e="0"+e),i<10&&(i="0"+i),n=["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"][n],s=["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"][s],$(".gt-curr-time-time")&&$(".gt-curr-time-time").html(e+":"+i),$(".gt-curr-time-date")&&$(".gt-curr-time-date").html(n+", "+o+" "+s+" "+a)})},$("div").is(".gt-curr-time")&&e.setCurrTime(),this.innerScroll=function(t){t.find(".overview").height()>t.height()&&(t.addClass("isScrolled"),t.tinyscrollbar({thumbSize:40,wheelSpeed:10}))},$("div").is(".gt-inner-scroll")&&$(".gt-inner-scroll").each(function(){e.innerScroll($(this))}),this.createIconsItemsClick=function(){$(".gt-view-cards-icons-item").each(function(){$(this).hasClass("gt-view-cards-icons-visit")?e.createVisitLink($(this)):$(this).hasClass("gt-view-cards-icons-bookmarks")?e.createBookmarksLink($(this)):$(this).hasClass("gt-view-cards-icons-pin")||$(this).hasClass("gt-view-cards-icons-share")?e.toggleGtActive($(this)):$(this).hasClass("gt-view-cards-icons-share")&&e.createShareLink($(this))})},this.createShareLink=function(t){t.removeClass("gt-active"),t.on("click",function(){t.toggleClass("gt-active")})},this.toggleGtActive=function(t){(t=$(t)).removeClass("gt-active"),t.on("click",function(){t.toggleClass("gt-active")})},this.createVisitLink=function(t){t.closest(".gt-view-cards-inner").attr("data-href")&&t.on("click",function(){e.addVisitedLink(t)})},this.addVisitedLink=function(t){alert("послали данные на бек",t.closest(".gt-view-cards-inner").attr("data-href")),t.toggleClass("gt-active")},this.addBookmark=function(t,e,i){try{window.external.AddFavorite(e,i)}catch(n){try{window.sidebar.addPanel(i,e,"")}catch(n){if("object"==typeof opera)return t.title=i,t.url=e,!0;alert("Нажмите Ctrl-D чтобы добавить страницу в закладки")}}return!1},this.createBookmarksLink=function(t){var i=(t=$(t)).closest(".gt-view-cards-inner");(i=$(i)).attr("data-href")||i.attr("data-href",window.location.href),i.attr("data-bookmark")||i.attr("data-bookmark","GoToTrip"),t.attr("href",i.attr("data-href")),t.attr("rel","sidebar"),t.on("click",function(n){n.preventDefault(),e.addBookmark(t,i.attr("data-href"),i.attr("data-bookmark"))})},$("*").is(".gt-view-cards-icons-bookmarks")&&e.createBookmarksLink(),$("*").is(".gt-view-cards-icons-item")&&e.createIconsItemsClick(),$("#gt-enter-form-facebook").on("click",function(){e.socialEnter("facebook")}),$("#gt-enter-form-twitter").on("click",function(){e.socialEnter("twitter")}),$("#gt-enter-form-google").on("click",function(){e.socialEnter("google")}),$("#gt-reg-form-facebook").on("click",function(){e.socialRegistration("facebook")}),$("#gt-reg-form-twitter").on("click",function(){e.socialRegistration("twitter")}),$("#gt-reg-form-google").on("click",function(){e.socialRegistration("google")}),this.socialRegistration=function(t){alert("Регистрация через "+t)},this.socialEnter=function(t){alert("Вход через "+t)},this.cutNews=function(t){for(var e=t.height(),i=t.find("a"),n=0;n<i.length;n++)if($(i[n]).outerHeight(!0)<e)$(i[n]).addClass("gt-ready"),e-=$(i[n]).outerHeight(!0);else{var o=Math.floor(($(i[n]).text().length-30)*e/$(i[n]).height()),s=$(i[n]).text().substring(0,o-5);$(i[n]).text(s+"..."),$(i[n]).addClass("gt-ready")}},this.cutReadMoreSlider=function(){$(".gt-read-more-slider-text-inner").each(function(){e.cutting($(this),160)})},this.cutting=function(t,e){var i=t.text();i.length>e&&(i=i.slice(0,e)+"...",t.text(i))},$("div").is(".gt-news-cut")&&$(".gt-news-cut").each(function(){e.cutNews($(this))}),$("p").is(".gt-read-more-slider-text-inner")&&e.cutReadMoreSlider(),n.ready(function(){e.footerHeight(),e.deskTopMenuScroll()}),o.scroll(function(){e.upPageButton(),$(".gt-header-menu").is(":visible")&&e.deskTopMenuScroll()}),$(window).resize(function(){e.deskTopMenuScroll(),e.footerHeight(),d.hasClass("gt-open")&&e.mobileMenuClose(),$("div").is(".gt-img-holder-abs")&&$(".gt-img-holder-abs").each(function(){$(this).removeClass("gt-width"),$(this).removeClass("gt-height"),e.imgHolderFunc($(this))})}),$(window).on("load",function(){$("div").is(".gt-img-holder-abs")&&$(".gt-img-holder-abs").each(function(){e.imgHolderFunc($(this))})}),i.on("click",function(t){})};var goToTrip=new GoToTrip;
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJHb1RvVHJpcCIsInNjcm9sbFRocm90dGxlciIsInNjcm9sbFRpbWVvdXQiLCJzZXRUaW1lb3V0Iiwic2VsZiIsImZpeEFydGljbGVTY3JvbGxUYWJsZVBvc2l0aW9uIiwic2hhZG93Iiwic2hvd0FydGlkbGVTaGFkb3ciLCJ0aGlzIiwiYm9keSIsIiQiLCJkb2N1bWVudCIsImRvYyIsImRvY1dpbmRvdyIsIndpbmRvdyIsImJvZHlQb3NpdGlvbiIsInRvcCIsImxlZnQiLCJ0b2tlbjM2MCIsInRva2VuNjY3IiwidG9rZW43NjgiLCJ0b2tlbjEwMjQiLCJndEhlYWRlciIsImd0Rm9vdGVyIiwiZ3RXcmFwcGVyIiwidXBCdXR0b24iLCJtb2JpbGVNZW51U3dpdGNoIiwiZW50ZXJCdXR0b24iLCJlbnRlcldyYXBwZXIiLCJlbnRlckZvcm0iLCJlbnRlckNob3NlIiwiZW50ZXJDbG9zZSIsImZpeEJvZHkiLCJzY3JvbGxUb3AiLCJvZmZzZXQiLCJjc3MiLCJwb3NpdGlvbiIsInVuZml4Qm9keSIsImZvb3RlckhlaWdodCIsIm91dGVySGVpZ2h0IiwiaGVpZ2h0IiwiZGVza1RvcE1lbnVTY3JvbGwiLCJhZGRDbGFzcyIsInJlbW92ZUNsYXNzIiwicGFnZVVwIiwiYW5pbWF0ZSIsInVwUGFnZUJ1dHRvbiIsIm9uIiwibW9iaWxlTWVudUNsb3NlIiwibW9iaWxlTWVudU9wZW4iLCJoYXNDbGFzcyIsIm9wZW5FbnRlckZvcm0iLCJjbG9zZUVudGVyRm9ybSIsImNoYW5nZUVudGVyUmVnaXN0cmF0aW9uIiwiZXZlbnQiLCJ0YXJnZXQiLCJhdHRyIiwiZWFjaCIsInNldEJhY2tncm91bmQiLCJwYXRoIiwiaXMiLCJpbWdIb2xkZXJGdW5jIiwiZWwiLCJob2xkZXJDb25zdCIsIm91dGVyV2lkdGgiLCJpbWciLCJmaW5kIiwiY3JlYXRlU2xpZGVycyIsImZpbmRTY3JlZW5Db25zdCIsInNjcmVlbkNvbnN0IiwiY3VyclNsaWRlciIsInBhcnNlSW50Iiwic2V0QmFzZVdpZHRoIiwiYXJyb3ciLCJodG1sIiwiYmFzZVdpZHRoIiwiaW5uZXJDb3VudCIsImlubmVyIiwibnVtSW5uZXIiLCJudW1QYW5lbCIsIm9mZiIsIm9uZU1vdmVGdW5jdGlvbiIsImNoZWNrUG9zaXRpb24iLCJzaG93TnVtIiwiY3JlYXRlQXJyb3dzIiwiZG90cyIsIm5hdiIsInNwYW5zIiwiaSIsImZpcnN0IiwiY3JlYXRlRG90cyIsImJhc2VIZWlnaHQiLCJyaWdodCIsImN1cnJQb3NpdGlvbiIsImJ1bCIsIm51bSIsInNsaWRlckVuZExlZnQiLCJzbGlkZXJFbmRSaWdodCIsInNsaWRlck1vdmUiLCJ0ZXh0IiwibGVuZ3RoIiwiYXBwZW5kIiwiaW5pdGlhbFBvaW50IiwiZmluYWxQb2ludCIsImUiLCJvcmlnaW5hbEV2ZW50IiwiTWF0aCIsImFicyIsInRvdWNoZXMiLCJwYWdlWCIsImNoYW5nZWRUb3VjaGVzIiwiY3JlYXRlVG91Y2giLCJjcmVhdGVDbG9uZVNsaWRlciIsInBhcmVudCIsImluZGV4IiwicmVzaXplIiwibW92ZUNsb25lU2xpZGVyUmlnaHQiLCJpbm5lckxlbmd0aCIsIm1vdmVDbG9uZVNsaWRlckxlZnQiLCJzaG93IiwiaW5uZXJzIiwiY2xvbmUiLCJpbm5lcnNMZW5naHQiLCJyZW1vdmUiLCJjb250YWluZXIiLCJkZXN0cm95Q2xvbmVTbGlkZXIiLCJoaWRlIiwiY29uc29sZSIsImxvZyIsIndpZHRoIiwibnVtYmVyQ29sbGVjdGlvbkFydGljbGUiLCJhZnRlciIsIm1hbmFnZUd0QWN0aXZlVWxNZW51IiwidGFnTmFtZSIsImNsb3Nlc3QiLCJwcmV2ZW50RGVmYXVsdCIsInRhYlNsaWRlciIsImN1cnJUYWJzIiwidGFiU2xpZGVyQWN0aW9uIiwidGFiU2xpZGVyQWN0aXZhdGlvbiIsInNldFBsYXllcnMiLCJ0YWciLCJjcmVhdGVFbGVtZW50IiwidHlwZSIsInNyYyIsImxhc3RTY3JpcHRUYWciLCJwYXJlbnROb2RlIiwiaW5zZXJ0QmVmb3JlIiwiY3VycmVudFBsYXllciIsImFkZFlvdVR1YmUiLCJpbml0aWFsaXplIiwicGxheWVyIiwibXV0ZSIsInBsYXlWaWRlbyIsInBsYXlGdWxsU2NyZWVuIiwicGF1c2VWaWRlbyIsImlmcmFtZSIsInJlcXVlc3RGdWxsU2NyZWVuIiwibW96UmVxdWVzdEZ1bGxTY3JlZW4iLCJ3ZWJraXRSZXF1ZXN0RnVsbFNjcmVlbiIsImJpbmQiLCJlbElkIiwiWVQiLCJQbGF5ZXIiLCJ2aWRlb0lkIiwicGxheWVyVmFycyIsInBsYXlsaXN0IiwiY29sb3IiLCJsb29wIiwiYXV0b3BsYXkiLCJldmVudHMiLCJvblJlYWR5IiwidGFibGUiLCJ0YWJsZVBhcmVudCIsInRhYmxlUGFyZW50VG9wIiwidGFibGVQYXJlbnRCb3R0b20iLCJ0YWJsZVdpZHRoIiwid2luZG93VG9wIiwid2lkb3dIZWlnaHQiLCJjcmVhdGVBcnRpY3RlU2Nyb2xsVGFibGUiLCJlbEhlaWdodCIsIndpbmRvd1Bvc2l0aW9uIiwieCIsImN1cnJTaGFkb3ciLCJzY3JvbGwiLCJzZXRDdXJyVGltZSIsImN1cnJUaW1lIiwic2V0SW50ZXJ2YWwiLCJkYXRlIiwiRGF0ZSIsInNldFVUQ0hvdXJzIiwiaG91cnMiLCJnZXRIb3VycyIsIm1pbnV0ZXMiLCJnZXRNaW51dGVzIiwid2Vla2RheSIsImdldERheSIsImRheSIsImdldERhdGUiLCJtb250aCIsImdldE1vbnRoIiwieWVhciIsImdldEZ1bGxZZWFyIiwiaW5uZXJTY3JvbGwiLCJ0aW55c2Nyb2xsYmFyIiwidGh1bWJTaXplIiwid2hlZWxTcGVlZCIsImNyZWF0ZUljb25zSXRlbXNDbGljayIsImNyZWF0ZVZpc2l0TGluayIsImNyZWF0ZUJvb2ttYXJrc0xpbmsiLCJ0b2dnbGVHdEFjdGl2ZSIsImNyZWF0ZVNoYXJlTGluayIsInRvZ2dsZUNsYXNzIiwiYWRkVmlzaXRlZExpbmsiLCJhbGVydCIsImFkZEJvb2ttYXJrIiwiYSIsInVybCIsInRpdGxlIiwiZXh0ZXJuYWwiLCJBZGRGYXZvcml0ZSIsInNpZGViYXIiLCJhZGRQYW5lbCIsIm9wZXJhIiwibG9jYXRpb24iLCJocmVmIiwic29jaWFsRW50ZXIiLCJzb2NpYWxSZWdpc3RyYXRpb24iLCJ0b2tlbiIsImN1dE5ld3MiLCJtYXhIZWlnaHQiLCJsaW5rcyIsImN1dHRpbmdMZW5ndGgiLCJmbG9vciIsImN1dHRuaW5nIiwic3Vic3RyaW5nIiwiY3V0UmVhZE1vcmVTbGlkZXIiLCJjdXR0aW5nIiwibmV3c1RleHQiLCJzbGljZSIsInJlYWR5IiwiZ29Ub1RyaXAiXSwibWFwcGluZ3MiOiJBQUtBQSxTQUFXLFdBKzBCSCxTQUFTQyxJQUNBQyxJQUNEQSxFQUFnQkMsV0FBVyxXQUN2QkQsRUFBZ0IsS0FDaEJFLEVBQUtDLGdDQUNEQyxHQUNBRixFQUFLRyxxQkFHVixLQXQxQmYsSUFBSUgsRUFBT0ksS0FDUEMsRUFBT0MsRUFBRUMsU0FBU0YsTUFDbEJHLEVBQU1GLEVBQUVDLFVBQ1JFLEVBQVlILEVBQUVJLFFBQ2RDLEdBQ0lDLEtBQUssRUFDTEMsTUFBTSxHQUVWQyxFQUFXUixFQUFFLGNBRWJTLEdBRFdULEVBQUUsY0FDRkEsRUFBRSxlQUNiVSxFQUFXVixFQUFFLGNBQ2JXLEVBQVlYLEVBQUUsZUFFZFksR0FEWVosRUFBRSxlQUNIQSxFQUFFLFdBQ2JhLEVBQVdiLEVBQUUsVUFDYmMsRUFBWWQsRUFBRSxlQUNkZSxFQUFXZixFQUFFLFVBQ2JnQixFQUFtQmhCLEVBQUUsMEJBQ3JCaUIsRUFBY2pCLEVBQUUsYUFDaEJrQixFQUFlbEIsRUFBRSw0QkFDakJtQixFQUFZbkIsRUFBRSxvQkFDZG9CLEVBQWFwQixFQUFFLDBCQUNmcUIsRUFBYXJCLEVBQUUsMEJBMnlCbkIsR0ExeUJBRixLQUFLd0IsUUFBVSxXQUNQakIsRUFBYUMsS0FBT0QsRUFBYUUsT0FDckNGLEVBQWFDLElBQU1KLEVBQUlxQixZQUN2QmxCLEVBQWFFLEtBQU9SLEVBQUt5QixTQUFTakIsS0FDbENSLEVBQUswQixLQUNEQyxTQUFVLFFBQ1ZuQixLQUFNRixFQUFhRSxLQUFPLEtBQzFC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LE9BQU8sV0FDYi9HLEVBQUtxQyxvQkFDTHJDLEVBQUtrQyxlQUVEaEIsRUFBUzRCLFNBQVMsWUFBWTlDLEVBQUs0QyxrQkFFbkN0QyxFQUFFLE9BQU9rRCxHQUFHLHVCQUNabEQsRUFBRSxzQkFBc0IrQyxLQUFLLFdBQ3pCL0MsRUFBRUYsTUFBTW1DLFlBQVksWUFDcEJqQyxFQUFFRixNQUFNbUMsWUFBWSxhQUNwQnZDLEVBQUt5RCxjQUFjbkQsRUFBRUYsV0FJakNFLEVBQUVJLFFBQVFpQyxHQUFHLE9BQVEsV0FDYnJDLEVBQUUsT0FBT2tELEdBQUcsdUJBQ1psRCxFQUFFLHNCQUFzQitDLEtBQUssV0FDekJyRCxFQUFLeUQsY0FBY25ELEVBQUVGLFdBS2pDQyxFQUFLc0MsR0FBRyxRQUFTLFNBQVVPLE9BTy9CLElBQUkyTCxTQUFXLElBQUlqUCIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvL9GE0YPQvdC60YbQuNGPLCDQvtC/0YDQtdC00LXQu9GP0Y7RidCw0Y8g0LfQsNGA0LXQs9C40YHRgtCy0LjRgNC+0LLQsNC90L3Ri9C5INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRjCDQuNC70Lgg0L3QtdGCXHJcblxyXG4vLyDQv9GA0LXQtNGD0YHQvNC+0YLRgNC10YLRjCDQstGL0YXQvtC0INC40Lcg0LDQutC60LDRg9C90YLQsFxyXG5cclxuXHJcbkdvVG9UcmlwID0gZnVuY3Rpb24gKCkge1xyXG5cclxuICAgIHZhciBzZWxmID0gdGhpcyxcclxuICAgICAgICBib2R5ID0gJChkb2N1bWVudC5ib2R5KSxcclxuICAgICAgICBkb2MgPSAkKGRvY3VtZW50KSxcclxuICAgICAgICBkb2NXaW5kb3cgPSAkKHdpbmRvdyksXHJcbiAgICAgICAgYm9keVBvc2l0aW9uID0ge1xyXG4gICAgICAgICAgICB0b3A6IGZhbHNlLFxyXG4gICAgICAgICAgICBsZWZ0OiBmYWxzZVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdG9rZW4zNjAgPSAkKFwiI2d0LWlzLTM2MFwiKSxcclxuICAgICAgICB0b2tlbjQ4MCA9ICQoXCIjZ3QtaXMtNDgwXCIpLFxyXG4gICAgICAgIHRva2VuNjY3ID0gJChcIiNndC1pcy02NjdcIiksXHJcbiAgICAgICAgdG9rZW43NjggPSAkKFwiI2d0LWlzLTc2OFwiKSxcclxuICAgICAgICB0b2tlbjEwMjQgPSAkKFwiI2d0LWlzLTEwMjRcIiksXHJcbiAgICAgICAgdG9rZW4xMjMxID0gJChcIiNndC1pcy0xMjMxXCIpLFxyXG4gICAgICAgIGd0SGVhZGVyID0gJChcImhlYWRlclwiKSxcclxuICAgICAgICBndEZvb3RlciA9ICQoXCJmb290ZXJcIiksXHJcbiAgICAgICAgZ3RXcmFwcGVyID0gJChcIiNndC13cmFwcGVyXCIpLFxyXG4gICAgICAgIHVwQnV0dG9uID0gJChcIiNndC11cFwiKSxcclxuICAgICAgICBtb2JpbGVNZW51U3dpdGNoID0gJChcIiNndC1tb2JpbGUtbWVudS1zd2l0Y2hcIiksXHJcbiAgICAgICAgZW50ZXJCdXR0b24gPSAkKCcuZ3QtZW50ZXInKSxcclxuICAgICAgICBlbnRlcldyYXBwZXIgPSAkKCcjZ3QtaGVhZGVyLWVudGVyLXdyYXBwZXInKSxcclxuICAgICAgICBlbnRlckZvcm0gPSAkKCcjZ3QtaGVhZGVyLWVudGVyJyksXHJcbiAgICAgICAgZW50ZXJDaG9zZSA9ICQoJyNndC1oZWFkZXItZW50ZXItY2hvc2UnKSxcclxuICAgICAgICBlbnRlckNsb3NlID0gJCgnI2d0LWhlYWRlci1lbnRlci1jbG9zZScpO1xyXG4gICAgdGhpcy5maXhCb2R5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmIChib2R5UG9zaXRpb24udG9wIHx8IGJvZHlQb3NpdGlvbi5sZWZ0KSByZXR1cm47XHJcbiAgICAgICAgYm9keVBvc2l0aW9uLnRvcCA9IGRvYy5zY3JvbGxUb3AoKTtcclxuICAgICAgICBib2R5UG9zaXRpb24ubGVmdCA9IGJvZHkub2Zmc2V0KCkubGVmdDtcclxuICAgICAgICBib2R5LmNzcyh7XHJcbiAgICAgICAgICAgIHBvc2l0aW9uOiBcImZpeGVkXCIsXHJcbiAgICAgICAgICAgIGxlZnQ6IGJvZHlQb3NpdGlvbi5sZWZ0ICsgXCJweFwiLFxyXG4gICAgICAgICAgICB0b3A6IC0xICogYm9keVBvc2l0aW9uLnRvcCArIFwicHhcIlxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgdGhpcy51bmZpeEJvZHkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgYm9keS5jc3Moe1xyXG4gICAgICAgICAgICBwb3NpdGlvbjogXCJcIixcclxuICAgICAgICAgICAgbGVmdDogXCJcIixcclxuICAgICAgICAgICAgdG9wOiBcIlwiXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgZG9jLnNjcm9sbFRvcChib2R5UG9zaXRpb24udG9wKTtcclxuICAgICAgICBib2R5UG9zaXRpb24udG9wID0gZmFsc2U7XHJcbiAgICAgICAgYm9keVBvc2l0aW9uLmxlZnQgPSBmYWxzZTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5mb290ZXJIZWlnaHQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGZvb3RlckhlaWdodCA9IGd0Rm9vdGVyLm91dGVySGVpZ2h0KCk7XHJcbiAgICAgICAgaWYgKGZvb3RlckhlaWdodCA+IGRvY1dpbmRvdy5oZWlnaHQoKSAtIDUwKSB7XHJcbiAgICAgICAgICAgIGd0Rm9vdGVyLmNzcyhcInBvc2l0aW9uXCIsIFwic3RhdGljXCIpO1xyXG4gICAgICAgICAgICBndFdyYXBwZXIuY3NzKFwibWFyZ2luLWJvdHRvbVwiLCBcIlwiKTtcclxuICAgICAgICAgICAgdXBCdXR0b24uY3NzKFwicG9zaXRpb25cIiwgXCJzdGF0aWNcIik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZ3RGb290ZXIuY3NzKFwicG9zaXRpb25cIiwgXCJcIik7XHJcbiAgICAgICAgICAgIHVwQnV0dG9uLmNzcyhcInBvc2l0aW9uXCIsIFwiXCIpO1xyXG4gICAgICAgICAgICBndFdyYXBwZXIuY3NzKFwibWFyZ2luLWJvdHRvbVwiLCBndEZvb3Rlci5vdXRlckhlaWdodCgpICsgXCJweFwiKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgdGhpcy5kZXNrVG9wTWVudVNjcm9sbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoZG9jV2luZG93LnNjcm9sbFRvcCgpID4gZ3RIZWFkZXIub3V0ZXJIZWlnaHQoKSkge1xyXG4gICAgICAgICAgICBndEhlYWRlci5hZGRDbGFzcyhcImd0LWhlYWRlci1zY3JvbGxlZFwiKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBndEhlYWRlci5yZW1vdmVDbGFzcyhcImd0LWhlYWRlci1zY3JvbGxlZFwiKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMucGFnZVVwID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICQoXCJib2R5LGh0bWxcIikuYW5pbWF0ZSh7c2Nyb2xsVG9wOiAwfSw4MDApO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH07XHJcbiAgICBcclxuICAgIHRoaXMudXBQYWdlQnV0dG9uID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICgkKGRvY3VtZW50KS5zY3JvbGxUb3AoKSA+IDMwKSB7XHJcbiAgICAgICAgICAgIHVwQnV0dG9uLmFkZENsYXNzKFwiZ3QtdmlzaWJsZVwiKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB1cEJ1dHRvbi5yZW1vdmVDbGFzcyhcImd0LXZpc2libGVcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgXHJcbiAgICBcclxuICAgIHVwQnV0dG9uLm9uKFwiY2xpY2tcIiwgc2VsZi5wYWdlVXApO1xyXG4gICAgdGhpcy5tb2JpbGVNZW51Q2xvc2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgc2VsZi51bmZpeEJvZHkoKTtcclxuICAgICAgICBtb2JpbGVNZW51U3dpdGNoLnJlbW92ZUNsYXNzKFwiZ3Qtb3BlblwiKTtcclxuICAgICAgICBndEhlYWRlci5yZW1vdmVDbGFzcyhcImd0LW9wZW5cIik7XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICB0aGlzLm1vYmlsZU1lbnVPcGVuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHNlbGYuZml4Qm9keSgpO1xyXG4gICAgICAgIGd0SGVhZGVyLmFkZENsYXNzKFwiZ3Qtb3BlblwiKTtcclxuICAgICAgICBtb2JpbGVNZW51U3dpdGNoLmFkZENsYXNzKFwiZ3Qtb3BlblwiKTtcclxuICAgIH07XHJcbiAgICBcclxuICAgIFxyXG4gICAgXHJcbiAgICBtb2JpbGVNZW51U3dpdGNoLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICgkKHRoaXMpLmhhc0NsYXNzKFwiZ3Qtb3BlblwiKSkge1xyXG4gICAgICAgICAgICBzZWxmLm1vYmlsZU1lbnVDbG9zZSgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHNlbGYubW9iaWxlTWVudU9wZW4oKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgIHRoaXMub3BlbkVudGVyRm9ybSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBlbnRlcldyYXBwZXIuYWRkQ2xhc3MoJ2d0LW9wZW4nKTtcclxuICAgICAgICBzZXRUaW1lb3V0KHNob3cpO1xyXG4gICAgXHJcbiAgICAgICAgZnVuY3Rpb24gc2hvdygpIHtcclxuICAgICAgICAgICAgZW50ZXJGb3JtLmFkZENsYXNzKCdndC1vcGVuJyk7XHJcbiAgICAgICAgICAgIGVudGVyQ2xvc2UuYWRkQ2xhc3MoJ2d0LW9wZW4nKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICB0aGlzLmNsb3NlRW50ZXJGb3JtID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGVudGVyQ2xvc2UucmVtb3ZlQ2xhc3MoJ2d0LW9wZW4nKTtcclxuICAgICAgICBlbnRlckZvcm0ucmVtb3ZlQ2xhc3MoJ2d0LW9wZW4nKTtcclxuICAgICAgICBzZXRUaW1lb3V0KGhpZGUsIDc1MCk7XHJcbiAgICBcclxuICAgICAgICBmdW5jdGlvbiBoaWRlKCkge1xyXG4gICAgICAgICAgICBlbnRlcldyYXBwZXIucmVtb3ZlQ2xhc3MoJ2d0LW9wZW4nKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICB0aGlzLmNoYW5nZUVudGVyUmVnaXN0cmF0aW9uID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgaWYgKGVudGVyRm9ybS5oYXNDbGFzcygkKGV2ZW50LnRhcmdldCkuYXR0cihcImNsYXNzXCIpKSlcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIGVudGVyRm9ybS5yZW1vdmVDbGFzcyhcImd0LWNob3Nlbi1lbnRlclwiKS5yZW1vdmVDbGFzcyhcImd0LWNob3Nlbi1yZWdpc3RyYXRpb25cIikuYWRkQ2xhc3MoJChldmVudC50YXJnZXQpLmF0dHIoXCJjbGFzc1wiKSk7XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICBcclxuICAgIFxyXG4gICAgXHJcbiAgICBlbnRlckJ1dHRvbi5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkKHRoaXMpLm9uKCdjbGljaycsIHNlbGYub3BlbkVudGVyRm9ybSlcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICBlbnRlckNsb3NlLm9uKCdjbGljaycsIHNlbGYuY2xvc2VFbnRlckZvcm0pO1xyXG4gICAgXHJcbiAgICBlbnRlckNob3NlLm9uKCdjbGljaycsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIHNlbGYuY2hhbmdlRW50ZXJSZWdpc3RyYXRpb24oZXZlbnQpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5zZXRCYWNrZ3JvdW5kID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBpbWdIb2xkZXJzID0gJChcIi5ndC1pbWctaG9sZGVyXCIpO1xyXG4gICAgICAgIGltZ0hvbGRlcnMuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmICghJCh0aGlzKS5hdHRyKFwiZGF0YS1iZ1wiKSkgcmV0dXJuO1xyXG4gICAgICAgICAgICB2YXIgcGF0aCA9ICQodGhpcykuYXR0cihcImRhdGEtYmdcIik7XHJcbiAgICAgICAgICAgIGlmICh0b2tlbjY2Ny5pcyhcIjp2aXNpYmxlXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmNzcyhcclxuICAgICAgICAgICAgICAgICAgICBcImJhY2tncm91bmQtaW1hZ2VcIixcclxuICAgICAgICAgICAgICAgICAgICAndXJsKFwiLi9pbWcvYmFja2dyb3VuZHMvcGhvbmUvJyArIHBhdGggKyAnXCIpJ1xyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodG9rZW4xMDI0LmlzKFwiOnZpc2libGVcIikpIHtcclxuICAgICAgICAgICAgICAgICQodGhpcykuY3NzKFxyXG4gICAgICAgICAgICAgICAgICAgIFwiYmFja2dyb3VuZC1pbWFnZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICd1cmwoXCIuL2ltZy9iYWNrZ3JvdW5kcy90YWJsZXQvJyArIHBhdGggKyAnXCIpJ1xyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAkKHRoaXMpLmNzcyhcclxuICAgICAgICAgICAgICAgIFwiYmFja2dyb3VuZC1pbWFnZVwiLFxyXG4gICAgICAgICAgICAgICAgJ3VybChcIi4vaW1nL2JhY2tncm91bmRzL2Rlc2t0b3AvJyArIHBhdGggKyAnXCIpJ1xyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgXHJcbiAgICB0aGlzLmltZ0hvbGRlckZ1bmMgPSBmdW5jdGlvbiAoZWwpIHtcclxuICAgICAgICB2YXIgaG9sZGVyQ29uc3QgPSBlbC5vdXRlckhlaWdodCgpIC8gZWwub3V0ZXJXaWR0aCgpLFxyXG4gICAgICAgICAgICBpbWcgPSBlbC5maW5kKCdpbWcnKSxcclxuICAgICAgICAgICAgaW1nQ29uc3QgPSBpbWcub3V0ZXJIZWlnaHQoKSAvIGltZy5vdXRlcldpZHRoKCk7XHJcbiAgICBcclxuICAgICAgICBpZiAoaW1nQ29uc3QgPiBob2xkZXJDb25zdCkge1xyXG4gICAgICAgICAgICAkKGVsKS5hZGRDbGFzcyhcImd0LXdpZHRoXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgJChlbCkuYWRkQ2xhc3MoXCJndC1oZWlnaHRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgICQoZWwpLmFkZENsYXNzKFwiZ3QtdmlzaWJsZVwiKTtcclxuICAgIH07XHJcbiAgICBcclxuICAgIFxyXG4gICAgaWYgKCQoXCJkaXZcIikuaXMoXCIuZ3QtaW1nLWhvbGRlclwiKSkge1xyXG4gICAgICAgIHNlbGYuc2V0QmFja2dyb3VuZCgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qXHJcbiAgICAgICAqYWxsIHNsaWRlcnMgY3JlYXRlIGZ1bnNcclxuICAgICAgICogcGFyYW1zXHJcbiAgICAgICAqIGNvdW50IChudW0pICBmcm9tIDEgdG8gNCAtIGhvdyBtYWNoIGltZyBvbiBzbGlkZXIgc2NyZWVuXHJcbiAgICAgICAqIGFycm93IChidWxsKSBhcnJvdyBsZWZ0IGFuZCByaWdodFxyXG4gICAgICAgKiBkb3RzIChidWxsKSBkb3RzIGxpbmtcclxuICAgICAgICogKi9cclxuICAgIHRoaXMuY3JlYXRlU2xpZGVycyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgZ3RTbGlkZXJzID0gJChcIi5ndC1zbGlkZXJcIik7XHJcbiAgICAgICAgZ3RTbGlkZXJzLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgY3VyclNsaWRlciA9ICQodGhpcyksXHJcbiAgICAgICAgICAgICAgICBjdXJyUG9zaXRpb24gPSAwLFxyXG4gICAgICAgICAgICAgICAgYXJyb3cgPSBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGRvdHMgPSBmYWxzZSxcclxuICAgICAgICAgICAgICAgIG51bVBhbmVsID0gZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBzY3JlZW5Db25zdCxcclxuICAgICAgICAgICAgICAgIGlubmVyID0gY3VyclNsaWRlci5maW5kKFwiLmd0LXNsaWRlci1pbm5lclwiKSxcclxuICAgICAgICAgICAgICAgIGlubmVyQ291bnQgPSBpbm5lci5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICBiYXNlV2lkdGgsXHJcbiAgICAgICAgICAgICAgICBiYXNlSGVpZ2h0O1xyXG4gICAgICAgICAgICBpZiAoY3VyclNsaWRlci5oYXNDbGFzcyhcImd0LXNsaWRlci1oYXMtYXJyb3dcIikpIHtcclxuICAgICAgICAgICAgICAgIGFycm93ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGlmIChjdXJyU2xpZGVyLmhhc0NsYXNzKFwiZ3Qtc2xpZGVyLW51bVwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG51bVBhbmVsID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGN1cnJTbGlkZXIuYXBwZW5kKCc8ZGl2IGNsYXNzPVwiZ3Qtc2xpZGVyLWFycm93LWhvbGRlclwiPjwvZGl2PicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChjdXJyU2xpZGVyLmhhc0NsYXNzKFwiZ3Qtc2xpZGVyLWhhcy1kb3RzXCIpKSB7XHJcbiAgICAgICAgICAgICAgICBkb3RzID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGN1cnJTbGlkZXIuYXBwZW5kKCc8ZGl2IGNsYXNzPVwiZ3Qtc2xpZGVyLW5hdlwiPjwvZGl2PicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgIFxyXG4gICAgICAgICAgICBmdW5jdGlvbiBmaW5kU2NyZWVuQ29uc3QoKSB7XHJcbiAgICAgICAgICAgICAgICBzY3JlZW5Db25zdCA9IDE7XHJcbiAgICAgICAgICAgICAgICBpZiAoY3VyclNsaWRlci5hdHRyKFwiZGF0YS1jb3VudFwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNjcmVlbkNvbnN0ID0gcGFyc2VJbnQoY3VyclNsaWRlci5hdHRyKFwiZGF0YS1jb3VudFwiKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCQodG9rZW43NjgpLmlzKFwiOnZpc2libGVcIikpIHNjcmVlbkNvbnN0ID0gMztcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJCh0b2tlbjY2NykuaXMoXCI6dmlzaWJsZVwiKSkgc2NyZWVuQ29uc3QgPSAyO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkKHRva2VuMzYwKS5pcyhcIjp2aXNpYmxlXCIpKSBzY3JlZW5Db25zdCA9IDE7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICBmdW5jdGlvbiBzZXRCYXNlV2lkdGgoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYXJyb3cpIGRlc3Ryb3lBcnJvdygpO1xyXG4gICAgICAgICAgICAgICAgYmFzZVdpZHRoID0gY3VyclNsaWRlci5vdXRlcldpZHRoKCkgLyBzY3JlZW5Db25zdDtcclxuICAgICAgICAgICAgICAgIGN1cnJTbGlkZXJcclxuICAgICAgICAgICAgICAgICAgICAuZmluZChcIi5ndC1zbGlkZXItY29udGFpbmVyXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgLm91dGVyV2lkdGgoKGlubmVyQ291bnQgKyAxKSAqIGJhc2VXaWR0aCk7XHJcbiAgICAgICAgICAgICAgICBpbm5lci5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLm91dGVyV2lkdGgoYmFzZVdpZHRoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICBpZiAoaW5uZXJDb3VudCA+IHNjcmVlbkNvbnN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFycm93KSBjcmVhdGVBcnJvd3MoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZG90cykgY3JlYXRlRG90cygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgc2V0QmFzZUhlaWd0aCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgZnVuY3Rpb24gc2V0QmFzZUhlaWd0aCgpIHtcclxuICAgICAgICAgICAgICAgIGJhc2VIZWlnaHQgPSBjdXJyU2xpZGVyLm91dGVySGVpZ2h0KCk7XHJcbiAgICAgICAgICAgICAgICBjdXJyU2xpZGVyLmZpbmQoJy5ndC1pbWctaG9sZGVyJykub3V0ZXJIZWlnaHQoYmFzZUhlaWdodCk7XHJcbiAgICAgICAgICAgICAgICAvLyBjdXJyU2xpZGVyLmZpbmQoJy5ndC1pbWctaG9sZGVyLWFicycpLm91dGVySGVpZ2h0KGJhc2VIZWlnaHQpOz8/Pz8/Pz8/Pz8/Pz8/Pz8/Pz8/Pz8/Pz8/XHJcbiAgICBcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIGZpbmRTY3JlZW5Db25zdCgpO1xyXG4gICAgICAgICAgICBzZXRCYXNlV2lkdGgoKTtcclxuICAgICAgICAgICAgY3JlYXRlVG91Y2goKTtcclxuICAgIFxyXG4gICAgICAgICAgICBmdW5jdGlvbiBjcmVhdGVBcnJvd3MoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbnVtSW5uZXIgPSAnJztcclxuICAgICAgICAgICAgICAgIGlmIChudW1QYW5lbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG51bUlubmVyID0gJzxkaXYgY2xhc3M9XCJndC1zbGlkZXItYXJyb3ctbnVtXCI+PGkgY2xhc3M9XCJndC1zbGlkZXItbnVtLWN1cnJcIj4xPC9pPiA8aT7QuNC3PC9pPiA8aSBjbGFzcz1cImd0LXNsaWRlci1udW0tbWF4XCI+MTA8L2k+IDwvZGl2PidcclxuICAgICAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAgICAgY3VyclNsaWRlclxyXG4gICAgICAgICAgICAgICAgICAgIC5maW5kKFwiLmd0LXNsaWRlci1hcnJvdy1ob2xkZXJcIilcclxuICAgICAgICAgICAgICAgICAgICAuaHRtbChcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzxzcGFuIGNsYXNzID0gXCJndC1zbGlkZXItYXJyb3cgbGVmdFwiPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnPGkgY2xhc3M9XCJmYSBmYS1hbmdsZS1sZWZ0IGZhLTJ4XCI+PC9pPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjwvc3Bhbj5cIiArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG51bUlubmVyICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzxzcGFuIGNsYXNzID0gXCJndC1zbGlkZXItYXJyb3cgcmlnaHRcIj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzxpIGNsYXNzPVwiZmEgZmEtYW5nbGUtcmlnaHQgZmEtMnhcIj48L2k+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiPC9zcGFuPlwiXHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIGN1cnJTbGlkZXJcclxuICAgICAgICAgICAgICAgICAgICAuZmluZChcIi5sZWZ0XCIpXHJcbiAgICAgICAgICAgICAgICAgICAgLm9mZigpXHJcbiAgICAgICAgICAgICAgICAgICAgLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbmVNb3ZlRnVuY3Rpb24oZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgY3VyclNsaWRlclxyXG4gICAgICAgICAgICAgICAgICAgIC5maW5kKFwiLnJpZ2h0XCIpXHJcbiAgICAgICAgICAgICAgICAgICAgLm9mZigpXHJcbiAgICAgICAgICAgICAgICAgICAgLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbmVNb3ZlRnVuY3Rpb24odHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBjaGVja1Bvc2l0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAobnVtUGFuZWwpIHNob3dOdW0oKVxyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgZnVuY3Rpb24gZGVzdHJveUFycm93KCkge1xyXG4gICAgICAgICAgICAgICAgY3VyclNsaWRlci5maW5kKFwiLmd0LXNsaWRlci1hcnJvdy1ob2xkZXJcIikuaHRtbChcIlwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGNyZWF0ZURvdHMoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbmF2ID0gY3VyclNsaWRlci5maW5kKFwiLmd0LXNsaWRlci1uYXZcIiksXHJcbiAgICAgICAgICAgICAgICAgICAgc3BhbnMgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbm5lckNvdW50OyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBzcGFucyArPSBcIjxzcGFuIGRhdGEtbnVtID0gXCIgKyBpICsgXCI+PC9zcGFuPlwiO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbmF2Lmh0bWwoc3BhbnMpO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICBuYXZcclxuICAgICAgICAgICAgICAgICAgICAuZmluZChcInNwYW5cIilcclxuICAgICAgICAgICAgICAgICAgICAuZmlyc3QoKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hZGRDbGFzcyhcImd0LWFjdGl2ZVwiKTtcclxuICAgICAgICAgICAgICAgIGN1cnJTbGlkZXJcclxuICAgICAgICAgICAgICAgICAgICAuZmluZChcIi5ndC1zbGlkZXItbmF2IHNwYW5cIilcclxuICAgICAgICAgICAgICAgICAgICAub2ZmKClcclxuICAgICAgICAgICAgICAgICAgICAub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uZU1vdmVGdW5jdGlvbih0cnVlLCArJCh0aGlzKS5hdHRyKFwiZGF0YS1udW1cIikpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgZnVuY3Rpb24gY3JlYXRlVG91Y2goKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW5pdGlhbFBvaW50ID0gMCxcclxuICAgICAgICAgICAgICAgICAgICBmaW5hbFBvaW50ID0gMDtcclxuICAgICAgICAgICAgICAgIGN1cnJTbGlkZXIub24oXCJ0b3VjaHN0YXJ0XCIsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBlID0gZXZlbnQub3JpZ2luYWxFdmVudDtcclxuICAgICAgICAgICAgICAgICAgICBpbml0aWFsUG9pbnQgPSBNYXRoLmFicyhlLnRvdWNoZXNbMF0ucGFnZVgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBjdXJyU2xpZGVyLm9uKFwidG91Y2hlbmRcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGUgPSBldmVudC5vcmlnaW5hbEV2ZW50O1xyXG4gICAgICAgICAgICAgICAgICAgIGZpbmFsUG9pbnQgPSBNYXRoLmFicyhlLmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VYKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoTWF0aC5hYnMoaW5pdGlhbFBvaW50IC0gZmluYWxQb2ludCkgPiA1MCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5pdGlhbFBvaW50ID4gZmluYWxQb2ludCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25lTW92ZUZ1bmN0aW9uKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uZU1vdmVGdW5jdGlvbih0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgaWYgKGN1cnJTbGlkZXIuZmluZChcIi5ndC1zbGlkZXItb3Blbi1jbG9uZVwiKSkgY3JlYXRlQ2xvbmVMaXN0ZW5lcnMoKTtcclxuICAgIFxyXG4gICAgICAgICAgICBmdW5jdGlvbiBjcmVhdGVDbG9uZUxpc3RlbmVycygpIHtcclxuICAgICAgICAgICAgICAgIHZhciBjbG9uZUxpc3RlbmVycyA9IGN1cnJTbGlkZXIuZmluZChcIi5ndC1zbGlkZXItb3Blbi1jbG9uZVwiKTtcclxuICAgICAgICAgICAgICAgIGNsb25lTGlzdGVuZXJzLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICQodGhpcykub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdjbG9uZUxpc3RlbmVycycsICQodGhpcykucGFyZW50KCkuaW5kZXgoKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jcmVhdGVDbG9uZVNsaWRlcihcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJTbGlkZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnBhcmVudCgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmluZGV4KClcclxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgZnVuY3Rpb24gY2hlY2tQb3NpdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHZhciBsZWZ0ID0gY3VyclNsaWRlci5maW5kKFwiLmxlZnRcIiksXHJcbiAgICAgICAgICAgICAgICAgICAgcmlnaHQgPSBjdXJyU2xpZGVyLmZpbmQoXCIucmlnaHRcIik7XHJcbiAgICAgICAgICAgICAgICByaWdodC5yZW1vdmVDbGFzcyhcIm5vdC1hY3RpdmVcIik7XHJcbiAgICAgICAgICAgICAgICBsZWZ0LnJlbW92ZUNsYXNzKFwibm90LWFjdGl2ZVwiKTtcclxuICAgICAgICAgICAgICAgIGlmIChjdXJyUG9zaXRpb24gPT0gMCkgbGVmdC5hZGRDbGFzcyhcIm5vdC1hY3RpdmVcIik7XHJcbiAgICAgICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICAgICAgY3VyclBvc2l0aW9uID09IGlubmVyQ291bnQgLSAxIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgY3VyclBvc2l0aW9uID09IGlubmVyQ291bnQgLSBzY3JlZW5Db25zdFxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0LmFkZENsYXNzKFwibm90LWFjdGl2ZVwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIG9uZU1vdmVGdW5jdGlvbihidWwsIG51bSkge1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYXJyb3cpO1xyXG4gICAgICAgICAgICAgICAgaWYgKG51bSB8fCBudW0gPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyUG9zaXRpb24gPSBudW07XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGJ1bCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJQb3NpdGlvbiArPSAxO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyUG9zaXRpb24gLT0gMTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChjdXJyUG9zaXRpb24gPiBpbm5lckNvdW50IC0gc2NyZWVuQ29uc3QpIHtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyUG9zaXRpb24gPSBpbm5lckNvdW50IC0gc2NyZWVuQ29uc3Q7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5zbGlkZXJFbmRMZWZ0KGN1cnJTbGlkZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChjdXJyUG9zaXRpb24gPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VyclBvc2l0aW9uID0gMDtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLnNsaWRlckVuZFJpZ2h0KGN1cnJTbGlkZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHNlbGYuc2xpZGVyTW92ZShjdXJyU2xpZGVyLCBiYXNlV2lkdGgsIGN1cnJQb3NpdGlvbik7XHJcbiAgICBcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgaWYgKGFycm93KSBjaGVja1Bvc2l0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAobnVtUGFuZWwpIHNob3dOdW0oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHNob3dOdW0oKSB7XHJcbiAgICAgICAgICAgICAgICBjdXJyU2xpZGVyLmZpbmQoJy5ndC1zbGlkZXItbnVtLWN1cnInKS50ZXh0KGN1cnJQb3NpdGlvbiArIDEpO1xyXG4gICAgICAgICAgICAgICAgY3VyclNsaWRlci5maW5kKCcuZ3Qtc2xpZGVyLW51bS1tYXgnKS50ZXh0KGlubmVyQ291bnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgIFxyXG4gICAgICAgICAgICAkKHdpbmRvdykucmVzaXplKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGZpbmRTY3JlZW5Db25zdCgpO1xyXG4gICAgICAgICAgICAgICAgc2V0QmFzZVdpZHRoKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoY3VyclBvc2l0aW9uID4gaW5uZXJDb3VudCAtIHNjcmVlbkNvbnN0KVxyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJQb3NpdGlvbiA9IGlubmVyQ291bnQgLSBzY3JlZW5Db25zdDtcclxuICAgICAgICAgICAgICAgIGlmIChpbm5lckNvdW50IDw9IHNjcmVlbkNvbnN0KSBjdXJyUG9zaXRpb24gPSAwO1xyXG4gICAgICAgICAgICAgICAgc2VsZi5zbGlkZXJNb3ZlKGN1cnJTbGlkZXIsIGJhc2VXaWR0aCwgY3VyclBvc2l0aW9uKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICB0aGlzLmNyZWF0ZUNsb25lU2xpZGVyID0gZnVuY3Rpb24gKGVsLCBudW0pIHtcclxuICAgICAgICBpZiAoJChcImRpdlwiKS5pcyhcIiNndC1jbG9uZS1jbG9zZVwiKSkgcmV0dXJuO1xyXG4gICAgICAgIHNlbGYuZml4Qm9keSgpO1xyXG4gICAgICAgIHZhciBjdXJyUG9zaXRpb24gPSBudW07XHJcbiAgICAgICAgJChcIiNndC1ib2R5LXdyYXBwZXJcIilcclxuICAgICAgICAgICAgLnNob3coKVxyXG4gICAgICAgICAgICAuYXBwZW5kKFxyXG4gICAgICAgICAgICAgICAgXCJcIiArXHJcbiAgICAgICAgICAgICAgICAnPGRpdiBpZCA9IFwiZ3QtY2xvbmVcIiBjbGFzcz1cImd0LXNsaWRlci1jbG9uZVwiPicgK1xyXG4gICAgICAgICAgICAgICAgJzxkaXYgaWQgPSBcImd0LWNsb25lLWNsb3NlXCIgY2xhc3MgPSBcImd0LXNsaWRlci1jbG9uZS1jbG9zZVwiPicgK1xyXG4gICAgICAgICAgICAgICAgXCI8L2Rpdj5cIiArXHJcbiAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cImNvbnRhaW5lclwiPicgK1xyXG4gICAgICAgICAgICAgICAgJzxkaXYgaWQgPSBcImd0LWNsb25lLWlubmVyXCIgY2xhc3MgPSBcImd0LXNsaWRlci1jbG9uZS1pbm5lclwiPicgK1xyXG4gICAgICAgICAgICAgICAgJzxkaXYgaWQgPSBcImd0LWNsb25lLWNvbnRhaW5lclwiIGNsYXNzID0gXCJndC1zbGlkZXItY29udGFpbmVyIGd0LXNsaWRlci1jbG9uZS1jb250YWluZXJcIj48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgIFwiPC9kaXY+XCIgK1xyXG4gICAgICAgICAgICAgICAgXCI8L2Rpdj5cIiArXHJcbiAgICAgICAgICAgICAgICBcIjwvZGl2PlwiXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgdmFyIGN1cnJTbGlkZXIgPSAkKFwiI2d0LWNsb25lLWlubmVyXCIpLFxyXG4gICAgICAgICAgICBpbm5lcnMgPSBlbC5maW5kKFwiLmd0LXNsaWRlci1pbm5lclwiKS5jbG9uZSh0cnVlKSxcclxuICAgICAgICAgICAgaW5uZXJzTGVuZ2h0ID0gaW5uZXJzLmxlbmd0aDtcclxuICAgICAgICBpbm5lcnMuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICQodGhpcylcclxuICAgICAgICAgICAgICAgIC5yZW1vdmVDbGFzcyhcImd0LXNsaWRlci1pbm5lclwiKVxyXG4gICAgICAgICAgICAgICAgLmFkZENsYXNzKFwiZ3QtY2xvbmUtc2xpZGVyLWlubmVyXCIpO1xyXG4gICAgICAgICAgICAkKHRoaXMpXHJcbiAgICAgICAgICAgICAgICAuZmluZChcIi5ndC1zbGlkZXItaW5uZXItY292ZXJcIilcclxuICAgICAgICAgICAgICAgIC5yZW1vdmUoKTtcclxuICAgICAgICAgICAgJChcIiNndC1jbG9uZS1jb250YWluZXJcIikuYXBwZW5kKCQodGhpcykpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmIChpbm5lcnNMZW5naHQgPiAxKSB7XHJcbiAgICAgICAgICAgICQoXCIjZ3QtY2xvbmUgLmNvbnRhaW5lclwiKS5hcHBlbmQoXHJcbiAgICAgICAgICAgICAgICAnPHNwYW4gY2xhc3MgPSBcImd0LXNsaWRlci1hcnJvdyBsZWZ0XCIgaWQgPSBcImd0LWNsb25lLWFycm93LWxlZnRcIj4nICtcclxuICAgICAgICAgICAgICAgICc8aSBjbGFzcz1cImZhIGZhLWFuZ2xlLWxlZnQgZmEtMnhcIj48L2k+JyArXHJcbiAgICAgICAgICAgICAgICBcIjwvc3Bhbj5cIiArXHJcbiAgICAgICAgICAgICAgICAnPHNwYW4gY2xhc3MgPSBcImd0LXNsaWRlci1hcnJvdyByaWdodFwiIGlkID0gXCJndC1jbG9uZS1hcnJvdy1yaWdodFwiPicgK1xyXG4gICAgICAgICAgICAgICAgJzxpIGNsYXNzPVwiZmEgZmEtYW5nbGUtcmlnaHQgZmEtMnhcIj48L2k+JyArXHJcbiAgICAgICAgICAgICAgICBcIjwvc3Bhbj5cIlxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAkKFwiI2d0LWNsb25lLWFycm93LWxlZnRcIikub24oXCJjbGlja1wiLCBtb3ZlQ2xvbmVTbGlkZXJMZWZ0KTtcclxuICAgICAgICAgICAgJChcIiNndC1jbG9uZS1hcnJvdy1yaWdodFwiKS5vbihcImNsaWNrXCIsIG1vdmVDbG9uZVNsaWRlclJpZ2h0KTtcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICB2YXIgY29udGFpbmVyID0gY3VyclNsaWRlci5maW5kKFwiI2d0LWNsb25lLWNvbnRhaW5lclwiKSxcclxuICAgICAgICAgICAgLy8gaW5uZXJzID0gY29udGFpbmVyLmZpbmQoJy5ndC1jbG9uZS1zbGlkZXItaW5uZXInKSxcclxuICAgICAgICAgICAgaW5uZXJMZW5ndGggPSBpbm5lcnMubGVuZ3RoLFxyXG4gICAgICAgICAgICBiYXNlV2lkdGggPSBjdXJyU2xpZGVyLm91dGVyV2lkdGgoKTtcclxuICAgIFxyXG4gICAgICAgIGlubmVycy5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgJCh0aGlzKS5vdXRlcldpZHRoKGJhc2VXaWR0aCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY29udGFpbmVyLm91dGVyV2lkdGgoYmFzZVdpZHRoICogKGlubmVyTGVuZ3RoICsgMSkpO1xyXG4gICAgICAgIGNvbnRhaW5lci5jc3MoXCJtYXJnaW4tbGVmdFwiLCBiYXNlV2lkdGggKiAtMSAqIGN1cnJQb3NpdGlvbiArIFwicHhcIik7XHJcbiAgICAgICAgc2V0VGltZW91dChhZGRBbmltYXRpb24pO1xyXG4gICAgXHJcbiAgICAgICAgZnVuY3Rpb24gYWRkQW5pbWF0aW9uKCkge1xyXG4gICAgICAgICAgICBjb250YWluZXIuYWRkQ2xhc3MoXCJndC1hbmltYXRlZFwiKTtcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICBjaGVja1Bvc2l0aW9uKCk7XHJcbiAgICAgICAgdmFyIGluaXRpYWxQb2ludCA9IDAsXHJcbiAgICAgICAgICAgIGZpbmFsUG9pbnQgPSAwO1xyXG4gICAgICAgIGN1cnJTbGlkZXIub24oXCJ0b3VjaHN0YXJ0XCIsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICB2YXIgZSA9IGV2ZW50Lm9yaWdpbmFsRXZlbnQ7XHJcbiAgICAgICAgICAgIGluaXRpYWxQb2ludCA9IE1hdGguYWJzKGUudG91Y2hlc1swXS5wYWdlWCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY3VyclNsaWRlci5vbihcInRvdWNoZW5kXCIsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICB2YXIgZSA9IGV2ZW50Lm9yaWdpbmFsRXZlbnQ7XHJcbiAgICAgICAgICAgIGZpbmFsUG9pbnQgPSBNYXRoLmFicyhlLmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VYKTtcclxuICAgICAgICAgICAgaWYgKE1hdGguYWJzKGluaXRpYWxQb2ludCAtIGZpbmFsUG9pbnQpID4gNTApIHtcclxuICAgICAgICAgICAgICAgIGlmIChpbml0aWFsUG9pbnQgPiBmaW5hbFBvaW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbW92ZUNsb25lU2xpZGVyTGVmdCgpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBtb3ZlQ2xvbmVTbGlkZXJSaWdodCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICBcclxuICAgICAgICAkKFwiI2d0LWNsb25lLWNsb3NlXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBzZWxmLmRlc3Ryb3lDbG9uZVNsaWRlcigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgXHJcbiAgICAgICAgZnVuY3Rpb24gbW92ZUNsb25lU2xpZGVyUmlnaHQoKSB7XHJcbiAgICAgICAgICAgIGN1cnJQb3NpdGlvbiArPSAxO1xyXG4gICAgICAgICAgICBpZiAoY3VyclBvc2l0aW9uID4gaW5uZXJMZW5ndGggLSAxKSB7XHJcbiAgICAgICAgICAgICAgICBjdXJyUG9zaXRpb24gPSBpbm5lckxlbmd0aCAtIDE7XHJcbiAgICAgICAgICAgICAgICBzZWxmLnNsaWRlckVuZFJpZ2h0KGN1cnJTbGlkZXIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNlbGYuc2xpZGVyTW92ZShjdXJyU2xpZGVyLCBiYXNlV2lkdGgsIGN1cnJQb3NpdGlvbik7XHJcbiAgICAgICAgICAgIGNoZWNrUG9zaXRpb24oKTtcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICBmdW5jdGlvbiBtb3ZlQ2xvbmVTbGlkZXJMZWZ0KCkge1xyXG4gICAgICAgICAgICBjdXJyUG9zaXRpb24gLT0gMTtcclxuICAgICAgICAgICAgaWYgKGN1cnJQb3NpdGlvbiA8IDApIHtcclxuICAgICAgICAgICAgICAgIGN1cnJQb3NpdGlvbiA9IDA7XHJcbiAgICAgICAgICAgICAgICBzZWxmLnNsaWRlckVuZExlZnQoY3VyclNsaWRlcik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2VsZi5zbGlkZXJNb3ZlKGN1cnJTbGlkZXIsIGJhc2VXaWR0aCwgY3VyclBvc2l0aW9uKTtcclxuICAgICAgICAgICAgY2hlY2tQb3NpdGlvbigpO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIGZ1bmN0aW9uIGNoZWNrUG9zaXRpb24oKSB7XHJcbiAgICAgICAgICAgIGlmICghJChcIiNndC1jbG9uZS1hcnJvdy1sZWZ0XCIpKSByZXR1cm47XHJcbiAgICAgICAgICAgIHZhciBsZWZ0ID0gJChcIiNndC1jbG9uZS1hcnJvdy1sZWZ0XCIpLFxyXG4gICAgICAgICAgICAgICAgcmlnaHQgPSAkKFwiI2d0LWNsb25lLWFycm93LXJpZ2h0XCIpO1xyXG4gICAgICAgICAgICByaWdodC5yZW1vdmVDbGFzcyhcIm5vdC1hY3RpdmVcIik7XHJcbiAgICAgICAgICAgIGxlZnQucmVtb3ZlQ2xhc3MoXCJub3QtYWN0aXZlXCIpO1xyXG4gICAgICAgICAgICBpZiAoY3VyclBvc2l0aW9uID09IDApIGxlZnQuYWRkQ2xhc3MoXCJub3QtYWN0aXZlXCIpO1xyXG4gICAgICAgICAgICBpZiAoY3VyclBvc2l0aW9uID09IGlubmVyTGVuZ3RoIC0gMSkgcmlnaHQuYWRkQ2xhc3MoXCJub3QtYWN0aXZlXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBcclxuICAgIHRoaXMuZGVzdHJveUNsb25lU2xpZGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICQoXCIjZ3QtY2xvbmUtYXJyb3ctcmlnaHRcIikub2ZmKCk7XHJcbiAgICAgICAgJChcIiNndC1jbG9uZS1hcnJvdy1sZWZ0XCIpLm9mZigpO1xyXG4gICAgICAgICQoXCIjZ3QtY2xvbmUtY2xvc2VcIikub2ZmKCk7XHJcbiAgICAgICAgJChcIiNndC1jbG9uZS1pbm5lclwiKS5vZmYoKTtcclxuICAgICAgICAkKFwiI2d0LWNsb25lXCIpLnJlbW92ZSgpO1xyXG4gICAgICAgICQoXCIjZ3QtYm9keS13cmFwcGVyXCIpLmhpZGUoKTtcclxuICAgICAgICBzZWxmLnVuZml4Qm9keSgpO1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgXHJcbiAgICB0aGlzLnNsaWRlckVuZExlZnQgPSBmdW5jdGlvbiAoZWwpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcImxlZnRfZW5kXCIpO1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgdGhpcy5zbGlkZXJFbmRSaWdodCA9IGZ1bmN0aW9uIChlbCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwicmlnaHRfZW5kXCIpO1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgdGhpcy5zbGlkZXJNb3ZlID0gZnVuY3Rpb24gKGVsLCB3aWR0aCwgcG9zaXRpb24pIHtcclxuICAgICAgICBpZiAoZWwuZmluZChcIi5ndC1zbGlkZXItbmF2XCIpKSB7XHJcbiAgICAgICAgICAgIHZhciBkb3RzID0gZWwuZmluZChcIi5ndC1zbGlkZXItbmF2IHNwYW5cIik7XHJcbiAgICAgICAgICAgIGRvdHMucmVtb3ZlQ2xhc3MoXCJndC1hY3RpdmVcIik7XHJcbiAgICAgICAgICAgICQoZG90c1twb3NpdGlvbl0pLmFkZENsYXNzKFwiZ3QtYWN0aXZlXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbFxyXG4gICAgICAgICAgICAuZmluZChcIi5ndC1zbGlkZXItY29udGFpbmVyXCIpXHJcbiAgICAgICAgICAgIC5jc3MoXCJtYXJnaW4tbGVmdFwiLCB3aWR0aCAqIC0xICogcG9zaXRpb24gKyBcInB4XCIpO1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgXHJcbiAgICBcclxuICAgIFxyXG4gICAgdGhpcy5udW1iZXJDb2xsZWN0aW9uQXJ0aWNsZSA9IGZ1bmN0aW9uIChlbCkge1xyXG4gICAgICAgIGVsLmZpbmQoXCIuZ3QtY29sbGVjdGlvbi1saW5rLXdyYXBwZXJcIikuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICQodGhpcykuZmluZCgnLmd0LWNvbGxlY3Rpb24tbGluay1zbGlkZXItd3JhcHBlcicpLmFmdGVyKCc8ZGl2IGNsYXNzID0gXCJndC1jb2xsZWN0aW9uLWxpbmstbnVtYmVyXCI+PHNwYW4+JyArICgkKHRoaXMpLmluZGV4KCkgKyAxKSArICc8L3NwYW4+PC9kaXY+JylcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJCh0aGlzKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICBcclxuICAgIFxyXG4gICAgaWYgKCQoXCJkaXZcIikuaXMoXCIuZ3QtY29sbGVjdGlvbi13cmFwcGVyLW51bVwiKSkge1xyXG4gICAgICAgICQoXCIuZ3QtY29sbGVjdGlvbi13cmFwcGVyLW51bVwiKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgc2VsZi5udW1iZXJDb2xsZWN0aW9uQXJ0aWNsZSgkKHRoaXMpKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgaWYgKCQoXCJkaXZcIikuaXMoXCIuZ3Qtc2xpZGVyXCIpKSB7XHJcbiAgICAgICAgc2VsZi5jcmVhdGVTbGlkZXJzKCk7XHJcbiAgICB9XHJcbiAgICB0aGlzLm1hbmFnZUd0QWN0aXZlVWxNZW51ID0gZnVuY3Rpb24gKGVsKSB7XHJcbiAgICAgICAgaWYgKGVsLnRhZ05hbWUgIT0gXCJsaVwiKVxyXG4gICAgICAgICAgICBlbCA9ICQoZWwpLmNsb3Nlc3QoXCJsaVwiKVxyXG4gICAgXHJcbiAgICAgICAgJChlbCkuY2xvc2VzdCgkKFwidWxcIikpLmZpbmQoXCJsaVwiKS5yZW1vdmVDbGFzcyhcImd0LWFjdGl2ZVwiKTtcclxuICAgICAgICAkKGVsKS5hZGRDbGFzcyhcImd0LWFjdGl2ZVwiKTtcclxuICAgIH07XHJcbiAgICBcclxuICAgIFxyXG4gICAgaWYgKCQoXCIqXCIpLmlzKFwiLmd0LWh1bmRyZXQtbWVudVwiKSkge1xyXG4gICAgICAgICQoXCIuZ3QtaHVuZHJldC1tZW51XCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIHNlbGYubWFuYWdlR3RBY3RpdmVVbE1lbnUoZXZlbnQudGFyZ2V0KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgXHJcbiAgICBpZiAoJChcIipcIikuaXMoXCIuZ3QtYnV0dG9uLW1lbnVcIikpIHtcclxuICAgICAgICAkKFwiLmd0LWJ1dHRvbi1tZW51XCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIHNlbGYubWFuYWdlR3RBY3RpdmVVbE1lbnUoZXZlbnQudGFyZ2V0KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgaWYgKCQoXCIqXCIpLmlzKFwiLmd0LW1lbnUtbmV3c1wiKSkge1xyXG4gICAgICAgICQoXCIuZ3QtbWVudS1uZXdzXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIHNlbGYubWFuYWdlR3RBY3RpdmVVbE1lbnUoZXZlbnQudGFyZ2V0KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgdGhpcy50YWJTbGlkZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHRhYlNsaWRlcnMgPSAkKFwiLmd0LXRhYnNcIik7XHJcbiAgICAgICAgdGFiU2xpZGVycy5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGN1cnJUYWJzID0gJCh0aGlzKTtcclxuICAgICAgICAgICAgY3VyclRhYnMuZmluZChcIi5ndC10YWJzLWJ1dHRvblwiKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICQodGhpcykub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi50YWJTbGlkZXJBY3Rpb24oY3VyclRhYnMsICQodGhpcykuaW5kZXgoKSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHNlbGYudGFiU2xpZGVyQWN0aXZhdGlvbihjdXJyVGFicyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICB0aGlzLnRhYlNsaWRlckFjdGl2YXRpb24gPSBmdW5jdGlvbiAoZWwpIHtcclxuICAgICAgICAkKGVsLmZpbmQoXCIuZ3QtdGFicy1idXR0b25cIikpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICQoZWwuZmluZChcIi5ndC10YWJzLW1haW5cIikpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICQoZWwuZmluZChcIi5ndC10YWJzLW1haW5cIikpLmhpZGUoKTtcclxuICAgICAgICAkKGVsLmZpbmQoXCIuZ3QtdGFicy1idXR0b25cIilbMF0pLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICQoZWwuZmluZChcIi5ndC10YWJzLW1haW5cIilbMF0pLnNob3coKTtcclxuICAgICAgICAkKGVsLmZpbmQoXCIuZ3QtdGFicy1tYWluXCIpWzBdKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgIH07XHJcbiAgICBcclxuICAgIHRoaXMudGFiU2xpZGVyQWN0aW9uID0gZnVuY3Rpb24gKGVsLCBudW0pIHtcclxuICAgICAgICAkKGVsLmZpbmQoXCIuZ3QtdGFicy1idXR0b25cIikpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICQoZWwuZmluZChcIi5ndC10YWJzLW1haW5cIikpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICQoZWwuZmluZChcIi5ndC10YWJzLW1haW5cIikpLmhpZGUoKTtcclxuICAgICAgICAkKGVsLmZpbmQoXCIuZ3QtdGFicy1idXR0b25cIilbbnVtXSkuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgJChlbC5maW5kKFwiLmd0LXRhYnMtbWFpblwiKVtudW1dKS5zaG93KCk7XHJcbiAgICAgICAgJChlbC5maW5kKFwiLmd0LXRhYnMtbWFpblwiKVtudW1dKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgIH07XHJcbiAgICBcclxuICAgIFxyXG4gICAgXHJcbiAgICBcclxuICAgIFxyXG4gICAgaWYgKCQoXCJkaXZcIikuaXMoXCIuZ3QtdGFic1wiKSkge1xyXG4gICAgICAgIHNlbGYudGFiU2xpZGVyKCk7XHJcbiAgICB9XHJcbiAgICB0aGlzLnNldFBsYXllcnMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHRhZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7XHJcbiAgICAgICAgdGFnLnR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiO1xyXG4gICAgICAgIHRhZy5zcmMgPSBcImh0dHBzOi8vd3d3LnlvdXR1YmUuY29tL3BsYXllcl9hcGlcIjtcclxuICAgICAgICB2YXIgbGFzdFNjcmlwdFRhZyA9ICQoXCJzY3JpcHRcIilbJChcInNjcmlwdFwiKS5sZW5ndGggLSAxXTtcclxuICAgICAgICBsYXN0U2NyaXB0VGFnLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHRhZywgbGFzdFNjcmlwdFRhZyk7XHJcbiAgICAgICAgdmFyIGd0VmlkZW9zID0gJChcIi5ndC12aWRlb1wiKTtcclxuICAgICAgICBndFZpZGVvcy5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGN1cnJlbnRQbGF5ZXIgPSAkKHRoaXMpO1xyXG4gICAgICAgICAgICBjdXJyZW50UGxheWVyLmZpbmQoXCIuZ3QtdmlkZW8tc3dpdGNoXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcyhcImd0LW9wZW5cIik7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50UGxheWVyLmFkZENsYXNzKFwiZ3Qtb3BlblwiKTtcclxuICAgICAgICAgICAgICAgIHNlbGYuYWRkWW91VHViZShjdXJyZW50UGxheWVyKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICB0aGlzLmFkZFlvdVR1YmUgPSBmdW5jdGlvbiAoZWwpIHtcclxuICAgICAgICB2YXIgcGxheWVyLFxyXG4gICAgICAgICAgICBlbElkID0gXCJndC12aWRlby1cIiArIGVsLmluZGV4KCk7XHJcbiAgICBcclxuICAgICAgICBlbC5maW5kKFwiLmd0LXZpZGVvLXN3aXRjaFwiKS5oaWRlKCdzbG93Jyk7XHJcbiAgICBcclxuICAgICAgICBlbFxyXG4gICAgICAgICAgICAuZmluZChcIi5ndC12aWRlby1pbm5lclwiKVxyXG4gICAgICAgICAgICAuYXR0cihcImlkXCIsIGVsSWQpXHJcbiAgICAgICAgICAgIC5hZGRDbGFzcyhcImd0LXZpZGVvLWZvcmVncm91bmRcIik7XHJcbiAgICBcclxuICAgICAgICBmdW5jdGlvbiBvbllvdVR1YmVJZnJhbWVBUElSZWFkeSgpIHtcclxuICAgICAgICAgICAgcGxheWVyID0gbmV3IFlULlBsYXllcihlbElkLCB7XHJcbiAgICAgICAgICAgICAgICB3aWR0aDogNjAwLFxyXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiA0MDAsXHJcbiAgICAgICAgICAgICAgICB2aWRlb0lkOiBlbC5hdHRyKFwiZGF0YS15b3V0dWJlXCIpLFxyXG4gICAgICAgICAgICAgICAgcGxheWVyVmFyczoge1xyXG4gICAgICAgICAgICAgICAgICAgIHBsYXlsaXN0OiBlbC5hdHRyKFwiZGF0YS15b3V0dWJlXCIpLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiBcIndoaXRlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgbG9vcDogMSxcclxuICAgICAgICAgICAgICAgICAgICBhdXRvcGxheTogMVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGRpc2FibGVrYjogMCxcclxuICAgICAgICAgICAgICAgICAgICAvLyBjb250cm9sczogMFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGV2ZW50czoge1xyXG4gICAgICAgICAgICAgICAgICAgIG9uUmVhZHk6IGluaXRpYWxpemVcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgb25Zb3VUdWJlSWZyYW1lQVBJUmVhZHkoKTtcclxuICAgIFxyXG4gICAgICAgIGZ1bmN0aW9uIGluaXRpYWxpemUoKSB7XHJcbiAgICAgICAgICAgIHBsYXllci5tdXRlKCk7XHJcbiAgICAgICAgICAgIHBsYXllci5wbGF5VmlkZW8oKTtcclxuICAgICAgICAgICAgZWwuYWRkQ2xhc3MoXCJndC12aWRlby1vblwiKTtcclxuICAgICAgICAgICAgZWwuZmluZChcIi5ndC12aWRlby11bmNvdmVyXCIpLm9uKCdjbGljaycsIHBsYXlGdWxsU2NyZWVuKTtcclxuICAgICAgICAgICAgZWwuZmluZChcIi5ndC12aWRlby1wYXVzZVwiKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXIucGF1c2VWaWRlbygpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgZWwuZmluZChcIi5ndC12aWRlby1wbGF5XCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcGxheWVyLnBsYXlWaWRlbygpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICBmdW5jdGlvbiBwbGF5RnVsbFNjcmVlbigpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ3BsYXlGdWxsU2NyZWVuJyk7XHJcbiAgICAgICAgICAgIHZhciBpZnJhbWUgPSBlbC5maW5kKCdpZnJhbWUnKVswXTtcclxuICAgICAgICAgICAgdmFyIHJlcXVlc3RGdWxsU2NyZWVuID0gaWZyYW1lLnJlcXVlc3RGdWxsU2NyZWVuIHx8IGlmcmFtZS5tb3pSZXF1ZXN0RnVsbFNjcmVlbiB8fCBpZnJhbWUud2Via2l0UmVxdWVzdEZ1bGxTY3JlZW47XHJcbiAgICAgICAgICAgIGlmIChyZXF1ZXN0RnVsbFNjcmVlbikge1xyXG4gICAgICAgICAgICAgICAgcmVxdWVzdEZ1bGxTY3JlZW4uYmluZChpZnJhbWUpKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICBcclxuICAgIH07XHJcbiAgICBcclxuICAgIFxyXG4gICAgXHJcbiAgICBcclxuICAgIFxyXG4gICAgXHJcbiAgICBcclxuICAgIFxyXG4gICAgXHJcbiAgICBcclxuICAgIFxyXG4gICAgXHJcbiAgICBcclxuICAgIFxyXG4gICAgXHJcbiAgICBcclxuICAgIFxyXG4gICAgXHJcbiAgICBcclxuICAgIFxyXG4gICAgXHJcbiAgICBcclxuICAgIFxyXG4gICAgXHJcbiAgICBpZiAoJChcImRpdlwiKS5pcyhcIi5ndC12aWRlb1wiKSkge1xyXG4gICAgICAgIHNlbGYuc2V0UGxheWVycygpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5maXhBcnRpY2xlU2Nyb2xsVGFibGVQb3NpdGlvbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgIFxyXG4gICAgXHJcbiAgICAgICAgdmFyIHRhYmxlID0gJChcIi5ndC1hcnRpY2xlLXRhYmxlLXdyYXBwZXJcIiksXHJcbiAgICAgICAgICAgIHRhYmxlUGFyZW50ID0gdGFibGUucGFyZW50KCksXHJcbiAgICAgICAgICAgIHRhYmxlUGFyZW50VG9wID0gdGFibGVQYXJlbnQucG9zaXRpb24oKS50b3AsXHJcbiAgICAgICAgICAgIHRhYmxlUGFyZW50Qm90dG9tID0gdGFibGVQYXJlbnRUb3AgKyB0YWJsZVBhcmVudC5vdXRlckhlaWdodCgpLFxyXG4gICAgICAgICAgICB0YWJsZVdpZHRoID0gdGFibGUub3V0ZXJXaWR0aCgpLFxyXG4gICAgICAgICAgICB3aW5kb3dUb3AgPSBkb2Muc2Nyb2xsVG9wKCksXHJcbiAgICAgICAgICAgIHdpZG93SGVpZ2h0ID0gZG9jV2luZG93Lm91dGVySGVpZ2h0KCk7XHJcbiAgICBcclxuICAgIFxyXG4gICAgICAgIGlmICh0YWJsZVBhcmVudFRvcCA+IHdpbmRvd1RvcCkge1xyXG4gICAgICAgICAgICBpZiAodGFibGUuaGFzQ2xhc3MoXCJndC1maXhlZFwiKSkge1xyXG4gICAgICAgICAgICAgICAgdGFibGUucmVtb3ZlQ2xhc3MoXCJndC1maXhlZFwiKTtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgdGFibGUuY3NzKHtcclxuICAgICAgICAgICAgICAgICAgICBsZWZ0OiBcIlwiLFxyXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiBcIlwiXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIGlmICh0YWJsZVBhcmVudFRvcCA8IHdpbmRvd1RvcCArIDkwKSB7XHJcbiAgICAgICAgICAgIGlmICghdGFibGUuaGFzQ2xhc3MoXCJndC1maXhlZFwiKSkge1xyXG4gICAgICAgICAgICAgICAgdGFibGUuY3NzKHtcclxuICAgICAgICAgICAgICAgICAgICBsZWZ0OiB0YWJsZS5vZmZzZXQoKS5sZWZ0ICsgXCJweFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiB0YWJsZVdpZHRoXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHRhYmxlLmFkZENsYXNzKFwiZ3QtZml4ZWRcIik7XHJcbiAgICBcclxuICAgIFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh3aW5kb3dUb3AgKyB3aWRvd0hlaWdodCA+IHRhYmxlUGFyZW50Qm90dG9tKSB7XHJcbiAgICAgICAgICAgICAgICB0YWJsZS5hZGRDbGFzcyhcImd0LWZpeGVkLWJvdHRvbVwiKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRhYmxlLnJlbW92ZUNsYXNzKFwiZ3QtZml4ZWQtYm90dG9tXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKHRhYmxlLmhhc0NsYXNzKFwiZ3QtZml4ZWRcIikpIHtcclxuICAgICAgICAgICAgICAgIHRhYmxlLmNzcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAod2lkb3dIZWlnaHQgLSAxMjApICsgJ3B4J1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0YWJsZS5jc3Moe1xyXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogJydcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSkoKTtcclxuICAgIH07XHJcbiAgICBcclxuICAgIFxyXG4gICAgXHJcbiAgICB0aGlzLmNyZWF0ZUFydGljdGVTY3JvbGxUYWJsZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoISQoXCJkaXZcIikuaXMoXCIuZ3QtYXJ0aWNsZVwiKSkgcmV0dXJuO1xyXG4gICAgICAgIHZhciBhcnRpY2xlcyA9ICQoXCIuZ3QtYXJ0aWNsZVwiKSxcclxuICAgICAgICAgICAgaHRtbCA9IFwiXCI7XHJcbiAgICAgICAgYXJ0aWNsZXMuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGh0bWwgKz1cclxuICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzID0gXCJndC1hcnRpY2xlLXNjcm9sbFwiPjxkaXYgY2xhc3MgPSBcImd0LWFydGljbGUtc2Nyb2xsLXNoYWRvd1wiPjwvZGl2PjxwPicgK1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKVxyXG4gICAgICAgICAgICAgICAgICAgIC5maW5kKFwiaDJcIilcclxuICAgICAgICAgICAgICAgICAgICAudGV4dCgpICtcclxuICAgICAgICAgICAgICAgIFwiPC9wPjwvZGl2PlwiO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgICQoXCIjZ3QtYXJ0aWNsZS1zY3JvbGwtdGFibGVcIikuaHRtbChodG1sKTtcclxuICAgIH07XHJcbiAgICBcclxuICAgIHRoaXMuc2hvd0FydGlkbGVTaGFkb3cgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJChcIi5ndC1hcnRpY2xlXCIpLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygkKHRoaXMpKTtcclxuICAgICAgICAgICAgdmFyIGN1cnJQb3NpdGlvbiA9ICQodGhpcykucG9zaXRpb24oKS50b3AsXHJcbiAgICAgICAgICAgICAgICBlbEhlaWdodCA9ICQodGhpcykub3V0ZXJIZWlnaHQoKSxcclxuICAgICAgICAgICAgICAgIHdpbmRvd1Bvc2l0aW9uID0gJChkb2N1bWVudCkuc2Nyb2xsVG9wKCksXHJcbiAgICAgICAgICAgICAgICB4ID0gMDtcclxuICAgICAgICAgICAgaWYgKGN1cnJQb3NpdGlvbiA+IHdpbmRvd1Bvc2l0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICB4ID0gMDtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHggPSAod2luZG93UG9zaXRpb24gLSBjdXJyUG9zaXRpb24pIC8gZWxIZWlnaHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHggPiAxKSB4ID0gMTtcclxuICAgICAgICAgICAgdmFyIGN1cnJTaGFkb3cgPSAkKFwiLmd0LWFydGljbGUtc2Nyb2xsXCIpWyQodGhpcykuaW5kZXgoKV07XHJcbiAgICAgICAgICAgICQoY3VyclNoYWRvdylcclxuICAgICAgICAgICAgICAgIC5maW5kKFwiLmd0LWFydGljbGUtc2Nyb2xsLXNoYWRvd1wiKVxyXG4gICAgICAgICAgICAgICAgLmNzcyhcIndpZHRoXCIsIHggKiAxMDAgKyBcIiVcIik7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICBcclxuICAgIGlmICgkKCdkaXYnKS5pcygnLmd0LWFydGljbGUtdGFibGUtd3JhcHBlcicpKSB7XHJcbiAgICAgICAgdmFyIHNoYWRvdyA9IGZhbHNlLFxyXG4gICAgICAgICAgICBzY3JvbGxUaW1lb3V0O1xyXG4gICAgXHJcbiAgICAgICAgaWYgKCQoJ2RpdicpLmlzKFwiLmd0LWFydGljbGUtc2Nyb2xsLXRhYmxlXCIpKSB7XHJcbiAgICAgICAgICAgIHNoYWRvdyA9IHRydWU7XHJcbiAgICAgICAgICAgIHNlbGYuY3JlYXRlQXJ0aWN0ZVNjcm9sbFRhYmxlKCk7XHJcbiAgICAgICAgICAgIHNlbGYuc2hvd0FydGlkbGVTaGFkb3coKTtcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgIFxyXG4gICAgICAgIGZ1bmN0aW9uIHNjcm9sbFRocm90dGxlcigpIHtcclxuICAgICAgICAgICAgaWYgKCFzY3JvbGxUaW1lb3V0KSB7XHJcbiAgICAgICAgICAgICAgICBzY3JvbGxUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsVGltZW91dCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5maXhBcnRpY2xlU2Nyb2xsVGFibGVQb3NpdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzaGFkb3cpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5zaG93QXJ0aWRsZVNoYWRvdygpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAgICAgfSwgNjYpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICBcclxuICAgICAgICBkb2NXaW5kb3cuc2Nyb2xsKHNjcm9sbFRocm90dGxlcik7XHJcbiAgICAgICAgZG9jV2luZG93LnJlc2l6ZShzY3JvbGxUaHJvdHRsZXIpO1xyXG4gICAgXHJcbiAgICBcclxuICAgIH1cclxuICAgIHRoaXMuc2V0Q3VyclRpbWUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgc2VsZi5jdXJyVGltZSgpO1xyXG4gICAgICAgIHZhciB0ID0gc2V0SW50ZXJ2YWwoc2VsZi5jdXJyVGltZSwgMzAwMDApO1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgXHJcbiAgICBcclxuICAgIHRoaXMuY3VyclRpbWUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJChcIi5ndC1jdXJyLXRpbWVcIikuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBkYXRlID0gbmV3IERhdGUoKTtcclxuICAgICAgICAgICAgaWYgKCQodGhpcykuYXR0cihcImRhdGEtZ210XCIpKSBkYXRlLnNldFVUQ0hvdXJzKCskKHRoaXMpLmF0dHIoXCJkYXRhLWdtdFwiKSk7XHJcbiAgICAgICAgICAgIHZhciBob3VycyA9IGRhdGUuZ2V0SG91cnMoKSxcclxuICAgICAgICAgICAgICAgIG1pbnV0ZXMgPSBkYXRlLmdldE1pbnV0ZXMoKSxcclxuICAgICAgICAgICAgICAgIHdlZWtkYXkgPSBkYXRlLmdldERheSgpLFxyXG4gICAgICAgICAgICAgICAgZGF5ID0gZGF0ZS5nZXREYXRlKCksXHJcbiAgICAgICAgICAgICAgICBtb250aCA9IGRhdGUuZ2V0TW9udGgoKSxcclxuICAgICAgICAgICAgICAgIHllYXIgPSBkYXRlLmdldEZ1bGxZZWFyKCksXHJcbiAgICAgICAgICAgICAgICB3ZWVrZGF5cyA9IFtcclxuICAgICAgICAgICAgICAgICAgICBcItCS0L7RgdC60YDQtdGB0LXQvdGM0LVcIixcclxuICAgICAgICAgICAgICAgICAgICBcItCf0L7QvdC10LTQtdC70YzQvdC40LpcIixcclxuICAgICAgICAgICAgICAgICAgICBcItCS0YLQvtGA0L3QuNC6XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCLQodGA0LXQtNCwXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCLQp9C10YLQstC10YDQs1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwi0J/Rj9GC0L3QuNGG0LBcIixcclxuICAgICAgICAgICAgICAgICAgICBcItCh0YPQsdCx0L7RgtCwXCJcclxuICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgICAgICBtb250aGVzID0gW1xyXG4gICAgICAgICAgICAgICAgICAgIFwi0Y/QvdCy0LDRgNGPXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCLRhNC10LLRgNCw0LvRj1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwi0LzQsNGA0YLQsFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwi0LDQv9GA0LXQu9GPXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCLQvNCw0Y9cIixcclxuICAgICAgICAgICAgICAgICAgICBcItC40Y7QvdGPXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCLQuNGO0LvRj1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwi0LDQstCz0YPRgdGC0LBcIixcclxuICAgICAgICAgICAgICAgICAgICBcItGB0LXQvdGC0Y/QsdGA0Y9cIixcclxuICAgICAgICAgICAgICAgICAgICBcItC+0LrRgtGP0LHRgNGPXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCLQvdC+0Y/QsdGA0Y9cIixcclxuICAgICAgICAgICAgICAgICAgICBcItC00LXQutCw0LHRgNGPXCJcclxuICAgICAgICAgICAgICAgIF07XHJcbiAgICAgICAgICAgIGlmIChob3VycyA8IDEwKSBob3VycyA9IFwiMFwiICsgaG91cnM7XHJcbiAgICAgICAgICAgIGlmIChtaW51dGVzIDwgMTApIG1pbnV0ZXMgPSBcIjBcIiArIG1pbnV0ZXM7XHJcbiAgICAgICAgICAgIHdlZWtkYXkgPSB3ZWVrZGF5c1t3ZWVrZGF5XTtcclxuICAgICAgICAgICAgbW9udGggPSBtb250aGVzW21vbnRoXTtcclxuICAgICAgICAgICAgaWYgKCQoXCIuZ3QtY3Vyci10aW1lLXRpbWVcIikpXHJcbiAgICAgICAgICAgICAgICAkKFwiLmd0LWN1cnItdGltZS10aW1lXCIpLmh0bWwoaG91cnMgKyBcIjpcIiArIG1pbnV0ZXMpO1xyXG4gICAgICAgICAgICBpZiAoJChcIi5ndC1jdXJyLXRpbWUtZGF0ZVwiKSlcclxuICAgICAgICAgICAgICAgICQoXCIuZ3QtY3Vyci10aW1lLWRhdGVcIikuaHRtbChcclxuICAgICAgICAgICAgICAgICAgICB3ZWVrZGF5ICsgXCIsIFwiICsgZGF5ICsgXCIgXCIgKyBtb250aCArIFwiIFwiICsgeWVhclxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBcclxuICAgIFxyXG4gICAgaWYgKCQoXCJkaXZcIikuaXMoXCIuZ3QtY3Vyci10aW1lXCIpKSB7XHJcbiAgICAgICAgc2VsZi5zZXRDdXJyVGltZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuaW5uZXJTY3JvbGwgPSBmdW5jdGlvbiAoZWwpIHtcclxuICAgICAgICBpZiAoZWwuZmluZChcIi5vdmVydmlld1wiKS5oZWlnaHQoKSA+IGVsLmhlaWdodCgpXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIGVsLmFkZENsYXNzKFwiaXNTY3JvbGxlZFwiKTtcclxuICAgICAgICAgICAgZWwudGlueXNjcm9sbGJhcih7XHJcbiAgICAgICAgICAgICAgICB0aHVtYlNpemU6IDQwLFxyXG4gICAgICAgICAgICAgICAgd2hlZWxTcGVlZDogMTBcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICBcclxuICAgIFxyXG4gICAgICAgIGlmICgkKFwiZGl2XCIpLmlzKFwiLmd0LWlubmVyLXNjcm9sbFwiKSkge1xyXG4gICAgXHJcbiAgICAgICAgICAgICQoJy5ndC1pbm5lci1zY3JvbGwnKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHNlbGYuaW5uZXJTY3JvbGwoJCh0aGlzKSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICBcclxuICAgIFxyXG4gICAgICAgIH1cclxuXHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vL2RvZXMgbm90IHdvcmtcclxuXHJcbiAgICBcclxuICAgIFxyXG4gICAgdGhpcy5jcmVhdGVJY29uc0l0ZW1zQ2xpY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJChcIi5ndC12aWV3LWNhcmRzLWljb25zLWl0ZW1cIikuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmICgkKHRoaXMpLmhhc0NsYXNzKFwiZ3Qtdmlldy1jYXJkcy1pY29ucy12aXNpdFwiKSkge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5jcmVhdGVWaXNpdExpbmsoJCh0aGlzKSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCQodGhpcykuaGFzQ2xhc3MoXCJndC12aWV3LWNhcmRzLWljb25zLWJvb2ttYXJrc1wiKSkge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5jcmVhdGVCb29rbWFya3NMaW5rKCQodGhpcykpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgICQodGhpcykuaGFzQ2xhc3MoXCJndC12aWV3LWNhcmRzLWljb25zLXBpblwiKSB8fFxyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5oYXNDbGFzcyhcImd0LXZpZXctY2FyZHMtaWNvbnMtc2hhcmVcIilcclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLnRvZ2dsZUd0QWN0aXZlKCQodGhpcykpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICgkKHRoaXMpLmhhc0NsYXNzKFwiZ3Qtdmlldy1jYXJkcy1pY29ucy1zaGFyZVwiKSkge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5jcmVhdGVTaGFyZUxpbmsoJCh0aGlzKSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBcclxuICAgIHRoaXMuY3JlYXRlU2hhcmVMaW5rID0gZnVuY3Rpb24gKGVsKSB7XHJcbiAgICAgICAgZWwucmVtb3ZlQ2xhc3MoXCJndC1hY3RpdmVcIik7XHJcbiAgICAgICAgZWwub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGVsLnRvZ2dsZUNsYXNzKFwiZ3QtYWN0aXZlXCIpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgdGhpcy50b2dnbGVHdEFjdGl2ZSA9IGZ1bmN0aW9uIChlbCkge1xyXG4gICAgICAgIHZhciBlbCA9ICQoZWwpO1xyXG4gICAgICAgIGVsLnJlbW92ZUNsYXNzKFwiZ3QtYWN0aXZlXCIpO1xyXG4gICAgICAgIGVsLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBlbC50b2dnbGVDbGFzcyhcImd0LWFjdGl2ZVwiKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBcclxuICAgIFxyXG4gICAgdGhpcy5jcmVhdGVWaXNpdExpbmsgPSBmdW5jdGlvbiAoZWwpIHtcclxuICAgICAgICBpZiAoIWVsLmNsb3Nlc3QoXCIuZ3Qtdmlldy1jYXJkcy1pbm5lclwiKS5hdHRyKFwiZGF0YS1ocmVmXCIpKSByZXR1cm47XHJcbiAgICAgICAgZWwub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHNlbGYuYWRkVmlzaXRlZExpbmsoZWwpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgXHJcbiAgICB0aGlzLmFkZFZpc2l0ZWRMaW5rID0gZnVuY3Rpb24gKGVsKSB7XHJcbiAgICAgICAgYWxlcnQoXHJcbiAgICAgICAgICAgIFwi0L/QvtGB0LvQsNC70Lgg0LTQsNC90L3Ri9C1INC90LAg0LHQtdC6XCIsXHJcbiAgICAgICAgICAgIGVsLmNsb3Nlc3QoXCIuZ3Qtdmlldy1jYXJkcy1pbm5lclwiKS5hdHRyKFwiZGF0YS1ocmVmXCIpXHJcbiAgICAgICAgKTtcclxuICAgICAgICBlbC50b2dnbGVDbGFzcyhcImd0LWFjdGl2ZVwiKTtcclxuICAgIH07XHJcbiAgICBcclxuICAgIFxyXG4gICAgdGhpcy5hZGRCb29rbWFyayA9IGZ1bmN0aW9uIChhLCB1cmwsIHRpdGxlKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgd2luZG93LmV4dGVybmFsLkFkZEZhdm9yaXRlKHVybCwgdGl0bGUpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5zaWRlYmFyLmFkZFBhbmVsKHRpdGxlLCB1cmwsIFwiXCIpO1xyXG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9wZXJhID09IFwib2JqZWN0XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBhLnRpdGxlID0gdGl0bGU7XHJcbiAgICAgICAgICAgICAgICAgICAgYS51cmwgPSB1cmw7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwi0J3QsNC20LzQuNGC0LUgQ3RybC1EINGH0YLQvtCx0Ysg0LTQvtCx0LDQstC40YLRjCDRgdGC0YDQsNC90LjRhtGDINCyINC30LDQutC70LDQtNC60LhcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgXHJcbiAgICBcclxuICAgIHRoaXMuY3JlYXRlQm9va21hcmtzTGluayA9IGZ1bmN0aW9uIChlbCkge1xyXG4gICAgICAgIHZhciBlbCA9ICQoZWwpO1xyXG4gICAgICAgIHZhciBwYXJlbnQgPSBlbC5jbG9zZXN0KFwiLmd0LXZpZXctY2FyZHMtaW5uZXJcIik7XHJcbiAgICAgICAgcGFyZW50ID0gJChwYXJlbnQpO1xyXG4gICAgICAgIGlmICghcGFyZW50LmF0dHIoXCJkYXRhLWhyZWZcIikpXHJcbiAgICAgICAgICAgIHBhcmVudC5hdHRyKFwiZGF0YS1ocmVmXCIsIHdpbmRvdy5sb2NhdGlvbi5ocmVmKTtcclxuICAgICAgICBpZiAoIXBhcmVudC5hdHRyKFwiZGF0YS1ib29rbWFya1wiKSkgcGFyZW50LmF0dHIoXCJkYXRhLWJvb2ttYXJrXCIsIFwiR29Ub1RyaXBcIik7XHJcbiAgICAgICAgZWwuYXR0cihcImhyZWZcIiwgcGFyZW50LmF0dHIoXCJkYXRhLWhyZWZcIikpO1xyXG4gICAgICAgIGVsLmF0dHIoXCJyZWxcIiwgXCJzaWRlYmFyXCIpO1xyXG4gICAgICAgIGVsLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICBzZWxmLmFkZEJvb2ttYXJrKFxyXG4gICAgICAgICAgICAgICAgZWwsXHJcbiAgICAgICAgICAgICAgICBwYXJlbnQuYXR0cihcImRhdGEtaHJlZlwiKSxcclxuICAgICAgICAgICAgICAgIHBhcmVudC5hdHRyKFwiZGF0YS1ib29rbWFya1wiKVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgXHJcbiAgICBcclxuICAgIFxyXG4gICAgXHJcbiAgICBpZiAoJChcIipcIikuaXMoXCIuZ3Qtdmlldy1jYXJkcy1pY29ucy1ib29rbWFya3NcIikpIHtcclxuICAgICAgICBzZWxmLmNyZWF0ZUJvb2ttYXJrc0xpbmsoKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgXHJcbiAgICBpZiAoJChcIipcIikuaXMoXCIuZ3Qtdmlldy1jYXJkcy1pY29ucy1pdGVtXCIpKSB7XHJcbiAgICAgICAgc2VsZi5jcmVhdGVJY29uc0l0ZW1zQ2xpY2soKTtcclxuICAgIH1cclxuICAgIC8vINC/0YDQvtCy0LXRgNC60LAg0L3QsCDQvdCw0LvQuNGH0LjQtSAtINC+0LHRgdGD0LTQuNGC0Ywg0YEg0LHQtdC60L7QvCDQv9C+0LLQtdC00LXQs9GC0LVcclxuICAgIFxyXG4gICAgXHJcbiAgICBcclxuICAgICQoJyNndC1lbnRlci1mb3JtLWZhY2Vib29rJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHNlbGYuc29jaWFsRW50ZXIoJ2ZhY2Vib29rJylcclxuICAgIH0pO1xyXG4gICAgJCgnI2d0LWVudGVyLWZvcm0tdHdpdHRlcicpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBzZWxmLnNvY2lhbEVudGVyKCd0d2l0dGVyJylcclxuICAgIH0pO1xyXG4gICAgJCgnI2d0LWVudGVyLWZvcm0tZ29vZ2xlJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHNlbGYuc29jaWFsRW50ZXIoJ2dvb2dsZScpXHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgJCgnI2d0LXJlZy1mb3JtLWZhY2Vib29rJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHNlbGYuc29jaWFsUmVnaXN0cmF0aW9uKCdmYWNlYm9vaycpXHJcbiAgICB9KTtcclxuICAgICQoJyNndC1yZWctZm9ybS10d2l0dGVyJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHNlbGYuc29jaWFsUmVnaXN0cmF0aW9uKCd0d2l0dGVyJylcclxuICAgIH0pO1xyXG4gICAgJCgnI2d0LXJlZy1mb3JtLWdvb2dsZScpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBzZWxmLnNvY2lhbFJlZ2lzdHJhdGlvbignZ29vZ2xlJylcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICB0aGlzLnNvY2lhbFJlZ2lzdHJhdGlvbiA9IGZ1bmN0aW9uICh0b2tlbikge1xyXG4gICAgXHJcbiAgICAgICAgYWxlcnQoXCLQoNC10LPQuNGB0YLRgNCw0YbQuNGPINGH0LXRgNC10LcgXCIgKyB0b2tlbilcclxuICAgIFxyXG4gICAgfTtcclxuICAgIHRoaXMuc29jaWFsRW50ZXIgPSBmdW5jdGlvbiAodG9rZW4pIHtcclxuICAgIFxyXG4gICAgICAgIGFsZXJ0KFwi0JLRhdC+0LQg0YfQtdGA0LXQtyBcIiArIHRva2VuKVxyXG4gICAgXHJcbiAgICB9O1xyXG4gICB0aGlzLmN1dE5ld3MgPSBmdW5jdGlvbiAoZWwpIHtcclxuICAgICAgIHZhciBtYXhIZWlnaHQgPSBlbC5oZWlnaHQoKSxcclxuICAgICAgICAgICBsaW5rcyA9IGVsLmZpbmQoJ2EnKTtcclxuICAgXHJcbiAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpbmtzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgaWYgKCQobGlua3NbaV0pLm91dGVySGVpZ2h0KHRydWUpIDwgbWF4SGVpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICQobGlua3NbaV0pLmFkZENsYXNzKCdndC1yZWFkeScpO1xyXG4gICAgICAgICAgICAgICBtYXhIZWlnaHQgLT0gJChsaW5rc1tpXSkub3V0ZXJIZWlnaHQodHJ1ZSk7XHJcbiAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgdmFyIGN1dHRpbmdMZW5ndGggPSBNYXRoLmZsb29yKCgkKGxpbmtzW2ldKS50ZXh0KCkubGVuZ3RoIC0gMzApICogbWF4SGVpZ2h0IC8gJChsaW5rc1tpXSkuaGVpZ2h0KCkpO1xyXG4gICAgICAgICAgICAgICB2YXIgY3V0dG5pbmcgPSAkKGxpbmtzW2ldKS50ZXh0KCkuc3Vic3RyaW5nKDAsIGN1dHRpbmdMZW5ndGggLSA1KTtcclxuICAgICAgICAgICAgICAgJChsaW5rc1tpXSkudGV4dChjdXR0bmluZyArICcuLi4nKTtcclxuICAgICAgICAgICAgICAgJChsaW5rc1tpXSkuYWRkQ2xhc3MoJ2d0LXJlYWR5Jyk7XHJcbiAgICAgICAgICAgfVxyXG4gICAgICAgfVxyXG4gICB9O1xyXG4gICBcclxuICAgXHJcbiAgIHRoaXMuY3V0UmVhZE1vcmVTbGlkZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICB2YXIgY3V0dGluZ3MgPSAkKFwiLmd0LXJlYWQtbW9yZS1zbGlkZXItdGV4dC1pbm5lclwiKTtcclxuICAgICAgIGN1dHRpbmdzLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgIHNlbGYuY3V0dGluZygkKHRoaXMpLCAxNjApO1xyXG4gICAgICAgfSk7XHJcbiAgIH07XHJcbiAgIFxyXG4gICB0aGlzLmN1dHRpbmcgPSBmdW5jdGlvbiAoZWwsIG51bSkge1xyXG4gICAgICAgdmFyIG5ld3NUZXh0ID0gZWwudGV4dCgpO1xyXG4gICAgICAgaWYgKG5ld3NUZXh0Lmxlbmd0aCA+IG51bSkge1xyXG4gICAgICAgICAgIG5ld3NUZXh0ID0gbmV3c1RleHQuc2xpY2UoMCwgbnVtKSArIFwiLi4uXCI7XHJcbiAgICAgICAgICAgZWwudGV4dChuZXdzVGV4dCk7XHJcbiAgICAgICB9XHJcbiAgIH07XHJcbiAgIFxyXG4gICBpZiAoJChcImRpdlwiKS5pcyhcIi5ndC1uZXdzLWN1dFwiKSkge1xyXG4gICAgICAgJChcIi5ndC1uZXdzLWN1dFwiKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICBzZWxmLmN1dE5ld3MoJCh0aGlzKSk7XHJcbiAgICAgICB9KVxyXG4gICB9XHJcbiAgIFxyXG4gICBpZiAoJChcInBcIikuaXMoXCIuZ3QtcmVhZC1tb3JlLXNsaWRlci10ZXh0LWlubmVyXCIpKSB7XHJcbiAgICAgICBzZWxmLmN1dFJlYWRNb3JlU2xpZGVyKCk7XHJcbiAgIH1cclxuXHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbiAgICBkb2MucmVhZHkoZnVuY3Rpb24gKCkge1xyXG4gICAgXHJcbiAgICAgICAgc2VsZi5mb290ZXJIZWlnaHQoKTsvL19mb290ZXJfaGVpZ2h0LmpzXHJcbiAgICAgICAgc2VsZi5kZXNrVG9wTWVudVNjcm9sbCgpOy8vX2Rlc2N0b3BfaGVhZGVyX2Z1bmMuanNcclxuICAgIFxyXG4gICAgXHJcbiAgICB9KTtcclxuICAgIGRvY1dpbmRvdy5zY3JvbGwoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHNlbGYudXBQYWdlQnV0dG9uKCk7Ly9fdXBfYnV0dG9uLmpzXHJcbiAgICBcclxuICAgIFxyXG4gICAgICAgIGlmICgkKFwiLmd0LWhlYWRlci1tZW51XCIpLmlzKFwiOnZpc2libGVcIikpIHtcclxuICAgICAgICAgICAgc2VsZi5kZXNrVG9wTWVudVNjcm9sbCgpOy8vX2Rlc2N0b3BfaGVhZGVyX2Z1bmMuanNcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgIFxyXG4gICAgXHJcbiAgICB9KTtcclxuICAgICQod2luZG93KS5yZXNpemUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHNlbGYuZGVza1RvcE1lbnVTY3JvbGwoKTtcclxuICAgICAgICBzZWxmLmZvb3RlckhlaWdodCgpO1xyXG4gICAgXHJcbiAgICAgICAgaWYgKGd0SGVhZGVyLmhhc0NsYXNzKFwiZ3Qtb3BlblwiKSkgc2VsZi5tb2JpbGVNZW51Q2xvc2UoKTtcclxuICAgIFxyXG4gICAgICAgIGlmICgkKFwiZGl2XCIpLmlzKFwiLmd0LWltZy1ob2xkZXItYWJzXCIpKSB7XHJcbiAgICAgICAgICAgICQoXCIuZ3QtaW1nLWhvbGRlci1hYnNcIikuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKFwiZ3Qtd2lkdGhcIik7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKFwiZ3QtaGVpZ2h0XCIpO1xyXG4gICAgICAgICAgICAgICAgc2VsZi5pbWdIb2xkZXJGdW5jKCQodGhpcykpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgICQod2luZG93KS5vbignbG9hZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoJChcImRpdlwiKS5pcyhcIi5ndC1pbWctaG9sZGVyLWFic1wiKSkge1xyXG4gICAgICAgICAgICAkKFwiLmd0LWltZy1ob2xkZXItYWJzXCIpLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5pbWdIb2xkZXJGdW5jKCQodGhpcykpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBib2R5Lm9uKCdjbGljaycsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGV2ZW50LnRhcmdldCk7XHJcbiAgICBcclxuICAgIH0pO1xyXG5cclxufTtcclxuXHJcbnZhciBnb1RvVHJpcCA9IG5ldyBHb1RvVHJpcCgpOyJdfQ==
