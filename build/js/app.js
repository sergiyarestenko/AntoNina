GoToTrip=function(){function t(){b||(b=setTimeout(function(){b=null,e.fixArticleScrollTablePosition(),k&&e.showArtidleShadow()}))}var e=this,i=$(document.body),s=$(document),o=$(window),n={top:!1,left:!1},a=$("#gt-is-360"),r=($("#gt-is-480"),$("#gt-is-667")),c=$("#gt-is-768"),l=$("#gt-is-1024"),d=($("#gt-is-1231"),$("header")),g=$("footer"),u=$("#gt-wrapper"),f=$("#gt-up"),h=$("#gt-mobile-menu-switch"),v=$(".gt-enter"),p=$("#gt-header-enter-wrapper"),m=$("#gt-header-enter"),C=$("#gt-header-enter-chose"),w=$("#gt-header-enter-close");if($("html").niceScroll({cursorborder:"1px solid #6d6d6d",mousescrollstep:"60",bouncescroll:!0,cursorcolor:"#6d6d6d"}),this.fixBody=function(){n.top||n.left||(n.top=s.scrollTop(),n.left=i.offset().left,i.css({position:"fixed",left:n.left+"px",top:-1*n.top+"px"}))},this.unfixBody=function(){i.css({position:"",left:"",top:""}),s.scrollTop(n.top),n.top=!1,n.left=!1},this.footerHeight=function(){g.outerHeight()>o.height()-50?(g.css("position","static"),u.css("margin-bottom",""),f.css("position","static")):(g.css("position",""),f.css("position",""),u.css("margin-bottom",g.outerHeight()+"px"))},this.deskTopMenuScroll=function(){o.scrollTop()>d.outerHeight()?d.addClass("gt-header-scrolled"):d.removeClass("gt-header-scrolled")},this.mobileMenuClose=function(){e.unfixBody(),h.removeClass("gt-open"),d.removeClass("gt-open")},this.mobileMenuOpen=function(){e.fixBody(),d.addClass("gt-open"),h.addClass("gt-open")},h.on("click",function(){$(this).hasClass("gt-open")?e.mobileMenuClose():e.mobileMenuOpen()}),this.openEnterForm=function(){p.addClass("gt-open"),setTimeout(function(){$("#gt-header-registered").addClass("gt-open"),m.addClass("gt-open"),w.addClass("gt-open")})},this.closeEnterForm=function(){w.removeClass("gt-open"),m.removeClass("gt-open"),$("#gt-header-registered").removeClass("gt-open"),e.closeRestorePass(),setTimeout(function(){p.removeClass("gt-open")},750)},this.changeEnterRegistration=function(t){m.hasClass($(t.target).attr("class"))||m.removeClass("gt-chosen-enter").removeClass("gt-chosen-registration").addClass($(t.target).attr("class"))},this.openRestorePass=function(){$("#gt-enter-pass-restore-wrapper").addClass("gt-open")},this.closeRestorePass=function(){$("#gt-enter-pass-restore-wrapper").removeClass("gt-open")},v.each(function(){$(this).on("click",e.openEnterForm)}),w.on("click",e.closeEnterForm),C.on("click",function(t){e.changeEnterRegistration(t)}),$("#gt-enter-form-restore-pass").on("click",e.openRestorePass),$("#gt-enter-pass-restore-submit").on("click",e.closeRestorePass),this.setBackground=function(){$(".gt-img-holder").each(function(){if($(this).attr("data-bg")){var t=$(this).attr("data-bg");r.is(":visible")?$(this).css("background-image",'url("./img/backgrounds/phone/'+t+'")'):l.is(":visible")?$(this).css("background-image",'url("./img/backgrounds/tablet/'+t+'")'):$(this).css("background-image",'url("./img/backgrounds/desktop/'+t+'")')}})},this.imgHolderFunc=function(t){$(t).removeClass("gt-width"),$(t).removeClass("gt-height"),$(t).removeClass("gt-visible");var e=t.outerHeight()/t.outerWidth(),i=t.find("img");i.outerHeight()/i.outerWidth()>e?$(t).addClass("gt-width"):$(t).addClass("gt-height"),$(t).addClass("gt-visible")},$("div").is(".gt-img-holder")&&e.setBackground(),this.createSlider=function(t,i){function s(){if(S>w){var e="";M&&(e='<div class="gt-slider-arrow-num"><i class="gt-slider-num-curr"></i><i>из</i><i class="gt-slider-num-max"></i></div>'),t.find(".gt-slider-arrow-holder").html('<span class = "gt-slider-arrow left"></span>'+e+'<span class = "gt-slider-arrow right"></span>'),t.find(".left").on("click",function(){l(!1)}),t.find(".right").on("click",function(){l(!0)}),M&&u(),u()}b=!0}function n(e){var i=e||t;i.find(".left").off(),i.find(".right").off(),i.find(".gt-slider-arrow-holder").html(""),b=!1}function l(i,s){var o,n;if(s||0===s?T=s:i?T++:T--,P&&(T>S-w&&(T=0),T<0&&(T=S-w),g()),E&&(T>S-w&&(o=x.children().first().clone(),n=x.children().first(),t.hasClass("gt-view-cards-slider")&&(e.destroyViewCardListeners(n),e.createViewCardListeners(o)),x.css("left",-(T-2)*C+"px"),x.append(o),n.remove(),T--),T<0?(o=x.children().last(),n=x.children().last(),t.hasClass("gt-view-cards-slider")&&(e.destroyViewCardListeners(n),e.createViewCardListeners(o)),x.css("left",-(T+2)*C+"px"),x.prepend(o.clone()),n.remove(),T++,d()):d()),M&&u(),V){var a=t.find(".gt-slider-nav span");a.removeClass("gt-active"),$(a[x.find(".gt-open").attr("data-count")]).addClass("gt-active")}}function d(){x.children().removeClass("gt-open"),x.animate({left:-T*C},H),x.children().eq(T).addClass("gt-open")}function g(t){var e=t||T;$(k).removeClass("gt-open"),$(k[e]).addClass("gt-open")}function u(){t.find(".gt-slider-num-curr").text(+x.find(".gt-open").attr("data-count")+1),t.find(".gt-slider-num-max").text(S)}function f(){var e=0,i=0;t.on("touchstart",function(t){var i=t.originalEvent;e=Math.abs(i.touches[0].pageX),console.log("touchstart")}),t.on("touchend",function(t){var s=t.originalEvent;i=Math.abs(s.changedTouches[0].pageX),Math.abs(e-i)>50&&l(e>i?!0:!1)})}function h(e){(e||t).off()}function v(){t.attr("data-count")&&(w=parseInt(t.attr("data-count")),$(c).is(":visible")&&(w=3),$(r).is(":visible")&&(w=2),$(a).is(":visible")&&(w=1))}function p(){C=t.outerWidth()/w,t.find(".gt-slider-container").outerWidth((S+1)*C),k.each(function(){$(this).outerWidth(C),$(this).attr("data-count",$(this).index())})}var m,C,w=1,b=!1,k=t.find(".gt-slider-inner"),x=t.find(".gt-slider-container"),S=k.length,T=i||0,y=t.hasClass("gt-slider-has-arrow"),V=t.hasClass("gt-slider-has-dots"),M=t.hasClass("gt-slider-num"),E=t.hasClass("gt-slider-tram"),H=t.attr("data-duration")||300,P=t.hasClass("gt-slider-fade"),R=t.hasClass("gt-slider-has-clone");P&&g(i),E&&(v(),p(),d()),y&&(t.append('<div class="gt-slider-arrow-holder"></div>'),s()),V&&function(){t.append('<div class="gt-slider-nav"></div>');for(var e=t.find(".gt-slider-nav"),i="",s=0;s<S;s++)i+="<span data-num = "+s+"></span>";e.html(i),e.find("span").first().addClass("gt-active"),t.find(".gt-slider-nav span").on("click",function(){l(!0,+$(this).attr("data-num"))})}(),S>w&&f(),R&&t.find(".gt-slider-inner-cover").each(function(){$(this).on("click",function(){!function(i){if(!$("div").is("#gt-clone")){e.fixBody();var s=$("#gt-body-wrapper");s.append('<div id = "gt-clone-wrapper"   class="container"><div id = "gt-clone" class="gt-slider gt-slider-clone gt-slider-fade gt-slider-num  gt-slider-has-arrow"><div id = "gt-clone-close" class = "gt-slider-clone-close"></div><div  id = "gt-clone-container" class="gt-slider-container"></div></div></div>'),s.show();var o=$("#gt-clone");t.find(".gt-slider-inner").clone(!0).each(function(){$(this).outerWidth(""),$("#gt-clone-container").append($(this))}),e.createSlider(o,i),$("#gt-clone-close").on("click",function(){!function(t){n(t),h(t),$("#gt-clone-close").off(),$("#gt-clone-wrapper").remove(),$("#gt-body-wrapper").hide(),e.unfixBody()}(o)})}}($(this).parent().index())})}),o.resize(function(){m||(m=setTimeout(function(){m=null,h(),E&&(v(),p(),T>S-w&&(T=S-w),S<=w&&(T=0),d()),b&&(n(),s()),S>w&&f()},132))})},$("div").is(".gt-slider")&&$(".gt-slider").each(function(){e.createSlider($(this))}),this.manageGtActiveUlMenu=function(t){"li"!=t.tagName&&(t=$(t).closest("li")),$(t).closest($("ul")).find("li").removeClass("gt-active"),$(t).addClass("gt-active")},$("*").is(".gt-button-menu")&&$(".gt-button-menu").on("click",function(t){t.preventDefault(),e.manageGtActiveUlMenu(t.target)}),$("*").is(".gt-menu-news_items")&&$(".gt-menu-news_items").on("click",function(t){t.preventDefault(),e.manageGtActiveUlMenu(t.target)}),this.setPlayers=function(){var t=document.createElement("script");t.type="text/javascript",t.src="https://www.youtube.com/player_api";var i=$("script")[$("script").length-1];i.parentNode.insertBefore(t,i);$(".gt-video").each(function(){var t=$(this);t.find(".gt-video-switch").on("click",function(){$(this).addClass("gt-open"),t.addClass("gt-open"),e.addYouTube(t)})})},this.addYouTube=function(t){function e(){s.mute(),s.playVideo(),t.addClass("gt-video-on"),t.find(".gt-video-uncover").on("click",i),t.find(".gt-video-pause").on("click",function(){s.pauseVideo()}),t.find(".gt-video-play").on("click",function(){s.playVideo()})}function i(){console.log("playFullScreen");var e=t.find("iframe")[0],i=e.requestFullScreen||e.mozRequestFullScreen||e.webkitRequestFullScreen;i&&i.bind(e)()}var s,o="gt-video-"+t.index();t.find(".gt-video-switch").hide("slow"),t.find(".gt-video-inner").attr("id",o).addClass("gt-video-foreground"),s=new YT.Player(o,{width:600,height:400,videoId:t.attr("data-youtube"),playerVars:{playlist:t.attr("data-youtube"),color:"white",loop:1,autoplay:1},events:{onReady:e}})},$("div").is(".gt-video")&&e.setPlayers(),this.fixArticleScrollTablePosition=function(){var t=$(".gt-article-table-wrapper"),e=t.parent(),i=t.outerHeight(),o=e.position().top,n=o+e.outerHeight(),a=t.outerWidth(),r=s.scrollTop();o+90>r&&t.hasClass("gt-fixed")&&(t.removeClass("gt-fixed"),t.css({left:"",width:""})),o<r+90&&(t.hasClass("gt-fixed")||(t.css({left:t.offset().left+"px",width:a}),t.addClass("gt-fixed")),r-n+i+90>=0?t.addClass("gt-fixed-bottom"):t.removeClass("gt-fixed-bottom"))},this.createArticteScrollTable=function(){if($("div").is(".gt-article")){var t=$(".gt-article"),i=$("#gt-article-scroll-table"),s="";t.each(function(){s+='<div class = "gt-article-scroll"   data-href= "'+$(this).attr("id")+'" ><div class = "gt-article-scroll-shadow"></div><p>'+$(this).find("h2").text()+"</p></div>"}),i.html(s),i.find(".gt-article-scroll").each(function(){$(this).on("click",function(){e.scrollToArticle($(this).attr("data-href"))})})}},this.scrollToArticle=function(t){$("html").animate({scrollTop:$("#"+t).offset().top-110},1100)},this.showArtidleShadow=function(){$(".gt-article").each(function(){var t=$(this).position().top,e=$(this).outerHeight(),i=$(document).scrollTop(),s=0;(s=t>i?0:(i-t)/e)>1&&(s=1);var o=$(".gt-article-scroll")[$(this).index()];$(o).find(".gt-article-scroll-shadow").css("width",100*s+"%")})},$("div").is(".gt-article-table-wrapper")){var b,k=!1;$("div").is(".gt-article-scroll-table")&&(k=!0,e.createArticteScrollTable(),e.showArtidleShadow()),o.scroll(t),o.resize(t)}this.setCurrTime=function(){e.currTime();setInterval(e.currTime,3e4)},this.currTime=function(){$(".gt-curr-time").each(function(){var t=new Date;$(this).attr("data-gmt")&&t.setUTCHours(+$(this).attr("data-gmt"));var e=t.getHours(),i=t.getMinutes(),s=t.getDay(),o=t.getDate(),n=t.getMonth(),a=t.getFullYear();e<10&&(e="0"+e),i<10&&(i="0"+i),s=["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"][s],n=["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"][n],$(".gt-curr-time-time")&&$(".gt-curr-time-time").html(e+":"+i),$(".gt-curr-time-date")&&$(".gt-curr-time-date").html(s+", "+o+" "+n+" "+a)})},$("div").is(".gt-curr-time")&&e.setCurrTime(),$("div").is(".gt-inner-scroll")&&$(".gt-inner-scroll").each(function(){$(this).niceScroll({cursoropacitymin:"1",cursoropacitymax:"1",cursorwidth:"2px",cursorborder:"none",mousescrollstep:"60",background:"#CECECE",railoffset:"left",zindex:"auto",cursorcolor:"#CECECE"})}),this.tabSlider=function(){$(".gt-tabs").each(function(){var t=$(this);t.find(".gt-tabs-button").each(function(){$(this).on("click",function(){e.tabSliderAction(t,$(this).index())})}),e.tabSliderAction(t,0,!0)})},this.tabSliderAction=function(t,e,i){var s=$(t.find(".gt-tabs-button")),o=$(t.find(".gt-tabs-main"));t.find(".gt-inner-scroll-tab").each(function(){$("#"+$(this).attr("data-scroll")).hide()}),s.removeClass("active"),o.removeClass("active"),$(s[e]).addClass("active"),$(o[e]).addClass("active"),(0!=$("#"+$(o[e]).find(".gt-inner-scroll-tab").attr("data-scroll")).find(".gt-scroll-cursor").height()||i)&&$("#"+$(o[e]).find(".gt-inner-scroll-tab").attr("data-scroll")).show()},$("div").is(".gt-tabs")&&e.tabSlider(),this.createViewCardListeners=function(t){t.find(".gt-view-cards-icons-visit").on("click",function(i){e.closeShareViewCard(t),i.stopPropagation(),e.clickVisitViewCard(t)}),t.find(".gt-view-cards-icons-pin-plus").on("click",function(i){e.closeShareViewCard(t),i.stopPropagation(),e.clickSeenViewCard(t)}),t.find(".gt-view-cards-icons-bookmarks").on("click",function(i){e.closeShareViewCard(t),i.stopPropagation(),e.clickMarkViewCard(t)}),t.find(".gt-view-cards-icons-share").on("click",function(i){event.stopPropagation(),e.clickShareViewCard(t)}),t.find(".gt-view-cards-icons-share").find("a").on("click",function(t,i){t.preventDefault(),e.viewCardSocial(i)}),t.on("click  mouseleave",function(){$(t).find(".gt-view-cards-icons-share").parent().removeClass("gt-active"),e.closeShareViewCard(t)})},this.destroyViewCardListeners=function(t){t.find(".gt-view-cards-icons-visit").off(),t.find(".gt-view-cards-icons-pin-plus").off(),t.find(".gt-view-cards-icons-bookmarks").off(),t.find(".gt-view-cards-icons-share").off(),t.find(".gt-view-cards-icons-share").find("a").off(),t.off()},this.viewCardSocial=function(t){console.log("click social"),e.closeShareViewCard(t)},this.openShareViewCard=function(t){$(t).addClass("gt-active")},this.closeShareViewCard=function(t){$(t).removeClass("gt-active")},this.clickShareViewCard=function(t){var i=t.find(".gt-view-cards-icons-share").parent();i.hasClass("gt-active")?(i.removeClass("gt-active"),e.closeShareViewCard(t)):(i.addClass("gt-active"),e.openShareViewCard(t))},this.clickVisitViewCard=function(t){if(!t.hasClass("gt-active")){var e=t.find(".gt-view-cards-icons-visit").parent();e.hasClass("gt-active")?(e.removeClass("gt-active"),console.log("click not visited now")):(e.addClass("gt-active"),console.log("click visit"))}},this.clickSeenViewCard=function(t){if(!t.hasClass("gt-active")){var e=t.find(".gt-view-cards-icons-pin-plus").parent();e.hasClass("gt-active")?(e.removeClass("gt-active"),console.log("click not seen now")):(e.addClass("gt-active"),console.log("click seen"))}},this.clickMarkViewCard=function(t){if(!t.hasClass("gt-active")){var e=t.find(".gt-view-cards-icons-bookmarks").parent();e.hasClass("gt-active")?(e.removeClass("gt-active"),console.log("click delete bookmark")):(e.addClass("gt-active"),console.log("click add bookmark"))}},$("*").is(".gt-view-cards-inner")&&$(".gt-view-cards-inner").each(function(){e.createViewCardListeners($(this))}),$("#gt-enter-form-facebook").on("click",function(){e.socialEnter("facebook")}),$("#gt-enter-form-twitter").on("click",function(){e.socialEnter("twitter")}),$("#gt-enter-form-google").on("click",function(){e.socialEnter("google")}),$("#gt-reg-form-facebook").on("click",function(){e.socialRegistration("facebook")}),$("#gt-reg-form-twitter").on("click",function(){e.socialRegistration("twitter")}),$("#gt-reg-form-google").on("click",function(){e.socialRegistration("google")}),this.socialRegistration=function(t){alert("Регистрация через "+t)},this.socialEnter=function(t){alert("Вход через "+t)},this.cutNews=function(t){var e,i,s,o=t.parent(),n=o.height(),a=t.find("p");o.children().each(function(){n-=$(this).outerHeight(!0)}),n=n+t.height()-20,a.each(function(){(e=$(this).outerHeight(!0))<n?n-=e:n?(i=Math.floor($(this).text().length*n/e),s=$(this).text().substring(0,i-5),$(this).text(s+"..."),n=0):$(this).css("display","none")})},$("div").is(".js-news-cut")&&($(".js-news-cut").each(function(){e.cutNews($(this))}),o.resize(function(){$(".js-news-cut").each(function(){e.cutNews($(this))})})),this.cutReadMoreSlider=function(){$(".gt-read-more-slider-text-inner").each(function(){e.cutting($(this),160)})},this.cutting=function(t,e){var i=t.text();i.length>e&&(i=i.slice(0,e)+"...",t.text(i))},$("p").is(".gt-read-more-slider-text-inner")&&e.cutReadMoreSlider(),s.ready(function(){e.footerHeight(),e.deskTopMenuScroll()}),this.pageUp=function(){return $("html, body").animate({scrollTop:0},800),!1},this.upPageButton=function(){$(document).scrollTop()>30?f.addClass("gt-visible"):f.removeClass("gt-visible")},f.on("click",e.pageUp),o.scroll(function(){e.upPageButton(),$(".gt-header-menu").is(":visible")&&e.deskTopMenuScroll()}),o.resize(function(){e.deskTopMenuScroll(),e.footerHeight(),d.hasClass("gt-open")&&e.mobileMenuClose(),$("div").is(".gt-img-holder-abs")&&$(".gt-img-holder-abs").each(function(){$(this).removeClass("gt-width"),$(this).removeClass("gt-height"),e.imgHolderFunc($(this))})}),$(window).on("load",function(){$("div").is(".gt-img-holder-abs")&&$(".gt-img-holder-abs").each(function(){e.imgHolderFunc($(this))})}),i.on("click",function(t){}),$("*").is(".gt-menu-news")&&$(".gt-menu-news").find("a").on("click",function(t){t.preventDefault(),$(".gt-menu-news").find("li").removeClass("gt-active"),$(this).parent().addClass("gt-active"),console.log("temp func")})},$(document).ready(function(){new GoToTrip});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJHb1RvVHJpcCIsInNjcm9sbFRocm90dGxlciIsInNjcm9sbFRpbWVvdXQiLCJzZXRUaW1lb3V0Iiwic2VsZiIsImZpeEFydGljbGVTY3JvbGxUYWJsZVBvc2l0aW9uIiwic2hhZG93Iiwic2hvd0FydGlkbGVTaGFkb3ciLCJ0aGlzIiwiYm9keSIsIiQiLCJkb2N1bWVudCIsImRvYyIsImRvY1dpbmRvdyIsIndpbmRvdyIsImJvZHlQb3NpdGlvbiIsInRvcCIsImxlZnQiLCJ0b2tlbjM2MCIsInRva2VuNjY3IiwidG9rZW43NjgiLCJ0b2tlbjEwMjQiLCJndEhlYWRlciIsImd0Rm9vdGVyIiwiZ3RXcmFwcGVyIiwidXBCdXR0b24iLCJtb2JpbGVNZW51U3dpdGNoIiwiZW50ZXJCdXR0b24iLCJlbnRlcldyYXBwZXIiLCJlbnRlckZvcm0iLCJlbnRlckNob3NlIiwiZW50ZXJDbG9zZSIsIm5pY2VTY3JvbGwiLCJjdXJzb3Jib3JkZXIiLCJtb3VzZXNjcm9sbHN0ZXAiLCJib3VuY2VzY3JvbGwiLCJjdXJzb3Jjb2xvciIsImZpeEJvZHkiLCJzY3JvbGxUb3AiLCJvZmZzZXQiLCJjc3MiLCJwb3NpdGlvbiIsInVuZml4Qm9keSIsImZvb3RlckhlaWdodCIsIm91dGVySGVpZ2h0IiwiaGVpZ2h0IiwiZGVza1RvcE1lbnVTY3JvbGwiLCJhZGRDbGFzcyIsInJlbW92ZUNsYXNzIiwibW9iaWxlTWVudUNsb3NlIiwibW9iaWxlTWVudU9wZW4iLCJvbiIsImhhc0NsYXNzIiwib3BlbkVudGVyRm9ybSIsImNsb3NlRW50ZXJGb3JtIiwiY2xvc2VSZXN0b3JlUGFzcyIsImNoYW5nZUVudGVyUmVnaXN0cmF0aW9uIiwiZXZlbnQiLCJ0YXJnZXQiLCJhdHRyIiwib3BlblJlc3RvcmVQYXNzIiwiZWFjaCIsInNldEJhY2tncm91bmQiLCJwYXRoIiwiaXMiLCJpbWdIb2xkZXJGdW5jIiwiZWwiLCJob2xkZXJDb25zdCIsIm91dGVyV2lkdGgiLCJpbWciLCJmaW5kIiwiY3JlYXRlU2xpZGVyIiwiY3VyclNsaWRlciIsImNyZWF0ZUFycm93cyIsImlubmVyQ291bnQiLCJzY3JlZW5Db25zdCIsIm51bUlubmVyIiwibnVtUGFuZWwiLCJodG1sIiwib25lTW92ZUZ1bmN0aW9uIiwic2hvd051bSIsImFycm93c1JlYWR5IiwiZGVzdHJveUFycm93cyIsImNsb25lIiwib2ZmIiwiYnVsIiwibnVtIiwiZGVsZXRlZCIsImN1cnJQb3NpdGlvbiIsImZhZGUiLCJmYWRlU2xpZGVyTW92ZSIsInRyYW0iLCJjb250YWluZXIiLCJjaGlsZHJlbiIsImZpcnN0IiwiZGVzdHJveVZpZXdDYXJkTGlzdGVuZXJzIiwiY3JlYXRlVmlld0NhcmRMaXN0ZW5lcnMiLCJiYXNlV2lkdGgiLCJhcHBlbmQiLCJyZW1vdmUiLCJsYXN0IiwicHJlcGVuZCIsInRyYW1TbGlkZXJNb3ZlIiwiZG90cyIsImFsbERvdHMiLCJhbmltYXRlIiwidHJhbUFuaW1hdGlvbiIsImVxIiwiaW5kZXgiLCJpbm5lciIsInRleHQiLCJjcmVhdGVUb3VjaCIsImluaXRpYWxQb2ludCIsImZpbmFsUG9pbnQiLCJlIiwib3JpZ2luYWxFdmVudCIsIk1hdGgiLCJhYnMiLCJ0b3VjaGVzIiwicGFnZVgiLCJjb25zb2xlIiwibG9nIiwiY2hhbmdlZFRvdWNoZXMiLCJkZXN0cm95VG91Y2giLCJmaW5kU2NyZWVuQ29uc3QiLCJwYXJzZUludCIsInNldEJhc2VXaWR0aCIsInNsaWRlclRpbWVPdXQiLCJsZW5ndGgiLCJhcnJvdyIsImhhc0Nsb25lIiwibmF2Iiwic3BhbnMiLCJpIiwiY3JlYXRlRG90cyIsImNsaWNrUG9zaXRpb24iLCJib2R5V3JhcHBlciIsInNob3ciLCJjbG9uZVNsaWRlciIsImhpZGUiLCJkZXN0cm95Q2xvbmVTbGlkZXIiLCJjcmVhdGVDbG9uZVNsaWRlciIsInBhcmVudCIsInJlc2l6ZSIsIm1hbmFnZUd0QWN0aXZlVWxNZW51IiwidGFnTmFtZSIsImNsb3Nlc3QiLCJwcmV2ZW50RGVmYXVsdCIsInNldFBsYXllcnMiLCJ0YWciLCJjcmVhdGVFbGVtZW50IiwidHlwZSIsInNyYyIsImxhc3RTY3JpcHRUYWciLCJwYXJlbnROb2RlIiwiaW5zZXJ0QmVmb3JlIiwiY3VycmVudFBsYXllciIsImFkZFlvdVR1YmUiLCJpbml0aWFsaXplIiwicGxheWVyIiwibXV0ZSIsInBsYXlWaWRlbyIsInBsYXlGdWxsU2NyZWVuIiwicGF1c2VWaWRlbyIsImlmcmFtZSIsInJlcXVlc3RGdWxsU2NyZWVuIiwibW96UmVxdWVzdEZ1bGxTY3JlZW4iLCJ3ZWJraXRSZXF1ZXN0RnVsbFNjcmVlbiIsImJpbmQiLCJlbElkIiwiWVQiLCJQbGF5ZXIiLCJ3aWR0aCIsInZpZGVvSWQiLCJwbGF5ZXJWYXJzIiwicGxheWxpc3QiLCJjb2xvciIsImxvb3AiLCJhdXRvcGxheSIsImV2ZW50cyIsIm9uUmVhZHkiLCJ0YWJsZSIsInRhYmxlUGFyZW50IiwidGFibGVIZWlnaHQiLCJ0YWJsZVBhcmVudFRvcCIsInRhYmxlUGFyZW50Qm90dG9tIiwidGFibGVXaWR0aCIsIndpbmRvd1RvcCIsImNyZWF0ZUFydGljdGVTY3JvbGxUYWJsZSIsImFydGljbGVzIiwic2Nyb2xsVG9BcnRpY2xlIiwiZWxIZWlnaHQiLCJ3aW5kb3dQb3NpdGlvbiIsIngiLCJjdXJyU2hhZG93Iiwic2Nyb2xsIiwic2V0Q3VyclRpbWUiLCJjdXJyVGltZSIsInNldEludGVydmFsIiwiZGF0ZSIsIkRhdGUiLCJzZXRVVENIb3VycyIsImhvdXJzIiwiZ2V0SG91cnMiLCJtaW51dGVzIiwiZ2V0TWludXRlcyIsIndlZWtkYXkiLCJnZXREYXkiLCJkYXkiLCJnZXREYXRlIiwibW9udGgiLCJnZXRNb250aCIsInllYXIiLCJnZXRGdWxsWWVhciIsImN1cnNvcm9wYWNpdHltaW4iLCJjdXJzb3JvcGFjaXR5bWF4IiwiY3Vyc29yd2lkdGgiLCJiYWNrZ3JvdW5kIiwicmFpbG9mZnNldCIsInppbmRleCIsInRhYlNsaWRlciIsImN1cnJUYWJzIiwidGFiU2xpZGVyQWN0aW9uIiwiaW5pdCIsImJ1dHRvbnMiLCJtYWluIiwiY2xvc2VTaGFyZVZpZXdDYXJkIiwic3RvcFByb3BhZ2F0aW9uIiwiY2xpY2tWaXNpdFZpZXdDYXJkIiwiY2xpY2tTZWVuVmlld0NhcmQiLCJjbGlja01hcmtWaWV3Q2FyZCIsImV2ZW50ZyIsImNsaWNrU2hhcmVWaWV3Q2FyZCIsInZpZXdDYXJkU29jaWFsIiwib3BlblNoYXJlVmlld0NhcmQiLCJidXR0b24iLCJzb2NpYWxFbnRlciIsInNvY2lhbFJlZ2lzdHJhdGlvbiIsInRva2VuIiwiYWxlcnQiLCJjdXROZXdzIiwiY3VyckhlaWdodCIsImN1dHRpbmdMZW5naHQiLCJuZXdUZXh0IiwibWF4SGVpZ2h0IiwiY3V0dGluZ0VsIiwiZmxvb3IiLCJzdWJzdHJpbmciLCJjdXRSZWFkTW9yZVNsaWRlciIsImN1dHRpbmciLCJuZXdzVGV4dCIsInNsaWNlIiwicmVhZHkiLCJwYWdlVXAiLCJ1cFBhZ2VCdXR0b24iXSwibWFwcGluZ3MiOiJBQUtBQSxTQUFXLFdBd3RCSCxTQUFTQyxJQUNBQyxJQUNEQSxFQUFnQkMsV0FBVyxXQUN2QkQsRUFBZ0IsS0FDaEJFLEVBQUtDLGdDQUNEQyxHQUNBRixFQUFLRyx1QkE1dEJ6QixJQUFJSCxFQUFPSSxLQUNQQyxFQUFPQyxFQUFFQyxTQUFTRixNQUNsQkcsRUFBTUYsRUFBRUMsVUFDUkUsRUFBWUgsRUFBRUksUUFDZEMsR0FDSUMsS0FBSyxFQUNMQyxNQUFNLEdBRVZDLEVBQVdSLEVBQUUsY0FFYlMsR0FEV1QsRUFBRSxjQUNGQSxFQUFFLGVBQ2JVLEVBQVdWLEVBQUUsY0FDYlcsRUFBWVgsRUFBRSxlQUVkWSxHQURZWixFQUFFLGVBQ0hBLEVBQUUsV0FDYmEsRUFBV2IsRUFBRSxVQUNiYyxFQUFZZCxFQUFFLGVBQ2RlLEVBQVdmLEVBQUUsVUFDYmdCLEVBQW1CaEIsRUFBRSwwQkFDckJpQixFQUFjakIsRUFBRSxhQUNoQmtCLEVBQWVsQixFQUFFLDRCQUNqQm1CLEVBQVluQixFQUFFLG9CQUNkb0IsRUFBYXBCLEVBQUUsMEJBQ2ZxQixFQUFhckIsRUFBRSwwQkFxckJuQixHQXByQkFBLEVBQUUsUUFBUXNCLFlBQ05DLGFBQWMsb0JBQ2RDLGdCQUFpQixLQUNqQkMsY0FBYyxFQUNkQyxZQUFhLFlBSWpCNUIsS0FBSzZCLFFBQVUsV0FDUHRCLEVBQWFDLEtBQU9ELEVBQWFFLE9BQ3JDRixFQUFhQyxJQUFNSixFQUFJMEIsWUFDdkJ2QixFQUFhRSxLQUFPUixFQUFLOEIsU0FBU3RCLEtBQ2xDUixFQUFLK0IsS0FDREMsU0FBVSxRQUNWeEIsS0FBTUYsRUFBYUUsS0FBTyxLQUMxQkQsS0FBTSxFQUFJRCxFQUFhQyxJQUFNLFNBSXJDUixLQUFLa0MsVUFBWSxXQUNiakMsRUFBSytCLEtBQ0RDLFNBQVUsR0FDVnhCLEtBQU0sR0FDTkQsSUFBSyxLQUVUSixFQUFJMEIsVUFBVXZCLEVBQWFDLEtBQzNCRCxFQUFhQyxLQUFNLEVBQ25CRCxFQUFhRSxNQUFPLEdBR3hCVCxLQUFLbUMsYUFBZSxXQUNHcEIsRUFBU3FCLGNBQ1QvQixFQUFVZ0MsU0FBVyxJQUNwQ3RCLEVBQVNpQixJQUFJLFdBQVksVUFDekJoQixFQUFVZ0IsSUFBSSxnQkFBaUIsSUFDL0JmLEVBQVNlLElBQUksV0FBWSxZQUV6QmpCLEVBQVNpQixJQUFJLFdBQVksSUFDekJmLEVBQVNlLElBQUksV0FBWSxJQUN6QmhCLEVBQVVnQixJQUFJLGdCQUFpQmpCLEVBQVNxQixjQUFnQixRQUdoRXBDLEtBQUtzQyxrQkFBb0IsV0FDakJqQyxFQUFVeUIsWUFBY2hCLEVBQVNzQixjQUNqQ3RCLEVBQVN5QixTQUFTLHNCQUVsQnpCLEVBQVMwQixZQUFZLHVCQUs3QnhDLEtBQUt5QyxnQkFBa0IsV0FDbkI3QyxFQUFLc0MsWUFDTGhCLEVBQWlCc0IsWUFBWSxXQUM3QjFCLEVBQVMwQixZQUFZLFlBR3pCeEMsS0FBSzBDLGVBQWlCLFdBQ2xCOUMsRUFBS2lDLFVBQ0xmLEVBQVN5QixTQUFTLFdBQ2xCckIsRUFBaUJxQixTQUFTLFlBSzlCckIsRUFBaUJ5QixHQUFHLFFBQVMsV0FDckJ6QyxFQUFFRixNQUFNNEMsU0FBUyxXQUNqQmhELEVBQUs2QyxrQkFFTDdDLEVBQUs4QyxtQkFHYjFDLEtBQUs2QyxjQUFnQixXQUNqQnpCLEVBQWFtQixTQUFTLFdBQ3RCNUMsV0FDQSxXQUNJTyxFQUFFLHlCQUF5QnFDLFNBQVMsV0FDcENsQixFQUFVa0IsU0FBUyxXQUNuQmhCLEVBQVdnQixTQUFTLGNBSTVCdkMsS0FBSzhDLGVBQWlCLFdBQ2xCdkIsRUFBV2lCLFlBQVksV0FDdkJuQixFQUFVbUIsWUFBWSxXQUN0QnRDLEVBQUUseUJBQXlCc0MsWUFBWSxXQUN2QzVDLEVBQUttRCxtQkFDTHBELFdBQ0EsV0FDSXlCLEVBQWFvQixZQUFZLFlBRlosTUFNckJ4QyxLQUFLZ0Qsd0JBQTBCLFNBQVVDLEdBQ2pDNUIsRUFBVXVCLFNBQVMxQyxFQUFFK0MsRUFBTUMsUUFBUUMsS0FBSyxXQUU1QzlCLEVBQVVtQixZQUFZLG1CQUFtQkEsWUFBWSwwQkFBMEJELFNBQVNyQyxFQUFFK0MsRUFBTUMsUUFBUUMsS0FBSyxXQUlqSG5ELEtBQUtvRCxnQkFBa0IsV0FDbkJsRCxFQUFFLGtDQUFrQ3FDLFNBQVMsWUFHakR2QyxLQUFLK0MsaUJBQW1CLFdBQ3BCN0MsRUFBRSxrQ0FBa0NzQyxZQUFZLFlBSXBEckIsRUFBWWtDLEtBQUssV0FDYm5ELEVBQUVGLE1BQU0yQyxHQUFHLFFBQVMvQyxFQUFLaUQsaUJBRzdCdEIsRUFBV29CLEdBQUcsUUFBUy9DLEVBQUtrRCxnQkFFNUJ4QixFQUFXcUIsR0FBRyxRQUFTLFNBQVVNLEdBQzdCckQsRUFBS29ELHdCQUF3QkMsS0FHakMvQyxFQUFFLCtCQUErQnlDLEdBQUcsUUFBUS9DLEVBQUt3RCxpQkFDakRsRCxFQUFFLGlDQUFpQ3lDLEdBQUcsUUFBUS9DLEVBQUttRCxrQkFFbkQvQyxLQUFLc0QsY0FBZ0IsV0FDQXBELEVBQUUsa0JBQ1JtRCxLQUFLLFdBQ1osR0FBS25ELEVBQUVGLE1BQU1tRCxLQUFLLFdBQWxCLENBQ0EsSUFBSUksRUFBT3JELEVBQUVGLE1BQU1tRCxLQUFLLFdBQ3BCeEMsRUFBUzZDLEdBQUcsWUFDWnRELEVBQUVGLE1BQU1nQyxJQUNKLG1CQUNBLGdDQUFrQ3VCLEVBQU8sTUFJN0MxQyxFQUFVMkMsR0FBRyxZQUNidEQsRUFBRUYsTUFBTWdDLElBQ0osbUJBQ0EsaUNBQW1DdUIsRUFBTyxNQUlsRHJELEVBQUVGLE1BQU1nQyxJQUNKLG1CQUNBLGtDQUFvQ3VCLEVBQU8sVUFNdkR2RCxLQUFLeUQsY0FBZ0IsU0FBVUMsR0FDM0J4RCxFQUFFd0QsR0FBSWxCLFlBQVksWUFDbEJ0QyxFQUFFd0QsR0FBSWxCLFlBQVksYUFDbEJ0QyxFQUFFd0QsR0FBSWxCLFlBQVksY0FDbEIsSUFBSW1CLEVBQWNELEVBQUd0QixjQUFnQnNCLEVBQUdFLGFBQ3BDQyxFQUFNSCxFQUFHSSxLQUFLLE9BQ0hELEVBQUl6QixjQUFnQnlCLEVBQUlELGFBRXhCRCxFQUNYekQsRUFBRXdELEdBQUluQixTQUFTLFlBR2ZyQyxFQUFFd0QsR0FBSW5CLFNBQVMsYUFFbkJyQyxFQUFFd0QsR0FBSW5CLFNBQVMsZUFJZnJDLEVBQUUsT0FBT3NELEdBQUcsbUJBQ1o1RCxFQUFLMEQsZ0JBR1R0RCxLQUFLK0QsYUFBZSxTQUFVQyxFQUFZL0IsR0E4Q3RDLFNBQVNnQyxJQUNMLEdBQUlDLEVBQWFDLEVBQWEsQ0FDMUIsSUFBSUMsRUFBVyxHQUNYQyxJQUNBRCxFQUFXLHVIQUVmSixFQUFXRixLQUFLLDJCQUEyQlEsS0FDdkMsK0NBQ1lGLEVBQ1osaURBa0JSSixFQUFXRixLQUFLLFNBQVNuQixHQUFHLFFBQVMsV0FDakM0QixHQUFnQixLQUVwQlAsRUFBV0YsS0FBSyxVQUFVbkIsR0FBRyxRQUFTLFdBQ2xDNEIsR0FBZ0IsS0FFaEJGLEdBQVVHLElBcEJWQSxJQUVKQyxHQUFjLEVBR2xCLFNBQVNDLEVBQWNDLEdBQ25CLElBQUlqQixFQUFLaUIsR0FBU1gsRUFDbEJOLEVBQUdJLEtBQUssU0FBU2MsTUFDakJsQixFQUFHSSxLQUFLLFVBQVVjLE1BQ2xCbEIsRUFBR0ksS0FBSywyQkFBMkJRLEtBQUssSUFDeENHLEdBQWMsRUEyQmxCLFNBQVNGLEVBQWdCTSxFQUFLQyxHQUMxQixJQUFJSCxFQUFNSSxFQTZEVixHQTVESUQsR0FBZSxJQUFSQSxFQUNQRSxFQUFlRixFQUdWRCxFQUNMRyxJQUVBQSxJQUlBQyxJQUNJRCxFQUFlZCxFQUFhQyxJQUM1QmEsRUFBZSxHQUdmQSxFQUFlLElBQ2ZBLEVBQWVkLEVBQWFDLEdBR2hDZSxLQUdBQyxJQUNJSCxFQUFlZCxFQUFhQyxJQUM1QlEsRUFBU1MsRUFBVUMsV0FBV0MsUUFBUVgsUUFDdENJLEVBQVVLLEVBQVVDLFdBQVdDLFFBQzVCdEIsRUFBV3BCLFNBQVMsMEJBQ25CaEQsRUFBSzJGLHlCQUF5QlIsR0FDOUJuRixFQUFLNEYsd0JBQXdCYixJQUVqQ1MsRUFBVXBELElBQUksU0FBV2dELEVBQWUsR0FBS1MsRUFBYSxNQUMxREwsRUFBVU0sT0FBT2YsR0FDakJJLEVBQVFZLFNBQ1JYLEtBR0FBLEVBQWUsR0FDZkwsRUFBUVMsRUFBVUMsV0FBV08sT0FDN0JiLEVBQVVLLEVBQVVDLFdBQVdPLE9BQzVCNUIsRUFBV3BCLFNBQVMsMEJBQ25CaEQsRUFBSzJGLHlCQUF5QlIsR0FDOUJuRixFQUFLNEYsd0JBQXdCYixJQUVqQ1MsRUFBVXBELElBQUksU0FBV2dELEVBQWUsR0FBS1MsRUFBYSxNQUMxREwsRUFBVVMsUUFBUWxCLEVBQU1BLFNBQ3hCSSxFQUFRWSxTQUNSWCxJQUNBYyxLQUdBQSxLQVFKekIsR0FBVUcsSUFDVnVCLEVBQU0sQ0FDTixJQUFJQyxFQUFVaEMsRUFBV0YsS0FBSyx1QkFDOUJrQyxFQUFReEQsWUFBWSxhQUNwQnRDLEVBQUU4RixFQUFRWixFQUFVdEIsS0FBSyxZQUFZWCxLQUFLLGdCQUFnQlosU0FBUyxjQU0zRSxTQUFTdUQsSUFDTFYsRUFBVUMsV0FBVzdDLFlBQVksV0FDakM0QyxFQUFVYSxTQUFTeEYsTUFBT3VFLEVBQWVTLEdBQVlTLEdBQ3JEZCxFQUFVQyxXQUFXYyxHQUFHbkIsR0FBY3pDLFNBQVMsV0FJbkQsU0FBUzJDLEVBQWVqRCxHQUNwQixJQUFJbUUsRUFBUW5FLEdBQVkrQyxFQUN4QjlFLEVBQUVtRyxHQUFPN0QsWUFBWSxXQUNyQnRDLEVBQUVtRyxFQUFNRCxJQUFRN0QsU0FBUyxXQUc3QixTQUFTaUMsSUFDTFIsRUFBV0YsS0FBSyx1QkFBdUJ3QyxNQUFPbEIsRUFBVXRCLEtBQUssWUFBWVgsS0FBSyxjQUFpQixHQUMvRmEsRUFBV0YsS0FBSyxzQkFBc0J3QyxLQUFLcEMsR0FHL0MsU0FBU3FDLElBQ0wsSUFBSUMsRUFBZSxFQUNmQyxFQUFhLEVBQ2pCekMsRUFBV3JCLEdBQUcsYUFBYyxTQUFVTSxHQUNsQyxJQUFJeUQsRUFBSXpELEVBQU0wRCxjQUNkSCxFQUFlSSxLQUFLQyxJQUFJSCxFQUFFSSxRQUFRLEdBQUdDLE9BQ3JDQyxRQUFRQyxJQUFJLGdCQUVoQmpELEVBQVdyQixHQUFHLFdBQVksU0FBVU0sR0FDaEMsSUFBSXlELEVBQUl6RCxFQUFNMEQsY0FDZEYsRUFBYUcsS0FBS0MsSUFBSUgsRUFBRVEsZUFBZSxHQUFHSCxPQUN0Q0gsS0FBS0MsSUFBSUwsRUFBZUMsR0FBYyxJQUVsQ2xDLEVBREFpQyxFQUFlQyxHQUNDLEdBRUEsS0FNaEMsU0FBU1UsRUFBYXhDLElBQ1RBLEdBQVNYLEdBQ2ZZLE1BR1AsU0FBU3dDLElBQ0RwRCxFQUFXYixLQUFLLGdCQUNoQmdCLEVBQWNrRCxTQUFTckQsRUFBV2IsS0FBSyxlQUNuQ2pELEVBQUVVLEdBQVU0QyxHQUFHLGNBQWFXLEVBQWMsR0FDMUNqRSxFQUFFUyxHQUFVNkMsR0FBRyxjQUFhVyxFQUFjLEdBQzFDakUsRUFBRVEsR0FBVThDLEdBQUcsY0FBYVcsRUFBYyxJQUl0RCxTQUFTbUQsSUFDTDdCLEVBQVl6QixFQUFXSixhQUFlTyxFQUN0Q0gsRUFBV0YsS0FBSyx3QkFBd0JGLFlBQVlNLEVBQWEsR0FBS3VCLEdBQ3RFWSxFQUFNaEQsS0FBSyxXQUNQbkQsRUFBRUYsTUFBTTRELFdBQVc2QixHQUNuQnZGLEVBQUVGLE1BQU1tRCxLQUFLLGFBQWNqRCxFQUFFRixNQUFNb0csV0FoTzNDLElBQUltQixFQUVBOUIsRUFEQXRCLEVBQWMsRUFFZE0sR0FBYyxFQUNkNEIsRUFBUXJDLEVBQVdGLEtBQUssb0JBQ3hCc0IsRUFBWXBCLEVBQVdGLEtBQUssd0JBQzVCSSxFQUFhbUMsRUFBTW1CLE9BQ25CeEMsRUFBZS9DLEdBQVksRUFDM0J3RixFQUFRekQsRUFBV3BCLFNBQVMsdUJBQzVCbUQsRUFBTy9CLEVBQVdwQixTQUFTLHNCQUMzQnlCLEVBQVdMLEVBQVdwQixTQUFTLGlCQUMvQnVDLEVBQU9uQixFQUFXcEIsU0FBUyxrQkFDM0JzRCxFQUFnQmxDLEVBQVdiLEtBQUssa0JBQW9CLElBQ3BEOEIsRUFBT2pCLEVBQVdwQixTQUFTLGtCQUMzQjhFLEVBQVcxRCxFQUFXcEIsU0FBUyx1QkFDL0JxQyxHQUNBQyxFQUFlakQsR0FFZmtELElBQ0FpQyxJQUNBRSxJQUNBeEIsS0FFQTJCLElBQ0F6RCxFQUFXMEIsT0FBTyw4Q0FDbEJ6QixLQUVBOEIsR0FzREosV0FDSS9CLEVBQVcwQixPQUFPLHFDQUdsQixJQUFLLElBRkRpQyxFQUFNM0QsRUFBV0YsS0FBSyxrQkFDdEI4RCxFQUFRLEdBQ0hDLEVBQUksRUFBR0EsRUFBSTNELEVBQVkyRCxJQUM1QkQsR0FBUyxvQkFBc0JDLEVBQUksV0FFdkNGLEVBQUlyRCxLQUFLc0QsR0FDVEQsRUFBSTdELEtBQUssUUFBUXdCLFFBQVEvQyxTQUFTLGFBQ2xDeUIsRUFBV0YsS0FBSyx1QkFBdUJuQixHQUFHLFFBQVMsV0FDL0M0QixHQUFnQixHQUFPckUsRUFBRUYsTUFBTW1ELEtBQUssZUEvRHhDMkUsR0FFQTVELEVBQWFDLEdBQ2JvQyxJQUVBbUIsR0FLQTFELEVBQVdGLEtBQUssMEJBQTBCVCxLQUFLLFdBQzNDbkQsRUFBRUYsTUFBTTJDLEdBQUcsUUFBUyxZQTZMNUIsU0FBMkJvRixHQUN2QixJQUFJN0gsRUFBRSxPQUFPc0QsR0FBRyxhQUFoQixDQUNBNUQsRUFBS2lDLFVBQ0wsSUFBSW1HLEVBQWM5SCxFQUFFLG9CQUNwQjhILEVBQVl0QyxPQUFPLDZTQUNuQnNDLEVBQVlDLE9BQ1osSUFBSUMsRUFBY2hJLEVBQUUsYUFDUDhELEVBQVdGLEtBQUssb0JBQW9CYSxPQUFNLEdBQ2hEdEIsS0FBSyxXQUNSbkQsRUFBRUYsTUFBTTRELFdBQVcsSUFDbkIxRCxFQUFFLHVCQUF1QndGLE9BQU94RixFQUFFRixTQUV0Q0osRUFBS21FLGFBQWFtRSxFQUFhSCxHQUMvQjdILEVBQUUsbUJBQW1CeUMsR0FBRyxRQUFTLFlBS3JDLFNBQTRCdUYsR0FDeEJ4RCxFQUFjd0QsR0FDZGYsRUFBYWUsR0FDYmhJLEVBQUUsbUJBQW1CMEUsTUFDckIxRSxFQUFFLHFCQUFxQnlGLFNBQ3ZCekYsRUFBRSxvQkFBb0JpSSxPQUN0QnZJLEVBQUtzQyxZQVZEa0csQ0FBbUJGLE1BMU1mRyxDQUFrQm5JLEVBQUVGLE1BQU1zSSxTQUFTbEMsYUFpTy9DL0YsRUFBVWtJLE9BVFYsV0FDU2hCLElBQ0RBLEVBQWdCNUgsV0FBVyxXQUN2QjRILEVBQWdCLEtBU3hCSixJQUNJaEMsSUFDQWlDLElBQ0FFLElBZ0JBdEMsRUFBZWQsRUFBYUMsSUFDNUJhLEVBQWVkLEVBQWFDLEdBQzVCRCxHQUFjQyxJQUFhYSxFQUFlLEdBaEIxQ2MsS0FFQXJCLElBQ0FDLElBQ0FULEtBRUFDLEVBQWFDLEdBQ2JvQyxLQW5CRyxTQWtDWHJHLEVBQUUsT0FBT3NELEdBQUcsZUFDWnRELEVBQUUsY0FBY21ELEtBQUssV0FDakJ6RCxFQUFLbUUsYUFBYTdELEVBQUVGLFNBRzVCQSxLQUFLd0kscUJBQXVCLFNBQVU5RSxHQUNoQixNQUFkQSxFQUFHK0UsVUFDSC9FLEVBQUt4RCxFQUFFd0QsR0FBSWdGLFFBQVEsT0FFdkJ4SSxFQUFFd0QsR0FBSWdGLFFBQVF4SSxFQUFFLE9BQU80RCxLQUFLLE1BQU10QixZQUFZLGFBQzlDdEMsRUFBRXdELEdBQUluQixTQUFTLGNBWWZyQyxFQUFFLEtBQUtzRCxHQUFHLG9CQUNWdEQsRUFBRSxtQkFBbUJ5QyxHQUFHLFFBQVMsU0FBVU0sR0FDdkNBLEVBQU0wRixpQkFDTi9JLEVBQUs0SSxxQkFBcUJ2RixFQUFNQyxVQUlwQ2hELEVBQUUsS0FBS3NELEdBQUcsd0JBQ1Z0RCxFQUFFLHVCQUF1QnlDLEdBQUcsUUFBUyxTQUFVTSxHQUMzQ0EsRUFBTTBGLGlCQUNOL0ksRUFBSzRJLHFCQUFxQnZGLEVBQU1DLFVBSXhDbEQsS0FBSzRJLFdBQWEsV0FDZCxJQUFJQyxFQUFNMUksU0FBUzJJLGNBQWMsVUFDakNELEVBQUlFLEtBQU8sa0JBQ1hGLEVBQUlHLElBQU0scUNBQ1YsSUFBSUMsRUFBZ0IvSSxFQUFFLFVBQVVBLEVBQUUsVUFBVXNILE9BQVMsR0FDckR5QixFQUFjQyxXQUFXQyxhQUFhTixFQUFLSSxHQUM1Qi9JLEVBQUUsYUFDUm1ELEtBQUssV0FDVixJQUFJK0YsRUFBZ0JsSixFQUFFRixNQUN0Qm9KLEVBQWN0RixLQUFLLG9CQUFvQm5CLEdBQUcsUUFBUyxXQUMvQ3pDLEVBQUVGLE1BQU11QyxTQUFTLFdBQ2pCNkcsRUFBYzdHLFNBQVMsV0FDdkIzQyxFQUFLeUosV0FBV0QsUUFLNUJwSixLQUFLcUosV0FBYSxTQUFVM0YsR0FnQ3hCLFNBQVM0RixJQUNMQyxFQUFPQyxPQUNQRCxFQUFPRSxZQUNQL0YsRUFBR25CLFNBQVMsZUFDWm1CLEVBQUdJLEtBQUsscUJBQXFCbkIsR0FBRyxRQUFTK0csR0FDekNoRyxFQUFHSSxLQUFLLG1CQUFtQm5CLEdBQUcsUUFBUyxXQUNuQzRHLEVBQU9JLGVBRVhqRyxFQUFHSSxLQUFLLGtCQUFrQm5CLEdBQUcsUUFBUyxXQUNsQzRHLEVBQU9FLGNBSWYsU0FBU0MsSUFDTDFDLFFBQVFDLElBQUksa0JBQ1osSUFBSTJDLEVBQVNsRyxFQUFHSSxLQUFLLFVBQVUsR0FDM0IrRixFQUFvQkQsRUFBT0MsbUJBQXFCRCxFQUFPRSxzQkFBd0JGLEVBQU9HLHdCQUN0RkYsR0FDQUEsRUFBa0JHLEtBQUtKLEVBQXZCQyxHQWpEUixJQUFJTixFQUNBVSxFQUFPLFlBQWN2RyxFQUFHMEMsUUFFNUIxQyxFQUFHSSxLQUFLLG9CQUFvQnFFLEtBQUssUUFFakN6RSxFQUNLSSxLQUFLLG1CQUNMWCxLQUFLLEtBQU04RyxHQUNYMUgsU0FBUyx1QkFHVmdILEVBQVMsSUFBSVcsR0FBR0MsT0FBT0YsR0FDbkJHLE1BQU8sSUFDUC9ILE9BQVEsSUFDUmdJLFFBQVMzRyxFQUFHUCxLQUFLLGdCQUNqQm1ILFlBQ0lDLFNBQVU3RyxFQUFHUCxLQUFLLGdCQUNsQnFILE1BQU8sUUFDUEMsS0FBTSxFQUNOQyxTQUFVLEdBSWRDLFFBQ0lDLFFBQVN0QixNQXNEckJwSixFQUFFLE9BQU9zRCxHQUFHLGNBQ1o1RCxFQUFLZ0osYUFLVDVJLEtBQUtILDhCQUFnQyxXQUNqQyxJQUFJZ0wsRUFBUTNLLEVBQUUsNkJBQ1Y0SyxFQUFjRCxFQUFNdkMsU0FDcEJ5QyxFQUFjRixFQUFNekksY0FDcEI0SSxFQUFpQkYsRUFBWTdJLFdBQVd6QixJQUN4Q3lLLEVBQW9CRCxFQUFpQkYsRUFBWTFJLGNBQ2pEOEksRUFBYUwsRUFBTWpILGFBQ25CdUgsRUFBWS9LLEVBQUkwQixZQUVoQmtKLEVBQWlCLEdBQUtHLEdBQ2xCTixFQUFNakksU0FBUyxjQUNmaUksRUFBTXJJLFlBQVksWUFDbEJxSSxFQUFNN0ksS0FDRnZCLEtBQU0sR0FDTjJKLE1BQU8sTUFLZlksRUFBaUJHLEVBQVksS0FDeEJOLEVBQU1qSSxTQUFTLGNBQ2hCaUksRUFBTTdJLEtBQ0Z2QixLQUFNb0ssRUFBTTlJLFNBQVN0QixLQUFPLEtBQzVCMkosTUFBT2MsSUFFWEwsRUFBTXRJLFNBQVMsYUFFZjRJLEVBQVlGLEVBQW9CRixFQUFjLElBQU0sRUFDcERGLEVBQU10SSxTQUFTLG1CQUVmc0ksRUFBTXJJLFlBQVkscUJBUTlCeEMsS0FBS29MLHlCQUEyQixXQUM1QixHQUFLbEwsRUFBRSxPQUFPc0QsR0FBRyxlQUFqQixDQUVBLElBQUk2SCxFQUFXbkwsRUFBRSxlQUNiMkssRUFBUTNLLEVBQUUsNEJBQ1ZvRSxFQUFPLEdBQ1grRyxFQUFTaEksS0FBSyxXQUNWaUIsR0FBUSxrREFBb0RwRSxFQUFFRixNQUFNbUQsS0FBSyxNQUFRLHVEQUM3RWpELEVBQUVGLE1BQU04RCxLQUFLLE1BQU13QyxPQUNuQixlQUdSdUUsRUFBTXZHLEtBQUtBLEdBQ1h1RyxFQUFNL0csS0FBSyxzQkFBc0JULEtBQUssV0FDbENuRCxFQUFFRixNQUFNMkMsR0FBRyxRQUFTLFdBRWhCL0MsRUFBSzBMLGdCQUFnQnBMLEVBQUVGLE1BQU1tRCxLQUFLLG9CQU85Q25ELEtBQUtzTCxnQkFBa0IsU0FBVW5JLEdBQzdCakQsRUFBRSxRQUFRK0YsU0FBU25FLFVBQVc1QixFQUFFLElBQU1pRCxHQUFNcEIsU0FBU3ZCLElBQUssS0FBTSxPQUtwRVIsS0FBS0Qsa0JBQW9CLFdBQ3JCRyxFQUFFLGVBQWVtRCxLQUFLLFdBQ2xCLElBQUkyQixFQUFlOUUsRUFBRUYsTUFBTWlDLFdBQVd6QixJQUNsQytLLEVBQVdyTCxFQUFFRixNQUFNb0MsY0FDbkJvSixFQUFpQnRMLEVBQUVDLFVBQVUyQixZQUM3QjJKLEVBQUksR0FFSkEsRUFEQXpHLEVBQWV3RyxFQUNYLEdBRUNBLEVBQWlCeEcsR0FBZ0J1RyxHQUVsQyxJQUFHRSxFQUFJLEdBQ2YsSUFBSUMsRUFBYXhMLEVBQUUsc0JBQXNCQSxFQUFFRixNQUFNb0csU0FDakRsRyxFQUFFd0wsR0FDRzVILEtBQUssNkJBQ0w5QixJQUFJLFFBQWEsSUFBSnlKLEVBQVUsUUFLaEN2TCxFQUFFLE9BQU9zRCxHQUFHLDZCQUE4QixDQUMxQyxJQUNJOUQsRUFEQUksR0FBUyxFQUVUSSxFQUFFLE9BQU9zRCxHQUFHLDhCQUNaMUQsR0FBUyxFQUNURixFQUFLd0wsMkJBQ0x4TCxFQUFLRyxxQkFpQlRNLEVBQVVzTCxPQUFPbE0sR0FDakJZLEVBQVVrSSxPQUFPOUksR0FFckJPLEtBQUs0TCxZQUFjLFdBQ2ZoTSxFQUFLaU0sV0FDR0MsWUFBWWxNLEVBQUtpTSxTQUFVLE1BS3ZDN0wsS0FBSzZMLFNBQVcsV0FDWjNMLEVBQUUsaUJBQWlCbUQsS0FBSyxXQUNwQixJQUFJMEksRUFBTyxJQUFJQyxLQUNYOUwsRUFBRUYsTUFBTW1ELEtBQUssYUFBYTRJLEVBQUtFLGFBQWEvTCxFQUFFRixNQUFNbUQsS0FBSyxhQUM3RCxJQUFJK0ksRUFBUUgsRUFBS0ksV0FDYkMsRUFBVUwsRUFBS00sYUFDZkMsRUFBVVAsRUFBS1EsU0FDZkMsRUFBTVQsRUFBS1UsVUFDWEMsRUFBUVgsRUFBS1ksV0FDYkMsRUFBT2IsRUFBS2MsY0F3QlpYLEVBQVEsS0FBSUEsRUFBUSxJQUFNQSxHQUMxQkUsRUFBVSxLQUFJQSxFQUFVLElBQU1BLEdBQ2xDRSxHQXhCUSxjQUNBLGNBQ0EsVUFDQSxRQUNBLFVBQ0EsVUFDQSxXQWtCV0EsR0FDbkJJLEdBaEJRLFNBQ0EsVUFDQSxRQUNBLFNBQ0EsTUFDQSxPQUNBLE9BQ0EsVUFDQSxXQUNBLFVBQ0EsU0FDQSxXQUtRQSxHQUNaeE0sRUFBRSx1QkFDRkEsRUFBRSxzQkFBc0JvRSxLQUFLNEgsRUFBUSxJQUFNRSxHQUMzQ2xNLEVBQUUsdUJBQ0ZBLEVBQUUsc0JBQXNCb0UsS0FDcEJnSSxFQUFVLEtBQU9FLEVBQU0sSUFBTUUsRUFBUSxJQUFNRSxNQU12RDFNLEVBQUUsT0FBT3NELEdBQUcsa0JBQ1o1RCxFQUFLZ00sY0FHTDFMLEVBQUUsT0FBT3NELEdBQUcscUJBQ1p0RCxFQUFFLG9CQUFvQm1ELEtBQUssV0FFdkJuRCxFQUFFRixNQUFNd0IsWUFDSnNMLGlCQUFrQixJQUNsQkMsaUJBQWtCLElBQ2xCQyxZQUFhLE1BQ2J2TCxhQUFjLE9BQ2RDLGdCQUFpQixLQUNqQnVMLFdBQVksVUFDWkMsV0FBWSxPQUNaQyxPQUFRLE9BQ1J2TCxZQUFhLGNBTXpCNUIsS0FBS29OLFVBQVksV0FDSWxOLEVBQUUsWUFDUm1ELEtBQUssV0FDWixJQUFJZ0ssRUFBV25OLEVBQUVGLE1BQ2pCcU4sRUFBU3ZKLEtBQUssbUJBQW1CVCxLQUFLLFdBQ2xDbkQsRUFBRUYsTUFBTTJDLEdBQUcsUUFBUyxXQUNoQi9DLEVBQUswTixnQkFBZ0JELEVBQVVuTixFQUFFRixNQUFNb0csYUFHL0N4RyxFQUFLME4sZ0JBQWdCRCxFQUFTLEdBQUUsTUFJeENyTixLQUFLc04sZ0JBQWtCLFNBQVU1SixFQUFJb0IsRUFBS3lJLEdBQ3RDLElBQUlDLEVBQVV0TixFQUFFd0QsRUFBR0ksS0FBSyxvQkFDcEIySixFQUFRdk4sRUFBRXdELEVBQUdJLEtBQUssa0JBQ3RCSixFQUFHSSxLQUFLLHdCQUF3QlQsS0FBSyxXQUNqQ25ELEVBQUUsSUFBTUEsRUFBRUYsTUFBTW1ELEtBQUssZ0JBQWdCZ0YsU0FFekNxRixFQUFRaEwsWUFBWSxVQUNwQmlMLEVBQUtqTCxZQUFZLFVBQ2pCdEMsRUFBRXNOLEVBQVExSSxJQUFNdkMsU0FBUyxVQUN6QnJDLEVBQUV1TixFQUFLM0ksSUFBTXZDLFNBQVMsV0FFMEYsR0FBN0dyQyxFQUFFLElBQU1BLEVBQUV1TixFQUFLM0ksSUFBTWhCLEtBQUssd0JBQXdCWCxLQUFLLGdCQUFnQlcsS0FBSyxxQkFBcUJ6QixVQUFpQmtMLElBQ2pIck4sRUFBRSxJQUFNQSxFQUFFdU4sRUFBSzNJLElBQU1oQixLQUFLLHdCQUF3QlgsS0FBSyxnQkFBZ0I4RSxRQUkzRS9ILEVBQUUsT0FBT3NELEdBQUcsYUFDWjVELEVBQUt3TixZQU9UcE4sS0FBS3dGLHdCQUEwQixTQUFVOUIsR0FDckNBLEVBQUdJLEtBQUssOEJBQThCbkIsR0FBRyxRQUFRLFNBQVVNLEdBQ3ZEckQsRUFBSzhOLG1CQUFtQmhLLEdBQ3hCVCxFQUFNMEssa0JBQ04vTixFQUFLZ08sbUJBQW1CbEssS0FFNUJBLEVBQUdJLEtBQUssaUNBQWlDbkIsR0FBRyxRQUFRLFNBQVVNLEdBQzFEckQsRUFBSzhOLG1CQUFtQmhLLEdBQ3hCVCxFQUFNMEssa0JBQ04vTixFQUFLaU8sa0JBQWtCbkssS0FHM0JBLEVBQUdJLEtBQUssa0NBQWtDbkIsR0FBRyxRQUFRLFNBQVVNLEdBQzNEckQsRUFBSzhOLG1CQUFtQmhLLEdBQ3hCVCxFQUFNMEssa0JBQ04vTixFQUFLa08sa0JBQWtCcEssS0FHM0JBLEVBQUdJLEtBQUssOEJBQThCbkIsR0FBRyxRQUFRLFNBQVVvTCxHQUN2RDlLLE1BQU0wSyxrQkFDTi9OLEVBQUtvTyxtQkFBbUJ0SyxLQUU1QkEsRUFBR0ksS0FBSyw4QkFBOEJBLEtBQUssS0FBS25CLEdBQUcsUUFBUSxTQUFVTSxFQUFNUyxHQUN2RVQsRUFBTTBGLGlCQUVOL0ksRUFBS3FPLGVBQWV2SyxLQUV4QkEsRUFBR2YsR0FBRyxvQkFBb0IsV0FDdEJ6QyxFQUFFd0QsR0FBSUksS0FBSyw4QkFBOEJ3RSxTQUFTOUYsWUFBWSxhQUM5RDVDLEVBQUs4TixtQkFBbUJoSyxNQUtoQzFELEtBQUt1Rix5QkFBMkIsU0FBVTdCLEdBQ3RDQSxFQUFHSSxLQUFLLDhCQUE4QmMsTUFDdENsQixFQUFHSSxLQUFLLGlDQUFpQ2MsTUFDekNsQixFQUFHSSxLQUFLLGtDQUFrQ2MsTUFDMUNsQixFQUFHSSxLQUFLLDhCQUE4QmMsTUFDdENsQixFQUFHSSxLQUFLLDhCQUE4QkEsS0FBSyxLQUFLYyxNQUNoRGxCLEVBQUdrQixPQUtQNUUsS0FBS2lPLGVBQWlCLFNBQVV2SyxHQUM1QnNELFFBQVFDLElBQUksZ0JBQ1pySCxFQUFLOE4sbUJBQW1CaEssSUFLNUIxRCxLQUFLa08sa0JBQW9CLFNBQVV4SyxHQUMvQnhELEVBQUV3RCxHQUFJbkIsU0FBUyxjQUVuQnZDLEtBQUswTixtQkFBcUIsU0FBVWhLLEdBQ2hDeEQsRUFBRXdELEdBQUlsQixZQUFZLGNBS3RCeEMsS0FBS2dPLG1CQUFxQixTQUFVdEssR0FFaEMsSUFBSXlLLEVBQVN6SyxFQUFHSSxLQUFLLDhCQUE4QndFLFNBQ2hENkYsRUFBT3ZMLFNBQVMsY0FDZnVMLEVBQU8zTCxZQUFZLGFBQ25CNUMsRUFBSzhOLG1CQUFtQmhLLEtBR3hCeUssRUFBTzVMLFNBQVMsYUFDaEIzQyxFQUFLc08sa0JBQWtCeEssS0FHL0IxRCxLQUFLNE4sbUJBQXFCLFNBQVVsSyxHQUNoQyxJQUFHQSxFQUFHZCxTQUFTLGFBQWYsQ0FDQSxJQUFJdUwsRUFBU3pLLEVBQUdJLEtBQUssOEJBQThCd0UsU0FDaEQ2RixFQUFPdkwsU0FBUyxjQUNmdUwsRUFBTzNMLFlBQVksYUFDbkJ3RSxRQUFRQyxJQUFJLDJCQUVaa0gsRUFBTzVMLFNBQVMsYUFDaEJ5RSxRQUFRQyxJQUFJLGtCQUlwQmpILEtBQUs2TixrQkFBb0IsU0FBVW5LLEdBQy9CLElBQUdBLEVBQUdkLFNBQVMsYUFBZixDQUNBLElBQUl1TCxFQUFTekssRUFBR0ksS0FBSyxpQ0FBaUN3RSxTQUNuRDZGLEVBQU92TCxTQUFTLGNBQ2Z1TCxFQUFPM0wsWUFBWSxhQUNuQndFLFFBQVFDLElBQUksd0JBRVprSCxFQUFPNUwsU0FBUyxhQUNoQnlFLFFBQVFDLElBQUksaUJBR3BCakgsS0FBSzhOLGtCQUFvQixTQUFVcEssR0FDL0IsSUFBR0EsRUFBR2QsU0FBUyxhQUFmLENBQ0EsSUFBSXVMLEVBQVN6SyxFQUFHSSxLQUFLLGtDQUFrQ3dFLFNBQ3BENkYsRUFBT3ZMLFNBQVMsY0FDZnVMLEVBQU8zTCxZQUFZLGFBQ25Cd0UsUUFBUUMsSUFBSSwyQkFFWmtILEVBQU81TCxTQUFTLGFBQ2hCeUUsUUFBUUMsSUFBSSx5QkFPaEIvRyxFQUFFLEtBQUtzRCxHQUFHLHlCQUVWdEQsRUFBRSx3QkFBd0JtRCxLQUFLLFdBQzNCekQsRUFBSzRGLHdCQUF3QnRGLEVBQUVGLFNBU3ZDRSxFQUFFLDJCQUEyQnlDLEdBQUcsUUFBUyxXQUNyQy9DLEVBQUt3TyxZQUFZLGNBRXJCbE8sRUFBRSwwQkFBMEJ5QyxHQUFHLFFBQVMsV0FDcEMvQyxFQUFLd08sWUFBWSxhQUVyQmxPLEVBQUUseUJBQXlCeUMsR0FBRyxRQUFTLFdBQ25DL0MsRUFBS3dPLFlBQVksWUFHckJsTyxFQUFFLHlCQUF5QnlDLEdBQUcsUUFBUyxXQUNuQy9DLEVBQUt5TyxtQkFBbUIsY0FFNUJuTyxFQUFFLHdCQUF3QnlDLEdBQUcsUUFBUyxXQUNsQy9DLEVBQUt5TyxtQkFBbUIsYUFFNUJuTyxFQUFFLHVCQUF1QnlDLEdBQUcsUUFBUyxXQUNqQy9DLEVBQUt5TyxtQkFBbUIsWUFHNUJyTyxLQUFLcU8sbUJBQXFCLFNBQVVDLEdBRWhDQyxNQUFNLHFCQUF1QkQsSUFHakN0TyxLQUFLb08sWUFBYyxTQUFVRSxHQUV6QkMsTUFBTSxjQUFnQkQsSUFHM0J0TyxLQUFLd08sUUFBVSxTQUFVOUssR0FDckIsSUFHSStLLEVBQ0FDLEVBQ0FDLEVBTEFyRyxFQUFTNUUsRUFBRzRFLFNBQ1pzRyxFQUFZdEcsRUFBT2pHLFNBQ25Cd00sRUFBWW5MLEVBQUdJLEtBQUssS0FJeEJ3RSxFQUFPakQsV0FBV2hDLEtBQUssV0FDbkJ1TCxHQUFhMU8sRUFBRUYsTUFBTW9DLGFBQVksS0FHckN3TSxFQUFZQSxFQUFZbEwsRUFBR3JCLFNBQVcsR0FHdEN3TSxFQUFVeEwsS0FBSyxZQUNYb0wsRUFBYXZPLEVBQUVGLE1BQU1vQyxhQUFZLElBRWhCd00sRUFDYkEsR0FBYUgsRUFFUkcsR0FHREYsRUFBZ0I5SCxLQUFLa0ksTUFBTTVPLEVBQUVGLE1BQU1zRyxPQUFPa0IsT0FBU29ILEVBQVlILEdBQy9ERSxFQUFVek8sRUFBRUYsTUFBTXNHLE9BQU95SSxVQUFVLEVBQUdMLEVBQWdCLEdBRXREeE8sRUFBRUYsTUFBTXNHLEtBQUssRUFBWSxPQUN6QnNJLEVBQVksR0FOWjFPLEVBQUVGLE1BQU1nQyxJQUFJLFVBQVcsV0F3Qm5DOUIsRUFBRSxPQUFPc0QsR0FBRyxrQkFDWnRELEVBQUUsZ0JBQWdCbUQsS0FBSyxXQUNuQnpELEVBQUs0TyxRQUFRdE8sRUFBRUYsU0FJbkJLLEVBQVVrSSxPQUFPLFdBQ2JySSxFQUFFLGdCQUFnQm1ELEtBQUssV0FDbkJ6RCxFQUFLNE8sUUFBUXRPLEVBQUVGLFlBTTNCQSxLQUFLZ1Asa0JBQW9CLFdBQ045TyxFQUFFLG1DQUNSbUQsS0FBSyxXQUNWekQsRUFBS3FQLFFBQVEvTyxFQUFFRixNQUFPLFFBSTlCQSxLQUFLaVAsUUFBVSxTQUFVdkwsRUFBSW9CLEdBQ3pCLElBQUlvSyxFQUFXeEwsRUFBRzRDLE9BQ2Q0SSxFQUFTMUgsT0FBUzFDLElBQ2xCb0ssRUFBV0EsRUFBU0MsTUFBTSxFQUFHckssR0FBTyxNQUNwQ3BCLEVBQUc0QyxLQUFLNEksS0FLWmhQLEVBQUUsS0FBS3NELEdBQUcsb0NBQ1Y1RCxFQUFLb1Asb0JBS1I1TyxFQUFJZ1AsTUFBTSxXQUVOeFAsRUFBS3VDLGVBQ0x2QyxFQUFLMEMsc0JBSVR0QyxLQUFLcVAsT0FBUyxXQUVWLE9BREFuUCxFQUFFLGNBQWMrRixTQUFTbkUsVUFBVyxHQUFJLE1BQ2pDLEdBR1g5QixLQUFLc1AsYUFBZSxXQUNacFAsRUFBRUMsVUFBVTJCLFlBQWMsR0FDMUJiLEVBQVNzQixTQUFTLGNBRWxCdEIsRUFBU3VCLFlBQVksZUFLN0J2QixFQUFTMEIsR0FBRyxRQUFTL0MsRUFBS3lQLFFBRTFCaFAsRUFBVXNMLE9BQU8sV0FDYi9MLEVBQUswUCxlQUNEcFAsRUFBRSxtQkFBbUJzRCxHQUFHLGFBQ3hCNUQsRUFBSzBDLHNCQUdiakMsRUFBVWtJLE9BQU8sV0FDYjNJLEVBQUswQyxvQkFDTDFDLEVBQUt1QyxlQUVEckIsRUFBUzhCLFNBQVMsWUFBWWhELEVBQUs2QyxrQkFFbkN2QyxFQUFFLE9BQU9zRCxHQUFHLHVCQUNadEQsRUFBRSxzQkFBc0JtRCxLQUFLLFdBQ3pCbkQsRUFBRUYsTUFBTXdDLFlBQVksWUFDcEJ0QyxFQUFFRixNQUFNd0MsWUFBWSxhQUNwQjVDLEVBQUs2RCxjQUFjdkQsRUFBRUYsV0FJakNFLEVBQUVJLFFBQVFxQyxHQUFHLE9BQVEsV0FDYnpDLEVBQUUsT0FBT3NELEdBQUcsdUJBQ1p0RCxFQUFFLHNCQUFzQm1ELEtBQUssV0FDekJ6RCxFQUFLNkQsY0FBY3ZELEVBQUVGLFdBS2pDQyxFQUFLMEMsR0FBRyxRQUFTLFNBQVVNLE1BTXZCL0MsRUFBRSxLQUFLc0QsR0FBRyxrQkFDWnRELEVBQUUsaUJBQWlCNEQsS0FBSyxLQUFLbkIsR0FBRyxRQUFRLFNBQVVNLEdBRTlDQSxFQUFNMEYsaUJBQ056SSxFQUFFLGlCQUFpQjRELEtBQUssTUFBTXRCLFlBQVksYUFDMUN0QyxFQUFFRixNQUFNc0ksU0FBUy9GLFNBQVMsYUFDMUJ5RSxRQUFRQyxJQUFJLGdCQWF0Qi9HLEVBQUVDLFVBQVVpUCxNQUVSLFdBQ21CLElBQUk1UCIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvL9GE0YPQvdC60YbQuNGPLCDQvtC/0YDQtdC00LXQu9GP0Y7RidCw0Y8g0LfQsNGA0LXQs9C40YHRgtCy0LjRgNC+0LLQsNC90L3Ri9C5INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRjCDQuNC70Lgg0L3QtdGCXHJcblxyXG4vLyDQv9GA0LXQtNGD0YHQvNC+0YLRgNC10YLRjCDQstGL0YXQvtC0INC40Lcg0LDQutC60LDRg9C90YLQsFxyXG5cclxuXHJcbkdvVG9UcmlwID0gZnVuY3Rpb24gKCkge1xyXG5cclxuICAgIHZhciBzZWxmID0gdGhpcyxcclxuICAgICAgICBib2R5ID0gJChkb2N1bWVudC5ib2R5KSxcclxuICAgICAgICBkb2MgPSAkKGRvY3VtZW50KSxcclxuICAgICAgICBkb2NXaW5kb3cgPSAkKHdpbmRvdyksXHJcbiAgICAgICAgYm9keVBvc2l0aW9uID0ge1xyXG4gICAgICAgICAgICB0b3A6IGZhbHNlLFxyXG4gICAgICAgICAgICBsZWZ0OiBmYWxzZVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdG9rZW4zNjAgPSAkKFwiI2d0LWlzLTM2MFwiKSxcclxuICAgICAgICB0b2tlbjQ4MCA9ICQoXCIjZ3QtaXMtNDgwXCIpLFxyXG4gICAgICAgIHRva2VuNjY3ID0gJChcIiNndC1pcy02NjdcIiksXHJcbiAgICAgICAgdG9rZW43NjggPSAkKFwiI2d0LWlzLTc2OFwiKSxcclxuICAgICAgICB0b2tlbjEwMjQgPSAkKFwiI2d0LWlzLTEwMjRcIiksXHJcbiAgICAgICAgdG9rZW4xMjMxID0gJChcIiNndC1pcy0xMjMxXCIpLFxyXG4gICAgICAgIGd0SGVhZGVyID0gJChcImhlYWRlclwiKSxcclxuICAgICAgICBndEZvb3RlciA9ICQoXCJmb290ZXJcIiksXHJcbiAgICAgICAgZ3RXcmFwcGVyID0gJChcIiNndC13cmFwcGVyXCIpLFxyXG4gICAgICAgIHVwQnV0dG9uID0gJChcIiNndC11cFwiKSxcclxuICAgICAgICBtb2JpbGVNZW51U3dpdGNoID0gJChcIiNndC1tb2JpbGUtbWVudS1zd2l0Y2hcIiksXHJcbiAgICAgICAgZW50ZXJCdXR0b24gPSAkKCcuZ3QtZW50ZXInKSxcclxuICAgICAgICBlbnRlcldyYXBwZXIgPSAkKCcjZ3QtaGVhZGVyLWVudGVyLXdyYXBwZXInKSxcclxuICAgICAgICBlbnRlckZvcm0gPSAkKCcjZ3QtaGVhZGVyLWVudGVyJyksXHJcbiAgICAgICAgZW50ZXJDaG9zZSA9ICQoJyNndC1oZWFkZXItZW50ZXItY2hvc2UnKSxcclxuICAgICAgICBlbnRlckNsb3NlID0gJCgnI2d0LWhlYWRlci1lbnRlci1jbG9zZScpO1xyXG4gICAgJChcImh0bWxcIikubmljZVNjcm9sbCh7XHJcbiAgICAgICAgY3Vyc29yYm9yZGVyOiAnMXB4IHNvbGlkICM2ZDZkNmQnLFxyXG4gICAgICAgIG1vdXNlc2Nyb2xsc3RlcDogJzYwJyxcclxuICAgICAgICBib3VuY2VzY3JvbGw6IHRydWUsXHJcbiAgICAgICAgY3Vyc29yY29sb3I6ICcjNmQ2ZDZkJ1xyXG4gICAgfSlcclxuXHJcblxyXG4gICAgdGhpcy5maXhCb2R5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmIChib2R5UG9zaXRpb24udG9wIHx8IGJvZHlQb3NpdGlvbi5sZWZ0KSByZXR1cm47XHJcbiAgICAgICAgYm9keVBvc2l0aW9uLnRvcCA9IGRvYy5zY3JvbGxUb3AoKTtcclxuICAgICAgICBib2R5UG9zaXRpb24ubGVmdCA9IGJvZHkub2Zmc2V0KCkubGVmdDtcclxuICAgICAgICBib2R5LmNzcyh7XHJcbiAgICAgICAgICAgIHBvc2l0aW9uOiBcImZpeGVkXCIsXHJcbiAgICAgICAgICAgIGxlZnQ6IGJvZHlQb3NpdGlvbi5sZWZ0ICsgXCJweFwiLFxyXG4gICAgICAgICAgICB0b3A6IC0xICogYm9keVBvc2l0aW9uLnRvcCArIFwicHhcIlxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgdGhpcy51bmZpeEJvZHkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgYm9keS5jc3Moe1xyXG4gICAgICAgICAgICBwb3NpdGlvbjogXCJcIixcclxuICAgICAgICAgICAgbGVmdDogXCJcIixcclxuICAgICAgICAgICAgdG9wOiBcIlwiXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgZG9jLnNjcm9sbFRvcChib2R5UG9zaXRpb24udG9wKTtcclxuICAgICAgICBib2R5UG9zaXRpb24udG9wID0gZmFsc2U7XHJcbiAgICAgICAgYm9keVBvc2l0aW9uLmxlZnQgPSBmYWxzZTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5mb290ZXJIZWlnaHQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGZvb3RlckhlaWdodCA9IGd0Rm9vdGVyLm91dGVySGVpZ2h0KCk7XHJcbiAgICAgICAgaWYgKGZvb3RlckhlaWdodCA+IGRvY1dpbmRvdy5oZWlnaHQoKSAtIDUwKSB7XHJcbiAgICAgICAgICAgIGd0Rm9vdGVyLmNzcyhcInBvc2l0aW9uXCIsIFwic3RhdGljXCIpO1xyXG4gICAgICAgICAgICBndFdyYXBwZXIuY3NzKFwibWFyZ2luLWJvdHRvbVwiLCBcIlwiKTtcclxuICAgICAgICAgICAgdXBCdXR0b24uY3NzKFwicG9zaXRpb25cIiwgXCJzdGF0aWNcIik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZ3RGb290ZXIuY3NzKFwicG9zaXRpb25cIiwgXCJcIik7XHJcbiAgICAgICAgICAgIHVwQnV0dG9uLmNzcyhcInBvc2l0aW9uXCIsIFwiXCIpO1xyXG4gICAgICAgICAgICBndFdyYXBwZXIuY3NzKFwibWFyZ2luLWJvdHRvbVwiLCBndEZvb3Rlci5vdXRlckhlaWdodCgpICsgXCJweFwiKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgdGhpcy5kZXNrVG9wTWVudVNjcm9sbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoZG9jV2luZG93LnNjcm9sbFRvcCgpID4gZ3RIZWFkZXIub3V0ZXJIZWlnaHQoKSkge1xyXG4gICAgICAgICAgICBndEhlYWRlci5hZGRDbGFzcyhcImd0LWhlYWRlci1zY3JvbGxlZFwiKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBndEhlYWRlci5yZW1vdmVDbGFzcyhcImd0LWhlYWRlci1zY3JvbGxlZFwiKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIFxyXG4gICAgdGhpcy5tb2JpbGVNZW51Q2xvc2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgc2VsZi51bmZpeEJvZHkoKTtcclxuICAgICAgICBtb2JpbGVNZW51U3dpdGNoLnJlbW92ZUNsYXNzKFwiZ3Qtb3BlblwiKTtcclxuICAgICAgICBndEhlYWRlci5yZW1vdmVDbGFzcyhcImd0LW9wZW5cIik7XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICB0aGlzLm1vYmlsZU1lbnVPcGVuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHNlbGYuZml4Qm9keSgpO1xyXG4gICAgICAgIGd0SGVhZGVyLmFkZENsYXNzKFwiZ3Qtb3BlblwiKTtcclxuICAgICAgICBtb2JpbGVNZW51U3dpdGNoLmFkZENsYXNzKFwiZ3Qtb3BlblwiKTtcclxuICAgIH07XHJcbiAgICBcclxuICAgIFxyXG4gICAgXHJcbiAgICBtb2JpbGVNZW51U3dpdGNoLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICgkKHRoaXMpLmhhc0NsYXNzKFwiZ3Qtb3BlblwiKSkge1xyXG4gICAgICAgICAgICBzZWxmLm1vYmlsZU1lbnVDbG9zZSgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHNlbGYubW9iaWxlTWVudU9wZW4oKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgIHRoaXMub3BlbkVudGVyRm9ybSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBlbnRlcldyYXBwZXIuYWRkQ2xhc3MoJ2d0LW9wZW4nKTtcclxuICAgICAgICBzZXRUaW1lb3V0KHNob3cpO1xyXG4gICAgICAgIGZ1bmN0aW9uIHNob3coKSB7XHJcbiAgICAgICAgICAgICQoJyNndC1oZWFkZXItcmVnaXN0ZXJlZCcpLmFkZENsYXNzKCdndC1vcGVuJyk7XHJcbiAgICAgICAgICAgIGVudGVyRm9ybS5hZGRDbGFzcygnZ3Qtb3BlbicpO1xyXG4gICAgICAgICAgICBlbnRlckNsb3NlLmFkZENsYXNzKCdndC1vcGVuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgdGhpcy5jbG9zZUVudGVyRm9ybSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBlbnRlckNsb3NlLnJlbW92ZUNsYXNzKCdndC1vcGVuJyk7XHJcbiAgICAgICAgZW50ZXJGb3JtLnJlbW92ZUNsYXNzKCdndC1vcGVuJyk7XHJcbiAgICAgICAgJCgnI2d0LWhlYWRlci1yZWdpc3RlcmVkJykucmVtb3ZlQ2xhc3MoJ2d0LW9wZW4nKTtcclxuICAgICAgICBzZWxmLmNsb3NlUmVzdG9yZVBhc3MoKTtcclxuICAgICAgICBzZXRUaW1lb3V0KGhpZGUsIDc1MCk7XHJcbiAgICAgICAgZnVuY3Rpb24gaGlkZSgpIHtcclxuICAgICAgICAgICAgZW50ZXJXcmFwcGVyLnJlbW92ZUNsYXNzKCdndC1vcGVuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgdGhpcy5jaGFuZ2VFbnRlclJlZ2lzdHJhdGlvbiA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIGlmIChlbnRlckZvcm0uaGFzQ2xhc3MoJChldmVudC50YXJnZXQpLmF0dHIoXCJjbGFzc1wiKSkpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICBlbnRlckZvcm0ucmVtb3ZlQ2xhc3MoXCJndC1jaG9zZW4tZW50ZXJcIikucmVtb3ZlQ2xhc3MoXCJndC1jaG9zZW4tcmVnaXN0cmF0aW9uXCIpLmFkZENsYXNzKCQoZXZlbnQudGFyZ2V0KS5hdHRyKFwiY2xhc3NcIikpO1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgXHJcbiAgICB0aGlzLm9wZW5SZXN0b3JlUGFzcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkKCcjZ3QtZW50ZXItcGFzcy1yZXN0b3JlLXdyYXBwZXInKS5hZGRDbGFzcygnZ3Qtb3BlbicpXHJcbiAgICBcclxuICAgIH07XHJcbiAgICB0aGlzLmNsb3NlUmVzdG9yZVBhc3MgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJCgnI2d0LWVudGVyLXBhc3MtcmVzdG9yZS13cmFwcGVyJykucmVtb3ZlQ2xhc3MoJ2d0LW9wZW4nKVxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgXHJcbiAgICBlbnRlckJ1dHRvbi5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkKHRoaXMpLm9uKCdjbGljaycsIHNlbGYub3BlbkVudGVyRm9ybSlcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICBlbnRlckNsb3NlLm9uKCdjbGljaycsIHNlbGYuY2xvc2VFbnRlckZvcm0pO1xyXG4gICAgXHJcbiAgICBlbnRlckNob3NlLm9uKCdjbGljaycsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIHNlbGYuY2hhbmdlRW50ZXJSZWdpc3RyYXRpb24oZXZlbnQpO1xyXG4gICAgfSk7XHJcbiAgICBcclxuICAgICQoJyNndC1lbnRlci1mb3JtLXJlc3RvcmUtcGFzcycpLm9uKCdjbGljaycsc2VsZi5vcGVuUmVzdG9yZVBhc3MpO1xyXG4gICAgJCgnI2d0LWVudGVyLXBhc3MtcmVzdG9yZS1zdWJtaXQnKS5vbignY2xpY2snLHNlbGYuY2xvc2VSZXN0b3JlUGFzcyk7XHJcblxyXG4gICAgdGhpcy5zZXRCYWNrZ3JvdW5kID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBpbWdIb2xkZXJzID0gJChcIi5ndC1pbWctaG9sZGVyXCIpO1xyXG4gICAgICAgIGltZ0hvbGRlcnMuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmICghJCh0aGlzKS5hdHRyKFwiZGF0YS1iZ1wiKSkgcmV0dXJuO1xyXG4gICAgICAgICAgICB2YXIgcGF0aCA9ICQodGhpcykuYXR0cihcImRhdGEtYmdcIik7XHJcbiAgICAgICAgICAgIGlmICh0b2tlbjY2Ny5pcyhcIjp2aXNpYmxlXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmNzcyhcclxuICAgICAgICAgICAgICAgICAgICBcImJhY2tncm91bmQtaW1hZ2VcIixcclxuICAgICAgICAgICAgICAgICAgICAndXJsKFwiLi9pbWcvYmFja2dyb3VuZHMvcGhvbmUvJyArIHBhdGggKyAnXCIpJ1xyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodG9rZW4xMDI0LmlzKFwiOnZpc2libGVcIikpIHtcclxuICAgICAgICAgICAgICAgICQodGhpcykuY3NzKFxyXG4gICAgICAgICAgICAgICAgICAgIFwiYmFja2dyb3VuZC1pbWFnZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICd1cmwoXCIuL2ltZy9iYWNrZ3JvdW5kcy90YWJsZXQvJyArIHBhdGggKyAnXCIpJ1xyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAkKHRoaXMpLmNzcyhcclxuICAgICAgICAgICAgICAgIFwiYmFja2dyb3VuZC1pbWFnZVwiLFxyXG4gICAgICAgICAgICAgICAgJ3VybChcIi4vaW1nL2JhY2tncm91bmRzL2Rlc2t0b3AvJyArIHBhdGggKyAnXCIpJ1xyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgXHJcbiAgICB0aGlzLmltZ0hvbGRlckZ1bmMgPSBmdW5jdGlvbiAoZWwpIHtcclxuICAgICAgICAkKGVsKS5yZW1vdmVDbGFzcyhcImd0LXdpZHRoXCIpO1xyXG4gICAgICAgICQoZWwpLnJlbW92ZUNsYXNzKFwiZ3QtaGVpZ2h0XCIpO1xyXG4gICAgICAgICQoZWwpLnJlbW92ZUNsYXNzKFwiZ3QtdmlzaWJsZVwiKTtcclxuICAgICAgICB2YXIgaG9sZGVyQ29uc3QgPSBlbC5vdXRlckhlaWdodCgpIC8gZWwub3V0ZXJXaWR0aCgpLFxyXG4gICAgICAgICAgICBpbWcgPSBlbC5maW5kKCdpbWcnKSxcclxuICAgICAgICAgICAgaW1nQ29uc3QgPSBpbWcub3V0ZXJIZWlnaHQoKSAvIGltZy5vdXRlcldpZHRoKCk7XHJcbiAgICBcclxuICAgICAgICBpZiAoaW1nQ29uc3QgPiBob2xkZXJDb25zdCkge1xyXG4gICAgICAgICAgICAkKGVsKS5hZGRDbGFzcyhcImd0LXdpZHRoXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgJChlbCkuYWRkQ2xhc3MoXCJndC1oZWlnaHRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgICQoZWwpLmFkZENsYXNzKFwiZ3QtdmlzaWJsZVwiKTtcclxuICAgIH07XHJcbiAgICBcclxuICAgIFxyXG4gICAgaWYgKCQoXCJkaXZcIikuaXMoXCIuZ3QtaW1nLWhvbGRlclwiKSkge1xyXG4gICAgICAgIHNlbGYuc2V0QmFja2dyb3VuZCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuY3JlYXRlU2xpZGVyID0gZnVuY3Rpb24gKGN1cnJTbGlkZXIsIHBvc2l0aW9uKSB7XHJcbiAgICAgICAgdmFyIHNsaWRlclRpbWVPdXQsXHJcbiAgICAgICAgICAgIHNjcmVlbkNvbnN0ID0gMSxcclxuICAgICAgICAgICAgYmFzZVdpZHRoLFxyXG4gICAgICAgICAgICBhcnJvd3NSZWFkeSA9IGZhbHNlLFxyXG4gICAgICAgICAgICBpbm5lciA9IGN1cnJTbGlkZXIuZmluZChcIi5ndC1zbGlkZXItaW5uZXJcIiksXHJcbiAgICAgICAgICAgIGNvbnRhaW5lciA9IGN1cnJTbGlkZXIuZmluZChcIi5ndC1zbGlkZXItY29udGFpbmVyXCIpLFxyXG4gICAgICAgICAgICBpbm5lckNvdW50ID0gaW5uZXIubGVuZ3RoLFxyXG4gICAgICAgICAgICBjdXJyUG9zaXRpb24gPSBwb3NpdGlvbiB8fCAwLFxyXG4gICAgICAgICAgICBhcnJvdyA9IGN1cnJTbGlkZXIuaGFzQ2xhc3MoXCJndC1zbGlkZXItaGFzLWFycm93XCIpLFxyXG4gICAgICAgICAgICBkb3RzID0gY3VyclNsaWRlci5oYXNDbGFzcyhcImd0LXNsaWRlci1oYXMtZG90c1wiKSxcclxuICAgICAgICAgICAgbnVtUGFuZWwgPSBjdXJyU2xpZGVyLmhhc0NsYXNzKFwiZ3Qtc2xpZGVyLW51bVwiKSxcclxuICAgICAgICAgICAgdHJhbSA9IGN1cnJTbGlkZXIuaGFzQ2xhc3MoXCJndC1zbGlkZXItdHJhbVwiKSxcclxuICAgICAgICAgICAgdHJhbUFuaW1hdGlvbiA9IGN1cnJTbGlkZXIuYXR0cignZGF0YS1kdXJhdGlvbicpIHx8IDMwMCxcclxuICAgICAgICAgICAgZmFkZSA9IGN1cnJTbGlkZXIuaGFzQ2xhc3MoXCJndC1zbGlkZXItZmFkZVwiKSxcclxuICAgICAgICAgICAgaGFzQ2xvbmUgPSBjdXJyU2xpZGVyLmhhc0NsYXNzKFwiZ3Qtc2xpZGVyLWhhcy1jbG9uZVwiKTtcclxuICAgICAgICBpZiAoZmFkZSkge1xyXG4gICAgICAgICAgICBmYWRlU2xpZGVyTW92ZShwb3NpdGlvbik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0cmFtKSB7XHJcbiAgICAgICAgICAgIGZpbmRTY3JlZW5Db25zdCgpO1xyXG4gICAgICAgICAgICBzZXRCYXNlV2lkdGgoKTtcclxuICAgICAgICAgICAgdHJhbVNsaWRlck1vdmUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGFycm93KSB7XHJcbiAgICAgICAgICAgIGN1cnJTbGlkZXIuYXBwZW5kKCc8ZGl2IGNsYXNzPVwiZ3Qtc2xpZGVyLWFycm93LWhvbGRlclwiPjwvZGl2PicpO1xyXG4gICAgICAgICAgICBjcmVhdGVBcnJvd3MoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGRvdHMpIHtcclxuICAgICAgICAgICAgY3JlYXRlRG90cygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaW5uZXJDb3VudCA+IHNjcmVlbkNvbnN0KSB7XHJcbiAgICAgICAgICAgIGNyZWF0ZVRvdWNoKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChoYXNDbG9uZSkge1xyXG4gICAgICAgICAgICBjcmVhdGVDbG9uZUxpc3RlbmVycygpO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZUNsb25lTGlzdGVuZXJzKCkge1xyXG4gICAgICAgICAgICBjdXJyU2xpZGVyLmZpbmQoJy5ndC1zbGlkZXItaW5uZXItY292ZXInKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICQodGhpcykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZUNsb25lU2xpZGVyKCQodGhpcykucGFyZW50KCkuaW5kZXgoKSlcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlQXJyb3dzKCkge1xyXG4gICAgICAgICAgICBpZiAoaW5uZXJDb3VudCA+IHNjcmVlbkNvbnN0KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbnVtSW5uZXIgPSAnJztcclxuICAgICAgICAgICAgICAgIGlmIChudW1QYW5lbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG51bUlubmVyID0gJzxkaXYgY2xhc3M9XCJndC1zbGlkZXItYXJyb3ctbnVtXCI+PGkgY2xhc3M9XCJndC1zbGlkZXItbnVtLWN1cnJcIj48L2k+PGk+0LjQtzwvaT48aSBjbGFzcz1cImd0LXNsaWRlci1udW0tbWF4XCI+PC9pPjwvZGl2PidcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGN1cnJTbGlkZXIuZmluZChcIi5ndC1zbGlkZXItYXJyb3ctaG9sZGVyXCIpLmh0bWwoXHJcbiAgICAgICAgICAgICAgICAgICAgJzxzcGFuIGNsYXNzID0gXCJndC1zbGlkZXItYXJyb3cgbGVmdFwiPicgK1xyXG4gICAgICAgICAgICAgICAgICAgIFwiPC9zcGFuPlwiICsgbnVtSW5uZXIgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8c3BhbiBjbGFzcyA9IFwiZ3Qtc2xpZGVyLWFycm93IHJpZ2h0XCI+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgXCI8L3NwYW4+XCJcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICBjcmVhdGVBcnJvd3NMaXN0ZW5lcnMoKTtcclxuICAgICAgICAgICAgICAgIHNob3dOdW0oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBhcnJvd3NSZWFkeSA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgZnVuY3Rpb24gZGVzdHJveUFycm93cyhjbG9uZSkge1xyXG4gICAgICAgICAgICB2YXIgZWwgPSBjbG9uZSB8fCBjdXJyU2xpZGVyO1xyXG4gICAgICAgICAgICBlbC5maW5kKFwiLmxlZnRcIikub2ZmKCk7XHJcbiAgICAgICAgICAgIGVsLmZpbmQoXCIucmlnaHRcIikub2ZmKCk7XHJcbiAgICAgICAgICAgIGVsLmZpbmQoXCIuZ3Qtc2xpZGVyLWFycm93LWhvbGRlclwiKS5odG1sKFwiXCIpO1xyXG4gICAgICAgICAgICBhcnJvd3NSZWFkeSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZUFycm93c0xpc3RlbmVycygpIHtcclxuICAgICAgICAgICAgY3VyclNsaWRlci5maW5kKFwiLmxlZnRcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBvbmVNb3ZlRnVuY3Rpb24oZmFsc2UpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY3VyclNsaWRlci5maW5kKFwiLnJpZ2h0XCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgb25lTW92ZUZ1bmN0aW9uKHRydWUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgaWYgKG51bVBhbmVsKSBzaG93TnVtKClcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICBmdW5jdGlvbiBjcmVhdGVEb3RzKCkge1xyXG4gICAgICAgICAgICBjdXJyU2xpZGVyLmFwcGVuZCgnPGRpdiBjbGFzcz1cImd0LXNsaWRlci1uYXZcIj48L2Rpdj4nKTtcclxuICAgICAgICAgICAgdmFyIG5hdiA9IGN1cnJTbGlkZXIuZmluZChcIi5ndC1zbGlkZXItbmF2XCIpLFxyXG4gICAgICAgICAgICAgICAgc3BhbnMgPSBcIlwiO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGlubmVyQ291bnQ7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgc3BhbnMgKz0gXCI8c3BhbiBkYXRhLW51bSA9IFwiICsgaSArIFwiPjwvc3Bhbj5cIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBuYXYuaHRtbChzcGFucyk7XHJcbiAgICAgICAgICAgIG5hdi5maW5kKFwic3BhblwiKS5maXJzdCgpLmFkZENsYXNzKFwiZ3QtYWN0aXZlXCIpO1xyXG4gICAgICAgICAgICBjdXJyU2xpZGVyLmZpbmQoXCIuZ3Qtc2xpZGVyLW5hdiBzcGFuXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgb25lTW92ZUZ1bmN0aW9uKHRydWUsICskKHRoaXMpLmF0dHIoXCJkYXRhLW51bVwiKSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIGZ1bmN0aW9uIG9uZU1vdmVGdW5jdGlvbihidWwsIG51bSkge1xyXG4gICAgICAgICAgICB2YXIgY2xvbmUsZGVsZXRlZDtcclxuICAgICAgICAgICAgaWYgKG51bSB8fCBudW0gPT09IDApIHtcclxuICAgICAgICAgICAgICAgIGN1cnJQb3NpdGlvbiA9IG51bTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGJ1bCkge1xyXG4gICAgICAgICAgICAgICAgY3VyclBvc2l0aW9uKys7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjdXJyUG9zaXRpb24tLTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICBcclxuICAgICAgICAgICAgaWYgKGZhZGUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjdXJyUG9zaXRpb24gPiBpbm5lckNvdW50IC0gc2NyZWVuQ29uc3QpIHtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyUG9zaXRpb24gPSAwO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoY3VyclBvc2l0aW9uIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJQb3NpdGlvbiA9IGlubmVyQ291bnQgLSBzY3JlZW5Db25zdDtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZmFkZVNsaWRlck1vdmUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIGlmICh0cmFtKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY3VyclBvc2l0aW9uID4gaW5uZXJDb3VudCAtIHNjcmVlbkNvbnN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xvbmUgPSAgY29udGFpbmVyLmNoaWxkcmVuKCkuZmlyc3QoKS5jbG9uZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZWQgPSBjb250YWluZXIuY2hpbGRyZW4oKS5maXJzdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGN1cnJTbGlkZXIuaGFzQ2xhc3MoJ2d0LXZpZXctY2FyZHMtc2xpZGVyJykpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmRlc3Ryb3lWaWV3Q2FyZExpc3RlbmVycyhkZWxldGVkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jcmVhdGVWaWV3Q2FyZExpc3RlbmVycyhjbG9uZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lci5jc3MoJ2xlZnQnLCAoLShjdXJyUG9zaXRpb24gLSAyKSAqIGJhc2VXaWR0aCkgKyAncHgnKTtcclxuICAgICAgICAgICAgICAgICAgICBjb250YWluZXIuYXBwZW5kKGNsb25lKTtcclxuICAgICAgICAgICAgICAgICAgICBkZWxldGVkLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJQb3NpdGlvbi0tO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoY3VyclBvc2l0aW9uIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsb25lID0gY29udGFpbmVyLmNoaWxkcmVuKCkubGFzdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZWQgPSBjb250YWluZXIuY2hpbGRyZW4oKS5sYXN0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoY3VyclNsaWRlci5oYXNDbGFzcygnZ3Qtdmlldy1jYXJkcy1zbGlkZXInKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuZGVzdHJveVZpZXdDYXJkTGlzdGVuZXJzKGRlbGV0ZWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNyZWF0ZVZpZXdDYXJkTGlzdGVuZXJzKGNsb25lKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLmNzcygnbGVmdCcsICgtKGN1cnJQb3NpdGlvbiArIDIpICogYmFzZVdpZHRoKSArICdweCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lci5wcmVwZW5kKGNsb25lLmNsb25lKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZWQucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VyclBvc2l0aW9uKys7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJhbVNsaWRlck1vdmUoKTtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0cmFtU2xpZGVyTW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICBcclxuICAgIFxyXG4gICAgXHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICBpZiAobnVtUGFuZWwpIHNob3dOdW0oKTtcclxuICAgICAgICAgICAgaWYgKGRvdHMpIHtcclxuICAgICAgICAgICAgICAgIHZhciBhbGxEb3RzID0gY3VyclNsaWRlci5maW5kKFwiLmd0LXNsaWRlci1uYXYgc3BhblwiKTtcclxuICAgICAgICAgICAgICAgIGFsbERvdHMucmVtb3ZlQ2xhc3MoXCJndC1hY3RpdmVcIik7XHJcbiAgICAgICAgICAgICAgICAkKGFsbERvdHNbY29udGFpbmVyLmZpbmQoJy5ndC1vcGVuJykuYXR0cignZGF0YS1jb3VudCcpXSkuYWRkQ2xhc3MoXCJndC1hY3RpdmVcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICBcclxuICAgIFxyXG4gICAgXHJcbiAgICAgICAgZnVuY3Rpb24gdHJhbVNsaWRlck1vdmUoKSB7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5jaGlsZHJlbigpLnJlbW92ZUNsYXNzKCdndC1vcGVuJyk7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5hbmltYXRlKHtsZWZ0OiAtY3VyclBvc2l0aW9uICogYmFzZVdpZHRofSwgdHJhbUFuaW1hdGlvbik7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5jaGlsZHJlbigpLmVxKGN1cnJQb3NpdGlvbikuYWRkQ2xhc3MoJ2d0LW9wZW4nKTtcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgIFxyXG4gICAgICAgIGZ1bmN0aW9uIGZhZGVTbGlkZXJNb3ZlKHBvc2l0aW9uKSB7XHJcbiAgICAgICAgICAgIHZhciBpbmRleCA9IHBvc2l0aW9uIHx8IGN1cnJQb3NpdGlvbjtcclxuICAgICAgICAgICAgJChpbm5lcikucmVtb3ZlQ2xhc3MoJ2d0LW9wZW4nKTtcclxuICAgICAgICAgICAgJChpbm5lcltpbmRleF0pLmFkZENsYXNzKCdndC1vcGVuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgZnVuY3Rpb24gc2hvd051bSgpIHtcclxuICAgICAgICAgICAgY3VyclNsaWRlci5maW5kKCcuZ3Qtc2xpZGVyLW51bS1jdXJyJykudGV4dCgrKGNvbnRhaW5lci5maW5kKCcuZ3Qtb3BlbicpLmF0dHIoJ2RhdGEtY291bnQnKSkgKyAxKTtcclxuICAgICAgICAgICAgY3VyclNsaWRlci5maW5kKCcuZ3Qtc2xpZGVyLW51bS1tYXgnKS50ZXh0KGlubmVyQ291bnQpO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZVRvdWNoKCkge1xyXG4gICAgICAgICAgICB2YXIgaW5pdGlhbFBvaW50ID0gMCxcclxuICAgICAgICAgICAgICAgIGZpbmFsUG9pbnQgPSAwO1xyXG4gICAgICAgICAgICBjdXJyU2xpZGVyLm9uKFwidG91Y2hzdGFydFwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBlID0gZXZlbnQub3JpZ2luYWxFdmVudDtcclxuICAgICAgICAgICAgICAgIGluaXRpYWxQb2ludCA9IE1hdGguYWJzKGUudG91Y2hlc1swXS5wYWdlWCk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInRvdWNoc3RhcnRcIik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjdXJyU2xpZGVyLm9uKFwidG91Y2hlbmRcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZSA9IGV2ZW50Lm9yaWdpbmFsRXZlbnQ7XHJcbiAgICAgICAgICAgICAgICBmaW5hbFBvaW50ID0gTWF0aC5hYnMoZS5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoTWF0aC5hYnMoaW5pdGlhbFBvaW50IC0gZmluYWxQb2ludCkgPiA1MCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpbml0aWFsUG9pbnQgPiBmaW5hbFBvaW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uZU1vdmVGdW5jdGlvbih0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbmVNb3ZlRnVuY3Rpb24oZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgZnVuY3Rpb24gZGVzdHJveVRvdWNoKGNsb25lKSB7XHJcbiAgICAgICAgICAgIHZhciBlbCA9IGNsb25lIHx8IGN1cnJTbGlkZXI7XHJcbiAgICAgICAgICAgIGVsLm9mZigpO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIGZ1bmN0aW9uIGZpbmRTY3JlZW5Db25zdCgpIHtcclxuICAgICAgICAgICAgaWYgKGN1cnJTbGlkZXIuYXR0cihcImRhdGEtY291bnRcIikpIHtcclxuICAgICAgICAgICAgICAgIHNjcmVlbkNvbnN0ID0gcGFyc2VJbnQoY3VyclNsaWRlci5hdHRyKFwiZGF0YS1jb3VudFwiKSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoJCh0b2tlbjc2OCkuaXMoXCI6dmlzaWJsZVwiKSkgc2NyZWVuQ29uc3QgPSAzO1xyXG4gICAgICAgICAgICAgICAgaWYgKCQodG9rZW42NjcpLmlzKFwiOnZpc2libGVcIikpIHNjcmVlbkNvbnN0ID0gMjtcclxuICAgICAgICAgICAgICAgIGlmICgkKHRva2VuMzYwKS5pcyhcIjp2aXNpYmxlXCIpKSBzY3JlZW5Db25zdCA9IDE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICBmdW5jdGlvbiBzZXRCYXNlV2lkdGgoKSB7XHJcbiAgICAgICAgICAgIGJhc2VXaWR0aCA9IGN1cnJTbGlkZXIub3V0ZXJXaWR0aCgpIC8gc2NyZWVuQ29uc3Q7XHJcbiAgICAgICAgICAgIGN1cnJTbGlkZXIuZmluZChcIi5ndC1zbGlkZXItY29udGFpbmVyXCIpLm91dGVyV2lkdGgoKGlubmVyQ291bnQgKyAxKSAqIGJhc2VXaWR0aCk7XHJcbiAgICAgICAgICAgIGlubmVyLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5vdXRlcldpZHRoKGJhc2VXaWR0aCk7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmF0dHIoJ2RhdGEtY291bnQnLCAkKHRoaXMpLmluZGV4KCkpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICBmdW5jdGlvbiBjcmVhdGVDbG9uZVNsaWRlcihjbGlja1Bvc2l0aW9uKSB7XHJcbiAgICAgICAgICAgIGlmICgkKFwiZGl2XCIpLmlzKFwiI2d0LWNsb25lXCIpKSByZXR1cm47XHJcbiAgICAgICAgICAgIHNlbGYuZml4Qm9keSgpO1xyXG4gICAgICAgICAgICB2YXIgYm9keVdyYXBwZXIgPSAkKFwiI2d0LWJvZHktd3JhcHBlclwiKTtcclxuICAgICAgICAgICAgYm9keVdyYXBwZXIuYXBwZW5kKCc8ZGl2IGlkID0gXCJndC1jbG9uZS13cmFwcGVyXCIgICBjbGFzcz1cImNvbnRhaW5lclwiPjxkaXYgaWQgPSBcImd0LWNsb25lXCIgY2xhc3M9XCJndC1zbGlkZXIgZ3Qtc2xpZGVyLWNsb25lIGd0LXNsaWRlci1mYWRlIGd0LXNsaWRlci1udW0gIGd0LXNsaWRlci1oYXMtYXJyb3dcIj48ZGl2IGlkID0gXCJndC1jbG9uZS1jbG9zZVwiIGNsYXNzID0gXCJndC1zbGlkZXItY2xvbmUtY2xvc2VcIj48L2Rpdj48ZGl2ICBpZCA9IFwiZ3QtY2xvbmUtY29udGFpbmVyXCIgY2xhc3M9XCJndC1zbGlkZXItY29udGFpbmVyXCI+PC9kaXY+PC9kaXY+PC9kaXY+Jyk7XHJcbiAgICAgICAgICAgIGJvZHlXcmFwcGVyLnNob3coKTtcclxuICAgICAgICAgICAgdmFyIGNsb25lU2xpZGVyID0gJCgnI2d0LWNsb25lJyksXHJcbiAgICAgICAgICAgICAgICBpbm5lcnMgPSBjdXJyU2xpZGVyLmZpbmQoXCIuZ3Qtc2xpZGVyLWlubmVyXCIpLmNsb25lKHRydWUpO1xyXG4gICAgICAgICAgICBpbm5lcnMuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLm91dGVyV2lkdGgoJycpO1xyXG4gICAgICAgICAgICAgICAgJCgnI2d0LWNsb25lLWNvbnRhaW5lcicpLmFwcGVuZCgkKHRoaXMpKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHNlbGYuY3JlYXRlU2xpZGVyKGNsb25lU2xpZGVyLCBjbGlja1Bvc2l0aW9uKTtcclxuICAgICAgICAgICAgJChcIiNndC1jbG9uZS1jbG9zZVwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGRlc3Ryb3lDbG9uZVNsaWRlcihjbG9uZVNsaWRlcik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIGZ1bmN0aW9uIGRlc3Ryb3lDbG9uZVNsaWRlcihjbG9uZVNsaWRlcikge1xyXG4gICAgICAgICAgICBkZXN0cm95QXJyb3dzKGNsb25lU2xpZGVyKTtcclxuICAgICAgICAgICAgZGVzdHJveVRvdWNoKGNsb25lU2xpZGVyKTtcclxuICAgICAgICAgICAgJChcIiNndC1jbG9uZS1jbG9zZVwiKS5vZmYoKTtcclxuICAgICAgICAgICAgJChcIiNndC1jbG9uZS13cmFwcGVyXCIpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAkKFwiI2d0LWJvZHktd3JhcHBlclwiKS5oaWRlKCk7XHJcbiAgICAgICAgICAgIHNlbGYudW5maXhCb2R5KCk7XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgLy8vLy8vLy8vL3Jlc2l6ZVNsaWRlclxyXG4gICAgICAgIGZ1bmN0aW9uIHJlc2l6ZVNsaWRlcigpIHtcclxuICAgICAgICAgICAgaWYgKCFzbGlkZXJUaW1lT3V0KSB7XHJcbiAgICAgICAgICAgICAgICBzbGlkZXJUaW1lT3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2xpZGVyVGltZU91dCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzaXplRnVuYygpO1xyXG4gICAgICAgICAgICAgICAgfSwgMTMyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIGRvY1dpbmRvdy5yZXNpemUocmVzaXplU2xpZGVyKTtcclxuICAgIFxyXG4gICAgICAgIGZ1bmN0aW9uIHJlc2l6ZUZ1bmMoKSB7XHJcbiAgICAgICAgICAgIGRlc3Ryb3lUb3VjaCgpO1xyXG4gICAgICAgICAgICBpZiAodHJhbSkge1xyXG4gICAgICAgICAgICAgICAgZmluZFNjcmVlbkNvbnN0KCk7XHJcbiAgICAgICAgICAgICAgICBzZXRCYXNlV2lkdGgoKTtcclxuICAgICAgICAgICAgICAgIHJlc2l6ZU1vdmUoKTtcclxuICAgICAgICAgICAgICAgIHRyYW1TbGlkZXJNb3ZlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGFycm93c1JlYWR5KSB7XHJcbiAgICAgICAgICAgICAgICBkZXN0cm95QXJyb3dzKCk7XHJcbiAgICAgICAgICAgICAgICBjcmVhdGVBcnJvd3MoKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChpbm5lckNvdW50ID4gc2NyZWVuQ29uc3QpIHtcclxuICAgICAgICAgICAgICAgIGNyZWF0ZVRvdWNoKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgXHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgZnVuY3Rpb24gcmVzaXplTW92ZSgpIHtcclxuICAgICAgICAgICAgaWYgKGN1cnJQb3NpdGlvbiA+IGlubmVyQ291bnQgLSBzY3JlZW5Db25zdClcclxuICAgICAgICAgICAgICAgIGN1cnJQb3NpdGlvbiA9IGlubmVyQ291bnQgLSBzY3JlZW5Db25zdDtcclxuICAgICAgICAgICAgaWYgKGlubmVyQ291bnQgPD0gc2NyZWVuQ29uc3QpIGN1cnJQb3NpdGlvbiA9IDA7XHJcbiAgICBcclxuICAgIFxyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgfTtcclxuICAgIGlmICgkKFwiZGl2XCIpLmlzKFwiLmd0LXNsaWRlclwiKSkge1xyXG4gICAgICAgICQoXCIuZ3Qtc2xpZGVyXCIpLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBzZWxmLmNyZWF0ZVNsaWRlcigkKHRoaXMpKTtcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG4gICAgdGhpcy5tYW5hZ2VHdEFjdGl2ZVVsTWVudSA9IGZ1bmN0aW9uIChlbCkge1xyXG4gICAgICAgIGlmIChlbC50YWdOYW1lICE9IFwibGlcIilcclxuICAgICAgICAgICAgZWwgPSAkKGVsKS5jbG9zZXN0KFwibGlcIik7XHJcbiAgICBcclxuICAgICAgICAkKGVsKS5jbG9zZXN0KCQoXCJ1bFwiKSkuZmluZChcImxpXCIpLnJlbW92ZUNsYXNzKFwiZ3QtYWN0aXZlXCIpO1xyXG4gICAgICAgICQoZWwpLmFkZENsYXNzKFwiZ3QtYWN0aXZlXCIpO1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgXHJcbiAgICAvLyBpZiAoJChcIipcIikuaXMoXCIuZ3QtaHVuZHJldC1tZW51XCIpKSB7XHJcbiAgICAvLyAgICAgJChcIi5ndC1odW5kcmV0LW1lbnVcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgIC8vICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIC8vICAgICAgICAgc2VsZi5tYW5hZ2VHdEFjdGl2ZVVsTWVudShldmVudC50YXJnZXQpO1xyXG4gICAgLy8gICAgIH0pO1xyXG4gICAgLy8gfVxyXG4gICAgXHJcbiAgICBcclxuICAgIGlmICgkKFwiKlwiKS5pcyhcIi5ndC1idXR0b24tbWVudVwiKSkge1xyXG4gICAgICAgICQoXCIuZ3QtYnV0dG9uLW1lbnVcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgc2VsZi5tYW5hZ2VHdEFjdGl2ZVVsTWVudShldmVudC50YXJnZXQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAoJChcIipcIikuaXMoXCIuZ3QtbWVudS1uZXdzX2l0ZW1zXCIpKSB7XHJcbiAgICAgICAgJChcIi5ndC1tZW51LW5ld3NfaXRlbXNcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgc2VsZi5tYW5hZ2VHdEFjdGl2ZVVsTWVudShldmVudC50YXJnZXQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuc2V0UGxheWVycyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgdGFnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtcclxuICAgICAgICB0YWcudHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI7XHJcbiAgICAgICAgdGFnLnNyYyA9IFwiaHR0cHM6Ly93d3cueW91dHViZS5jb20vcGxheWVyX2FwaVwiO1xyXG4gICAgICAgIHZhciBsYXN0U2NyaXB0VGFnID0gJChcInNjcmlwdFwiKVskKFwic2NyaXB0XCIpLmxlbmd0aCAtIDFdO1xyXG4gICAgICAgIGxhc3RTY3JpcHRUYWcucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGFnLCBsYXN0U2NyaXB0VGFnKTtcclxuICAgICAgICB2YXIgZ3RWaWRlb3MgPSAkKFwiLmd0LXZpZGVvXCIpO1xyXG4gICAgICAgIGd0VmlkZW9zLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgY3VycmVudFBsYXllciA9ICQodGhpcyk7XHJcbiAgICAgICAgICAgIGN1cnJlbnRQbGF5ZXIuZmluZChcIi5ndC12aWRlby1zd2l0Y2hcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKFwiZ3Qtb3BlblwiKTtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRQbGF5ZXIuYWRkQ2xhc3MoXCJndC1vcGVuXCIpO1xyXG4gICAgICAgICAgICAgICAgc2VsZi5hZGRZb3VUdWJlKGN1cnJlbnRQbGF5ZXIpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBcclxuICAgIHRoaXMuYWRkWW91VHViZSA9IGZ1bmN0aW9uIChlbCkge1xyXG4gICAgICAgIHZhciBwbGF5ZXIsXHJcbiAgICAgICAgICAgIGVsSWQgPSBcImd0LXZpZGVvLVwiICsgZWwuaW5kZXgoKTtcclxuICAgIFxyXG4gICAgICAgIGVsLmZpbmQoXCIuZ3QtdmlkZW8tc3dpdGNoXCIpLmhpZGUoJ3Nsb3cnKTtcclxuICAgIFxyXG4gICAgICAgIGVsXHJcbiAgICAgICAgICAgIC5maW5kKFwiLmd0LXZpZGVvLWlubmVyXCIpXHJcbiAgICAgICAgICAgIC5hdHRyKFwiaWRcIiwgZWxJZClcclxuICAgICAgICAgICAgLmFkZENsYXNzKFwiZ3QtdmlkZW8tZm9yZWdyb3VuZFwiKTtcclxuICAgIFxyXG4gICAgICAgIGZ1bmN0aW9uIG9uWW91VHViZUlmcmFtZUFQSVJlYWR5KCkge1xyXG4gICAgICAgICAgICBwbGF5ZXIgPSBuZXcgWVQuUGxheWVyKGVsSWQsIHtcclxuICAgICAgICAgICAgICAgIHdpZHRoOiA2MDAsXHJcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDQwMCxcclxuICAgICAgICAgICAgICAgIHZpZGVvSWQ6IGVsLmF0dHIoXCJkYXRhLXlvdXR1YmVcIiksXHJcbiAgICAgICAgICAgICAgICBwbGF5ZXJWYXJzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGxheWxpc3Q6IGVsLmF0dHIoXCJkYXRhLXlvdXR1YmVcIiksXHJcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IFwid2hpdGVcIixcclxuICAgICAgICAgICAgICAgICAgICBsb29wOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgIGF1dG9wbGF5OiAxXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZGlzYWJsZWtiOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnRyb2xzOiAwXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZXZlbnRzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgb25SZWFkeTogaW5pdGlhbGl6ZVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICBvbllvdVR1YmVJZnJhbWVBUElSZWFkeSgpO1xyXG4gICAgXHJcbiAgICAgICAgZnVuY3Rpb24gaW5pdGlhbGl6ZSgpIHtcclxuICAgICAgICAgICAgcGxheWVyLm11dGUoKTtcclxuICAgICAgICAgICAgcGxheWVyLnBsYXlWaWRlbygpO1xyXG4gICAgICAgICAgICBlbC5hZGRDbGFzcyhcImd0LXZpZGVvLW9uXCIpO1xyXG4gICAgICAgICAgICBlbC5maW5kKFwiLmd0LXZpZGVvLXVuY292ZXJcIikub24oJ2NsaWNrJywgcGxheUZ1bGxTY3JlZW4pO1xyXG4gICAgICAgICAgICBlbC5maW5kKFwiLmd0LXZpZGVvLXBhdXNlXCIpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHBsYXllci5wYXVzZVZpZGVvKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBlbC5maW5kKFwiLmd0LXZpZGVvLXBsYXlcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXIucGxheVZpZGVvKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIGZ1bmN0aW9uIHBsYXlGdWxsU2NyZWVuKCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygncGxheUZ1bGxTY3JlZW4nKTtcclxuICAgICAgICAgICAgdmFyIGlmcmFtZSA9IGVsLmZpbmQoJ2lmcmFtZScpWzBdO1xyXG4gICAgICAgICAgICB2YXIgcmVxdWVzdEZ1bGxTY3JlZW4gPSBpZnJhbWUucmVxdWVzdEZ1bGxTY3JlZW4gfHwgaWZyYW1lLm1velJlcXVlc3RGdWxsU2NyZWVuIHx8IGlmcmFtZS53ZWJraXRSZXF1ZXN0RnVsbFNjcmVlbjtcclxuICAgICAgICAgICAgaWYgKHJlcXVlc3RGdWxsU2NyZWVuKSB7XHJcbiAgICAgICAgICAgICAgICByZXF1ZXN0RnVsbFNjcmVlbi5iaW5kKGlmcmFtZSkoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgXHJcbiAgICBcclxuICAgIFxyXG4gICAgXHJcbiAgICBcclxuICAgIFxyXG4gICAgXHJcbiAgICBcclxuICAgIFxyXG4gICAgXHJcbiAgICBcclxuICAgIFxyXG4gICAgXHJcbiAgICBcclxuICAgIFxyXG4gICAgXHJcbiAgICBcclxuICAgIFxyXG4gICAgXHJcbiAgICBcclxuICAgIFxyXG4gICAgXHJcbiAgICBcclxuICAgIGlmICgkKFwiZGl2XCIpLmlzKFwiLmd0LXZpZGVvXCIpKSB7XHJcbiAgICAgICAgc2VsZi5zZXRQbGF5ZXJzKCk7XHJcbiAgICB9XHJcbiAgICAvLyB0b2RvINC10YHQu9C4INC/0YDQsNCy0YvQuSDQsdC70L7QuiDQstGL0YjQtSDQv9GA0LDQstC+0LPQviByZXR1cm5cclxuICAgIFxyXG4gICAgXHJcbiAgICB0aGlzLmZpeEFydGljbGVTY3JvbGxUYWJsZVBvc2l0aW9uID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciB0YWJsZSA9ICQoXCIuZ3QtYXJ0aWNsZS10YWJsZS13cmFwcGVyXCIpLFxyXG4gICAgICAgICAgICB0YWJsZVBhcmVudCA9IHRhYmxlLnBhcmVudCgpLFxyXG4gICAgICAgICAgICB0YWJsZUhlaWdodCA9IHRhYmxlLm91dGVySGVpZ2h0KCksXHJcbiAgICAgICAgICAgIHRhYmxlUGFyZW50VG9wID0gdGFibGVQYXJlbnQucG9zaXRpb24oKS50b3AsXHJcbiAgICAgICAgICAgIHRhYmxlUGFyZW50Qm90dG9tID0gdGFibGVQYXJlbnRUb3AgKyB0YWJsZVBhcmVudC5vdXRlckhlaWdodCgpLFxyXG4gICAgICAgICAgICB0YWJsZVdpZHRoID0gdGFibGUub3V0ZXJXaWR0aCgpLFxyXG4gICAgICAgICAgICB3aW5kb3dUb3AgPSBkb2Muc2Nyb2xsVG9wKCk7XHJcbiAgICBcclxuICAgICAgICBpZiAodGFibGVQYXJlbnRUb3AgKyA5MCA+IHdpbmRvd1RvcCkge1xyXG4gICAgICAgICAgICBpZiAodGFibGUuaGFzQ2xhc3MoXCJndC1maXhlZFwiKSkge1xyXG4gICAgICAgICAgICAgICAgdGFibGUucmVtb3ZlQ2xhc3MoXCJndC1maXhlZFwiKTtcclxuICAgICAgICAgICAgICAgIHRhYmxlLmNzcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgbGVmdDogXCJcIixcclxuICAgICAgICAgICAgICAgICAgICB3aWR0aDogXCJcIlxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICBpZiAodGFibGVQYXJlbnRUb3AgPCB3aW5kb3dUb3AgKyA5MCkge1xyXG4gICAgICAgICAgICBpZiAoIXRhYmxlLmhhc0NsYXNzKFwiZ3QtZml4ZWRcIikpIHtcclxuICAgICAgICAgICAgICAgIHRhYmxlLmNzcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgbGVmdDogdGFibGUub2Zmc2V0KCkubGVmdCArIFwicHhcIixcclxuICAgICAgICAgICAgICAgICAgICB3aWR0aDogdGFibGVXaWR0aFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB0YWJsZS5hZGRDbGFzcyhcImd0LWZpeGVkXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh3aW5kb3dUb3AgLSB0YWJsZVBhcmVudEJvdHRvbSArIHRhYmxlSGVpZ2h0ICsgOTAgPj0gMCkge1xyXG4gICAgICAgICAgICAgICAgdGFibGUuYWRkQ2xhc3MoXCJndC1maXhlZC1ib3R0b21cIik7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0YWJsZS5yZW1vdmVDbGFzcyhcImd0LWZpeGVkLWJvdHRvbVwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgXHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICBcclxuICAgIHRoaXMuY3JlYXRlQXJ0aWN0ZVNjcm9sbFRhYmxlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICghJChcImRpdlwiKS5pcyhcIi5ndC1hcnRpY2xlXCIpKSByZXR1cm47XHJcbiAgICBcclxuICAgICAgICB2YXIgYXJ0aWNsZXMgPSAkKFwiLmd0LWFydGljbGVcIiksXHJcbiAgICAgICAgICAgIHRhYmxlID0gJChcIiNndC1hcnRpY2xlLXNjcm9sbC10YWJsZVwiKSxcclxuICAgICAgICAgICAgaHRtbCA9IFwiXCI7XHJcbiAgICAgICAgYXJ0aWNsZXMuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGh0bWwgKz0gJzxkaXYgY2xhc3MgPSBcImd0LWFydGljbGUtc2Nyb2xsXCIgICBkYXRhLWhyZWY9IFwiJyArICQodGhpcykuYXR0cihcImlkXCIpICsgJ1wiID48ZGl2IGNsYXNzID0gXCJndC1hcnRpY2xlLXNjcm9sbC1zaGFkb3dcIj48L2Rpdj48cD4nICtcclxuICAgICAgICAgICAgICAgICQodGhpcykuZmluZChcImgyXCIpLnRleHQoKSArXHJcbiAgICAgICAgICAgICAgICBcIjwvcD48L2Rpdj5cIjtcclxuICAgIFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRhYmxlLmh0bWwoaHRtbCk7XHJcbiAgICAgICAgdGFibGUuZmluZCgnLmd0LWFydGljbGUtc2Nyb2xsJykuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICQodGhpcykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICBzZWxmLnNjcm9sbFRvQXJ0aWNsZSgkKHRoaXMpLmF0dHIoJ2RhdGEtaHJlZicpKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICBcclxuICAgIFxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgdGhpcy5zY3JvbGxUb0FydGljbGUgPSBmdW5jdGlvbiAoYXR0cikge1xyXG4gICAgICAgICQoJ2h0bWwnKS5hbmltYXRlKHtzY3JvbGxUb3A6ICQoJyMnICsgYXR0cikub2Zmc2V0KCkudG9wIC0xMTB9LCAxMTAwKTtcclxuICAgIFxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgXHJcbiAgICB0aGlzLnNob3dBcnRpZGxlU2hhZG93ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICQoXCIuZ3QtYXJ0aWNsZVwiKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGN1cnJQb3NpdGlvbiA9ICQodGhpcykucG9zaXRpb24oKS50b3AsXHJcbiAgICAgICAgICAgICAgICBlbEhlaWdodCA9ICQodGhpcykub3V0ZXJIZWlnaHQoKSxcclxuICAgICAgICAgICAgICAgIHdpbmRvd1Bvc2l0aW9uID0gJChkb2N1bWVudCkuc2Nyb2xsVG9wKCksXHJcbiAgICAgICAgICAgICAgICB4ID0gMDtcclxuICAgICAgICAgICAgaWYgKGN1cnJQb3NpdGlvbiA+IHdpbmRvd1Bvc2l0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICB4ID0gMDtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHggPSAod2luZG93UG9zaXRpb24gLSBjdXJyUG9zaXRpb24pIC8gZWxIZWlnaHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHggPiAxKSB4ID0gMTtcclxuICAgICAgICAgICAgdmFyIGN1cnJTaGFkb3cgPSAkKFwiLmd0LWFydGljbGUtc2Nyb2xsXCIpWyQodGhpcykuaW5kZXgoKV07XHJcbiAgICAgICAgICAgICQoY3VyclNoYWRvdylcclxuICAgICAgICAgICAgICAgIC5maW5kKFwiLmd0LWFydGljbGUtc2Nyb2xsLXNoYWRvd1wiKVxyXG4gICAgICAgICAgICAgICAgLmNzcyhcIndpZHRoXCIsIHggKiAxMDAgKyBcIiVcIik7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICBcclxuICAgIGlmICgkKCdkaXYnKS5pcygnLmd0LWFydGljbGUtdGFibGUtd3JhcHBlcicpKSB7XHJcbiAgICAgICAgdmFyIHNoYWRvdyA9IGZhbHNlLFxyXG4gICAgICAgICAgICBzY3JvbGxUaW1lb3V0O1xyXG4gICAgICAgIGlmICgkKCdkaXYnKS5pcyhcIi5ndC1hcnRpY2xlLXNjcm9sbC10YWJsZVwiKSkge1xyXG4gICAgICAgICAgICBzaGFkb3cgPSB0cnVlO1xyXG4gICAgICAgICAgICBzZWxmLmNyZWF0ZUFydGljdGVTY3JvbGxUYWJsZSgpO1xyXG4gICAgICAgICAgICBzZWxmLnNob3dBcnRpZGxlU2hhZG93KCk7XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICBcclxuICAgICAgICBmdW5jdGlvbiBzY3JvbGxUaHJvdHRsZXIoKSB7XHJcbiAgICAgICAgICAgIGlmICghc2Nyb2xsVGltZW91dCkge1xyXG4gICAgICAgICAgICAgICAgc2Nyb2xsVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbFRpbWVvdXQgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuZml4QXJ0aWNsZVNjcm9sbFRhYmxlUG9zaXRpb24oKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc2hhZG93KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuc2hvd0FydGlkbGVTaGFkb3coKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgZG9jV2luZG93LnNjcm9sbChzY3JvbGxUaHJvdHRsZXIpO1xyXG4gICAgICAgIGRvY1dpbmRvdy5yZXNpemUoc2Nyb2xsVGhyb3R0bGVyKTtcclxuICAgIH1cclxuICAgIHRoaXMuc2V0Q3VyclRpbWUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgc2VsZi5jdXJyVGltZSgpO1xyXG4gICAgICAgIHZhciB0ID0gc2V0SW50ZXJ2YWwoc2VsZi5jdXJyVGltZSwgMzAwMDApO1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgXHJcbiAgICBcclxuICAgIHRoaXMuY3VyclRpbWUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJChcIi5ndC1jdXJyLXRpbWVcIikuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBkYXRlID0gbmV3IERhdGUoKTtcclxuICAgICAgICAgICAgaWYgKCQodGhpcykuYXR0cihcImRhdGEtZ210XCIpKSBkYXRlLnNldFVUQ0hvdXJzKCskKHRoaXMpLmF0dHIoXCJkYXRhLWdtdFwiKSk7XHJcbiAgICAgICAgICAgIHZhciBob3VycyA9IGRhdGUuZ2V0SG91cnMoKSxcclxuICAgICAgICAgICAgICAgIG1pbnV0ZXMgPSBkYXRlLmdldE1pbnV0ZXMoKSxcclxuICAgICAgICAgICAgICAgIHdlZWtkYXkgPSBkYXRlLmdldERheSgpLFxyXG4gICAgICAgICAgICAgICAgZGF5ID0gZGF0ZS5nZXREYXRlKCksXHJcbiAgICAgICAgICAgICAgICBtb250aCA9IGRhdGUuZ2V0TW9udGgoKSxcclxuICAgICAgICAgICAgICAgIHllYXIgPSBkYXRlLmdldEZ1bGxZZWFyKCksXHJcbiAgICAgICAgICAgICAgICB3ZWVrZGF5cyA9IFtcclxuICAgICAgICAgICAgICAgICAgICBcItCS0L7RgdC60YDQtdGB0LXQvdGM0LVcIixcclxuICAgICAgICAgICAgICAgICAgICBcItCf0L7QvdC10LTQtdC70YzQvdC40LpcIixcclxuICAgICAgICAgICAgICAgICAgICBcItCS0YLQvtGA0L3QuNC6XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCLQodGA0LXQtNCwXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCLQp9C10YLQstC10YDQs1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwi0J/Rj9GC0L3QuNGG0LBcIixcclxuICAgICAgICAgICAgICAgICAgICBcItCh0YPQsdCx0L7RgtCwXCJcclxuICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgICAgICBtb250aGVzID0gW1xyXG4gICAgICAgICAgICAgICAgICAgIFwi0Y/QvdCy0LDRgNGPXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCLRhNC10LLRgNCw0LvRj1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwi0LzQsNGA0YLQsFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwi0LDQv9GA0LXQu9GPXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCLQvNCw0Y9cIixcclxuICAgICAgICAgICAgICAgICAgICBcItC40Y7QvdGPXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCLQuNGO0LvRj1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwi0LDQstCz0YPRgdGC0LBcIixcclxuICAgICAgICAgICAgICAgICAgICBcItGB0LXQvdGC0Y/QsdGA0Y9cIixcclxuICAgICAgICAgICAgICAgICAgICBcItC+0LrRgtGP0LHRgNGPXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCLQvdC+0Y/QsdGA0Y9cIixcclxuICAgICAgICAgICAgICAgICAgICBcItC00LXQutCw0LHRgNGPXCJcclxuICAgICAgICAgICAgICAgIF07XHJcbiAgICAgICAgICAgIGlmIChob3VycyA8IDEwKSBob3VycyA9IFwiMFwiICsgaG91cnM7XHJcbiAgICAgICAgICAgIGlmIChtaW51dGVzIDwgMTApIG1pbnV0ZXMgPSBcIjBcIiArIG1pbnV0ZXM7XHJcbiAgICAgICAgICAgIHdlZWtkYXkgPSB3ZWVrZGF5c1t3ZWVrZGF5XTtcclxuICAgICAgICAgICAgbW9udGggPSBtb250aGVzW21vbnRoXTtcclxuICAgICAgICAgICAgaWYgKCQoXCIuZ3QtY3Vyci10aW1lLXRpbWVcIikpXHJcbiAgICAgICAgICAgICAgICAkKFwiLmd0LWN1cnItdGltZS10aW1lXCIpLmh0bWwoaG91cnMgKyBcIjpcIiArIG1pbnV0ZXMpO1xyXG4gICAgICAgICAgICBpZiAoJChcIi5ndC1jdXJyLXRpbWUtZGF0ZVwiKSlcclxuICAgICAgICAgICAgICAgICQoXCIuZ3QtY3Vyci10aW1lLWRhdGVcIikuaHRtbChcclxuICAgICAgICAgICAgICAgICAgICB3ZWVrZGF5ICsgXCIsIFwiICsgZGF5ICsgXCIgXCIgKyBtb250aCArIFwiIFwiICsgeWVhclxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBcclxuICAgIFxyXG4gICAgaWYgKCQoXCJkaXZcIikuaXMoXCIuZ3QtY3Vyci10aW1lXCIpKSB7XHJcbiAgICAgICAgc2VsZi5zZXRDdXJyVGltZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICgkKFwiZGl2XCIpLmlzKFwiLmd0LWlubmVyLXNjcm9sbFwiKSkge1xyXG4gICAgICAgICQoJy5ndC1pbm5lci1zY3JvbGwnKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgIFxyXG4gICAgICAgICAgICAkKHRoaXMpLm5pY2VTY3JvbGwoe1xyXG4gICAgICAgICAgICAgICAgY3Vyc29yb3BhY2l0eW1pbjogJzEnLFxyXG4gICAgICAgICAgICAgICAgY3Vyc29yb3BhY2l0eW1heDogJzEnLFxyXG4gICAgICAgICAgICAgICAgY3Vyc29yd2lkdGg6ICcycHgnLFxyXG4gICAgICAgICAgICAgICAgY3Vyc29yYm9yZGVyOiAnbm9uZScsXHJcbiAgICAgICAgICAgICAgICBtb3VzZXNjcm9sbHN0ZXA6ICc2MCcsXHJcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBcIiNDRUNFQ0VcIixcclxuICAgICAgICAgICAgICAgIHJhaWxvZmZzZXQ6ICdsZWZ0JyxcclxuICAgICAgICAgICAgICAgIHppbmRleDogXCJhdXRvXCIsXHJcbiAgICAgICAgICAgICAgICBjdXJzb3Jjb2xvcjogXCIjQ0VDRUNFXCJcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuICAgIC8vIF9pbm5lcl9zY3JvbGwgIG11c3QgYmUgYmVmb3JlIF90YWJfc2xpZGVyIC0gIWltcG9ydGFudFxyXG5cclxuICAgIHRoaXMudGFiU2xpZGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciB0YWJTbGlkZXJzID0gJChcIi5ndC10YWJzXCIpO1xyXG4gICAgICAgIHRhYlNsaWRlcnMuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBjdXJyVGFicyA9ICQodGhpcyk7XHJcbiAgICAgICAgICAgIGN1cnJUYWJzLmZpbmQoXCIuZ3QtdGFicy1idXR0b25cIikuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYudGFiU2xpZGVyQWN0aW9uKGN1cnJUYWJzLCAkKHRoaXMpLmluZGV4KCkpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBzZWxmLnRhYlNsaWRlckFjdGlvbihjdXJyVGFicywwLHRydWUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgdGhpcy50YWJTbGlkZXJBY3Rpb24gPSBmdW5jdGlvbiAoZWwsIG51bSAsaW5pdCkge1xyXG4gICAgICAgIHZhciBidXR0b25zID0gJChlbC5maW5kKFwiLmd0LXRhYnMtYnV0dG9uXCIpKSxcclxuICAgICAgICAgICAgbWFpbiA9ICAkKGVsLmZpbmQoXCIuZ3QtdGFicy1tYWluXCIpKVxyXG4gICAgICAgIGVsLmZpbmQoJy5ndC1pbm5lci1zY3JvbGwtdGFiJykuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICQoJyMnICsgJCh0aGlzKS5hdHRyKCdkYXRhLXNjcm9sbCcpKS5oaWRlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgYnV0dG9ucy5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgICBtYWluLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICQoYnV0dG9uc1tudW1dKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgICAkKG1haW5bbnVtXSkuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICBcclxuICAgICAgICBpZigkKCcjJyArICQobWFpbltudW1dKS5maW5kKCcuZ3QtaW5uZXItc2Nyb2xsLXRhYicpLmF0dHIoJ2RhdGEtc2Nyb2xsJykpLmZpbmQoJy5ndC1zY3JvbGwtY3Vyc29yJykuaGVpZ2h0KCkgIT0gMCB8fCBpbml0KXtcclxuICAgICAgICAgICAgJCgnIycgKyAkKG1haW5bbnVtXSkuZmluZCgnLmd0LWlubmVyLXNjcm9sbC10YWInKS5hdHRyKCdkYXRhLXNjcm9sbCcpKS5zaG93KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgaWYgKCQoXCJkaXZcIikuaXMoXCIuZ3QtdGFic1wiKSkge1xyXG4gICAgICAgIHNlbGYudGFiU2xpZGVyKCk7XHJcbiAgICB9XHJcblxyXG5cclxuXHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vL2RvZXMgbm90IHdvcmtcclxuXHJcbiAgICB0aGlzLmNyZWF0ZVZpZXdDYXJkTGlzdGVuZXJzID0gZnVuY3Rpb24gKGVsKSB7XHJcbiAgICAgICAgZWwuZmluZCgnLmd0LXZpZXctY2FyZHMtaWNvbnMtdmlzaXQnKS5vbignY2xpY2snLGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICBzZWxmLmNsb3NlU2hhcmVWaWV3Q2FyZChlbCk7XHJcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICBzZWxmLmNsaWNrVmlzaXRWaWV3Q2FyZChlbCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgZWwuZmluZCgnLmd0LXZpZXctY2FyZHMtaWNvbnMtcGluLXBsdXMnKS5vbignY2xpY2snLGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICBzZWxmLmNsb3NlU2hhcmVWaWV3Q2FyZChlbCk7XHJcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICBzZWxmLmNsaWNrU2VlblZpZXdDYXJkKGVsKTtcclxuICAgIFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGVsLmZpbmQoJy5ndC12aWV3LWNhcmRzLWljb25zLWJvb2ttYXJrcycpLm9uKCdjbGljaycsZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIHNlbGYuY2xvc2VTaGFyZVZpZXdDYXJkKGVsKTtcclxuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgIHNlbGYuY2xpY2tNYXJrVmlld0NhcmQoZWwpO1xyXG4gICAgXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgZWwuZmluZCgnLmd0LXZpZXctY2FyZHMtaWNvbnMtc2hhcmUnKS5vbignY2xpY2snLGZ1bmN0aW9uIChldmVudGcpIHtcclxuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgIHNlbGYuY2xpY2tTaGFyZVZpZXdDYXJkKGVsKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBlbC5maW5kKCcuZ3Qtdmlldy1jYXJkcy1pY29ucy1zaGFyZScpLmZpbmQoJ2EnKS5vbignY2xpY2snLGZ1bmN0aW9uIChldmVudCxlbCkge1xyXG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgXHJcbiAgICAgICAgICAgIHNlbGYudmlld0NhcmRTb2NpYWwoZWwpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGVsLm9uKCdjbGljayAgbW91c2VsZWF2ZScsZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAkKGVsKS5maW5kKCcuZ3Qtdmlldy1jYXJkcy1pY29ucy1zaGFyZScpLnBhcmVudCgpLnJlbW92ZUNsYXNzKCdndC1hY3RpdmUnKTtcclxuICAgICAgICAgICAgc2VsZi5jbG9zZVNoYXJlVmlld0NhcmQoZWwpO1xyXG4gICAgXHJcbiAgICAgICAgfSlcclxuICAgIH07XHJcbiAgICBcclxuICAgIHRoaXMuZGVzdHJveVZpZXdDYXJkTGlzdGVuZXJzID0gZnVuY3Rpb24gKGVsKSB7XHJcbiAgICAgICAgZWwuZmluZCgnLmd0LXZpZXctY2FyZHMtaWNvbnMtdmlzaXQnKS5vZmYoKTtcclxuICAgICAgICBlbC5maW5kKCcuZ3Qtdmlldy1jYXJkcy1pY29ucy1waW4tcGx1cycpLm9mZigpO1xyXG4gICAgICAgIGVsLmZpbmQoJy5ndC12aWV3LWNhcmRzLWljb25zLWJvb2ttYXJrcycpLm9mZigpO1xyXG4gICAgICAgIGVsLmZpbmQoJy5ndC12aWV3LWNhcmRzLWljb25zLXNoYXJlJykub2ZmKCk7XHJcbiAgICAgICAgZWwuZmluZCgnLmd0LXZpZXctY2FyZHMtaWNvbnMtc2hhcmUnKS5maW5kKCdhJykub2ZmKCk7XHJcbiAgICAgICAgZWwub2ZmKCk7XHJcbiAgICBcclxuICAgIH07XHJcbiAgICBcclxuICAgIFxyXG4gICAgdGhpcy52aWV3Q2FyZFNvY2lhbCA9IGZ1bmN0aW9uIChlbCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdjbGljayBzb2NpYWwnKTtcclxuICAgICAgICBzZWxmLmNsb3NlU2hhcmVWaWV3Q2FyZChlbCk7XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICBcclxuICAgIFxyXG4gICAgdGhpcy5vcGVuU2hhcmVWaWV3Q2FyZCA9IGZ1bmN0aW9uIChlbCkge1xyXG4gICAgICAgICQoZWwpLmFkZENsYXNzKCdndC1hY3RpdmUnKTtcclxuICAgIH07XHJcbiAgICB0aGlzLmNsb3NlU2hhcmVWaWV3Q2FyZCA9IGZ1bmN0aW9uIChlbCkge1xyXG4gICAgICAgICQoZWwpLnJlbW92ZUNsYXNzKCdndC1hY3RpdmUnKTtcclxuICAgIFxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgXHJcbiAgICB0aGlzLmNsaWNrU2hhcmVWaWV3Q2FyZCA9IGZ1bmN0aW9uIChlbCkge1xyXG4gICAgXHJcbiAgICAgICAgdmFyIGJ1dHRvbiA9IGVsLmZpbmQoJy5ndC12aWV3LWNhcmRzLWljb25zLXNoYXJlJykucGFyZW50KCk7XHJcbiAgICAgICAgaWYoYnV0dG9uLmhhc0NsYXNzKCdndC1hY3RpdmUnKSl7XHJcbiAgICAgICAgICAgIGJ1dHRvbi5yZW1vdmVDbGFzcygnZ3QtYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIHNlbGYuY2xvc2VTaGFyZVZpZXdDYXJkKGVsKTtcclxuICAgIFxyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICBidXR0b24uYWRkQ2xhc3MoJ2d0LWFjdGl2ZScpO1xyXG4gICAgICAgICAgICBzZWxmLm9wZW5TaGFyZVZpZXdDYXJkKGVsKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgdGhpcy5jbGlja1Zpc2l0Vmlld0NhcmQgPSBmdW5jdGlvbiAoZWwpIHtcclxuICAgICAgICBpZihlbC5oYXNDbGFzcygnZ3QtYWN0aXZlJykpIHJldHVybjtcclxuICAgICAgICB2YXIgYnV0dG9uID0gZWwuZmluZCgnLmd0LXZpZXctY2FyZHMtaWNvbnMtdmlzaXQnKS5wYXJlbnQoKTtcclxuICAgICAgICBpZihidXR0b24uaGFzQ2xhc3MoJ2d0LWFjdGl2ZScpKXtcclxuICAgICAgICAgICAgYnV0dG9uLnJlbW92ZUNsYXNzKCdndC1hY3RpdmUnKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ2NsaWNrIG5vdCB2aXNpdGVkIG5vdycpO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICBidXR0b24uYWRkQ2xhc3MoJ2d0LWFjdGl2ZScpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnY2xpY2sgdmlzaXQnKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICB0aGlzLmNsaWNrU2VlblZpZXdDYXJkID0gZnVuY3Rpb24gKGVsKSB7XHJcbiAgICAgICAgaWYoZWwuaGFzQ2xhc3MoJ2d0LWFjdGl2ZScpKSByZXR1cm47XHJcbiAgICAgICAgdmFyIGJ1dHRvbiA9IGVsLmZpbmQoJy5ndC12aWV3LWNhcmRzLWljb25zLXBpbi1wbHVzJykucGFyZW50KCk7XHJcbiAgICAgICAgaWYoYnV0dG9uLmhhc0NsYXNzKCdndC1hY3RpdmUnKSl7XHJcbiAgICAgICAgICAgIGJ1dHRvbi5yZW1vdmVDbGFzcygnZ3QtYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjbGljayBub3Qgc2VlbiBub3cnKTtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgYnV0dG9uLmFkZENsYXNzKCdndC1hY3RpdmUnKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ2NsaWNrIHNlZW4nKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgdGhpcy5jbGlja01hcmtWaWV3Q2FyZCA9IGZ1bmN0aW9uIChlbCkge1xyXG4gICAgICAgIGlmKGVsLmhhc0NsYXNzKCdndC1hY3RpdmUnKSkgcmV0dXJuO1xyXG4gICAgICAgIHZhciBidXR0b24gPSBlbC5maW5kKCcuZ3Qtdmlldy1jYXJkcy1pY29ucy1ib29rbWFya3MnKS5wYXJlbnQoKTtcclxuICAgICAgICBpZihidXR0b24uaGFzQ2xhc3MoJ2d0LWFjdGl2ZScpKXtcclxuICAgICAgICAgICAgYnV0dG9uLnJlbW92ZUNsYXNzKCdndC1hY3RpdmUnKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ2NsaWNrIGRlbGV0ZSBib29rbWFyaycpO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICBidXR0b24uYWRkQ2xhc3MoJ2d0LWFjdGl2ZScpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnY2xpY2sgYWRkIGJvb2ttYXJrJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgXHJcbiAgICBcclxuICAgIFxyXG4gICAgaWYgKCQoXCIqXCIpLmlzKFwiLmd0LXZpZXctY2FyZHMtaW5uZXJcIikpIHtcclxuICAgIFxyXG4gICAgICAgICQoJy5ndC12aWV3LWNhcmRzLWlubmVyJykuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHNlbGYuY3JlYXRlVmlld0NhcmRMaXN0ZW5lcnMoJCh0aGlzKSk7XHJcbiAgICAgICAgfSlcclxuICAgIFxyXG4gICAgXHJcbiAgICB9XHJcbiAgICAvLyDQv9GA0L7QstC10YDQutCwINC90LAg0L3QsNC70LjRh9C40LUgLSDQvtCx0YHRg9C00LjRgtGMINGBINCx0LXQutC+0Lwg0L/QvtCy0LXQtNC10LPRgtC1XHJcbiAgICBcclxuICAgIFxyXG4gICAgXHJcbiAgICAkKCcjZ3QtZW50ZXItZm9ybS1mYWNlYm9vaycpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBzZWxmLnNvY2lhbEVudGVyKCdmYWNlYm9vaycpXHJcbiAgICB9KTtcclxuICAgICQoJyNndC1lbnRlci1mb3JtLXR3aXR0ZXInKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgc2VsZi5zb2NpYWxFbnRlcigndHdpdHRlcicpXHJcbiAgICB9KTtcclxuICAgICQoJyNndC1lbnRlci1mb3JtLWdvb2dsZScpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBzZWxmLnNvY2lhbEVudGVyKCdnb29nbGUnKVxyXG4gICAgfSk7XHJcbiAgICBcclxuICAgICQoJyNndC1yZWctZm9ybS1mYWNlYm9vaycpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBzZWxmLnNvY2lhbFJlZ2lzdHJhdGlvbignZmFjZWJvb2snKVxyXG4gICAgfSk7XHJcbiAgICAkKCcjZ3QtcmVnLWZvcm0tdHdpdHRlcicpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBzZWxmLnNvY2lhbFJlZ2lzdHJhdGlvbigndHdpdHRlcicpXHJcbiAgICB9KTtcclxuICAgICQoJyNndC1yZWctZm9ybS1nb29nbGUnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgc2VsZi5zb2NpYWxSZWdpc3RyYXRpb24oJ2dvb2dsZScpXHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgdGhpcy5zb2NpYWxSZWdpc3RyYXRpb24gPSBmdW5jdGlvbiAodG9rZW4pIHtcclxuICAgIFxyXG4gICAgICAgIGFsZXJ0KFwi0KDQtdCz0LjRgdGC0YDQsNGG0LjRjyDRh9C10YDQtdC3IFwiICsgdG9rZW4pXHJcbiAgICBcclxuICAgIH07XHJcbiAgICB0aGlzLnNvY2lhbEVudGVyID0gZnVuY3Rpb24gKHRva2VuKSB7XHJcbiAgICBcclxuICAgICAgICBhbGVydChcItCS0YXQvtC0INGH0LXRgNC10LcgXCIgKyB0b2tlbilcclxuICAgIFxyXG4gICAgfTtcclxuICAgdGhpcy5jdXROZXdzID0gZnVuY3Rpb24gKGVsKSB7XHJcbiAgICAgICB2YXIgcGFyZW50ID0gZWwucGFyZW50KCksXHJcbiAgICAgICAgICAgbWF4SGVpZ2h0ID0gcGFyZW50LmhlaWdodCgpLFxyXG4gICAgICAgICAgIGN1dHRpbmdFbCA9IGVsLmZpbmQoJ3AnKSxcclxuICAgICAgICAgICBjdXJySGVpZ2h0LFxyXG4gICAgICAgICAgIGN1dHRpbmdMZW5naHQsXHJcbiAgICAgICAgICAgbmV3VGV4dDtcclxuICAgICAgIHBhcmVudC5jaGlsZHJlbigpLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgIG1heEhlaWdodCAtPSAkKHRoaXMpLm91dGVySGVpZ2h0KHRydWUpO1xyXG4gICAgICAgfSk7XHJcbiAgIFxyXG4gICAgICAgbWF4SGVpZ2h0ID0gbWF4SGVpZ2h0ICsgZWwuaGVpZ2h0KCkgLSAyMDtcclxuICAgXHJcbiAgIFxyXG4gICAgICAgY3V0dGluZ0VsLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgIGN1cnJIZWlnaHQgPSAkKHRoaXMpLm91dGVySGVpZ2h0KHRydWUpO1xyXG4gICBcclxuICAgICAgICAgICBpZiAoY3VyckhlaWdodCA8IG1heEhlaWdodCkge1xyXG4gICAgICAgICAgICAgICBtYXhIZWlnaHQgLT0gY3VyckhlaWdodFxyXG4gICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgIGlmICghbWF4SGVpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmNzcygnZGlzcGxheScsICdub25lJyk7XHJcbiAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICBjdXR0aW5nTGVuZ2h0ID0gTWF0aC5mbG9vcigkKHRoaXMpLnRleHQoKS5sZW5ndGggKiBtYXhIZWlnaHQgLyBjdXJySGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgICAgIG5ld1RleHQgPSAkKHRoaXMpLnRleHQoKS5zdWJzdHJpbmcoMCwgY3V0dGluZ0xlbmdodCAtIDUpO1xyXG4gICAgICAgICAgICAgICAgICAgLy8gY3V0TGFzdFN5bWJvbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgJCh0aGlzKS50ZXh0KChuZXdUZXh0KSArICcuLi4nKTtcclxuICAgICAgICAgICAgICAgICAgIG1heEhlaWdodCA9IDA7XHJcbiAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICB9XHJcbiAgICAgICB9KTtcclxuICAgICAgIC8vXHJcbiAgICAgICAvLyBmdW5jdGlvbiBjdXRMYXN0U3ltYm9sKCkge1xyXG4gICAgICAgLy8gICAgIHZhciBzdHJMZW5ndGggPSBuZXdUZXh0Lmxlbmd0aDtcclxuICAgICAgIC8vICAgICBpZihuZXdUZXh0LmNoYXJBdChzdHJMZW5ndGggLSAxKSA9PSAnICcpe1xyXG4gICAgICAgLy8gICAgICAgICBuZXdUZXh0PSBuZXdUZXh0LnN1YnN0cmluZygwLCBzdHJMZW5ndGggLSAxKTtcclxuICAgICAgIC8vICAgICB9ZWxzZXtcclxuICAgICAgIC8vICAgICAgICAgbmV3VGV4dCA9IG5ld1RleHQuc3Vic3RyaW5nKDAsIHN0ckxlbmd0aCAtIDEpO1xyXG4gICAgICAgLy8gICAgICAgICBzZXRUaW1lb3V0KGN1dExhc3RTeW1ib2wpXHJcbiAgICAgICAvLyAgICAgfVxyXG4gICAgICAgLy8gfVxyXG4gICBcclxuICAgfTtcclxuICAgXHJcbiAgIFxyXG4gICBpZiAoJChcImRpdlwiKS5pcyhcIi5qcy1uZXdzLWN1dFwiKSkge1xyXG4gICAgICAgJChcIi5qcy1uZXdzLWN1dFwiKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICBzZWxmLmN1dE5ld3MoJCh0aGlzKSk7XHJcbiAgICAgICB9KTtcclxuICAgXHJcbiAgIFxyXG4gICAgICAgZG9jV2luZG93LnJlc2l6ZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgJChcIi5qcy1uZXdzLWN1dFwiKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgc2VsZi5jdXROZXdzKCQodGhpcykpO1xyXG4gICAgICAgICAgIH0pO1xyXG4gICAgICAgfSk7XHJcbiAgIH1cclxuICAgXHJcbiAgIFxyXG4gICB0aGlzLmN1dFJlYWRNb3JlU2xpZGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgdmFyIGN1dHRpbmdzID0gJChcIi5ndC1yZWFkLW1vcmUtc2xpZGVyLXRleHQtaW5uZXJcIik7XHJcbiAgICAgICBjdXR0aW5ncy5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICBzZWxmLmN1dHRpbmcoJCh0aGlzKSwgMTYwKTtcclxuICAgICAgIH0pO1xyXG4gICB9O1xyXG4gICBcclxuICAgdGhpcy5jdXR0aW5nID0gZnVuY3Rpb24gKGVsLCBudW0pIHtcclxuICAgICAgIHZhciBuZXdzVGV4dCA9IGVsLnRleHQoKTtcclxuICAgICAgIGlmIChuZXdzVGV4dC5sZW5ndGggPiBudW0pIHtcclxuICAgICAgICAgICBuZXdzVGV4dCA9IG5ld3NUZXh0LnNsaWNlKDAsIG51bSkgKyBcIi4uLlwiO1xyXG4gICAgICAgICAgIGVsLnRleHQobmV3c1RleHQpO1xyXG4gICAgICAgfVxyXG4gICB9O1xyXG4gICBcclxuICAgXHJcbiAgIGlmICgkKFwicFwiKS5pcyhcIi5ndC1yZWFkLW1vcmUtc2xpZGVyLXRleHQtaW5uZXJcIikpIHtcclxuICAgICAgIHNlbGYuY3V0UmVhZE1vcmVTbGlkZXIoKTtcclxuICAgfVxyXG5cclxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuICAgIGRvYy5yZWFkeShmdW5jdGlvbiAoKSB7XHJcbiAgICBcclxuICAgICAgICBzZWxmLmZvb3RlckhlaWdodCgpOy8vX2Zvb3Rlcl9oZWlnaHQuanNcclxuICAgICAgICBzZWxmLmRlc2tUb3BNZW51U2Nyb2xsKCk7Ly9fZGVzY3RvcF9oZWFkZXJfZnVuYy5qc1xyXG4gICAgXHJcbiAgICBcclxuICAgIH0pO1xyXG4gICAgdGhpcy5wYWdlVXAgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJCgnaHRtbCwgYm9keScpLmFuaW1hdGUoe3Njcm9sbFRvcDogMH0sIDgwMCk7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgdGhpcy51cFBhZ2VCdXR0b24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKCQoZG9jdW1lbnQpLnNjcm9sbFRvcCgpID4gMzApIHtcclxuICAgICAgICAgICAgdXBCdXR0b24uYWRkQ2xhc3MoXCJndC12aXNpYmxlXCIpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHVwQnV0dG9uLnJlbW92ZUNsYXNzKFwiZ3QtdmlzaWJsZVwiKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICBcclxuICAgIHVwQnV0dG9uLm9uKFwiY2xpY2tcIiwgc2VsZi5wYWdlVXApO1xyXG4gICAgXHJcbiAgICBkb2NXaW5kb3cuc2Nyb2xsKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBzZWxmLnVwUGFnZUJ1dHRvbigpOy8vX3VwX2J1dHRvbi5qc1xyXG4gICAgICAgIGlmICgkKFwiLmd0LWhlYWRlci1tZW51XCIpLmlzKFwiOnZpc2libGVcIikpIHtcclxuICAgICAgICAgICAgc2VsZi5kZXNrVG9wTWVudVNjcm9sbCgpOy8vX2Rlc2N0b3BfaGVhZGVyX2Z1bmMuanNcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgIGRvY1dpbmRvdy5yZXNpemUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHNlbGYuZGVza1RvcE1lbnVTY3JvbGwoKTtcclxuICAgICAgICBzZWxmLmZvb3RlckhlaWdodCgpO1xyXG4gICAgXHJcbiAgICAgICAgaWYgKGd0SGVhZGVyLmhhc0NsYXNzKFwiZ3Qtb3BlblwiKSkgc2VsZi5tb2JpbGVNZW51Q2xvc2UoKTtcclxuICAgIFxyXG4gICAgICAgIGlmICgkKFwiZGl2XCIpLmlzKFwiLmd0LWltZy1ob2xkZXItYWJzXCIpKSB7XHJcbiAgICAgICAgICAgICQoXCIuZ3QtaW1nLWhvbGRlci1hYnNcIikuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKFwiZ3Qtd2lkdGhcIik7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKFwiZ3QtaGVpZ2h0XCIpO1xyXG4gICAgICAgICAgICAgICAgc2VsZi5pbWdIb2xkZXJGdW5jKCQodGhpcykpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgICQod2luZG93KS5vbignbG9hZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoJChcImRpdlwiKS5pcyhcIi5ndC1pbWctaG9sZGVyLWFic1wiKSkge1xyXG4gICAgICAgICAgICAkKFwiLmd0LWltZy1ob2xkZXItYWJzXCIpLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5pbWdIb2xkZXJGdW5jKCQodGhpcykpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBib2R5Lm9uKCdjbGljaycsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGV2ZW50LnRhcmdldCk7XHJcbiAgICBcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICBcclxuICAgIGlmICgkKFwiKlwiKS5pcyhcIi5ndC1tZW51LW5ld3NcIikpIHtcclxuICAgICAgJCgnLmd0LW1lbnUtbmV3cycpLmZpbmQoJ2EnKS5vbignY2xpY2snLGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgXHJcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgJCgnLmd0LW1lbnUtbmV3cycpLmZpbmQoJ2xpJykucmVtb3ZlQ2xhc3MoJ2d0LWFjdGl2ZScpO1xyXG4gICAgICAgICAgJCh0aGlzKS5wYXJlbnQoKS5hZGRDbGFzcygnZ3QtYWN0aXZlJyk7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZygndGVtcCBmdW5jJylcclxuICAgICAgfSlcclxuICAgIFxyXG4gICAgICAgIC8vIHRvZG8gdGVtcCBmdW5jXHJcbiAgICB9XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG59O1xyXG4kKGRvY3VtZW50KS5yZWFkeShcclxuXHJcbiAgICBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGdvVG9UcmlwID0gbmV3IEdvVG9UcmlwKCk7XHJcbiAgICB9XHJcbik7Il19
